!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="./",t(t.s="./src/widget-loader/index.ts")}({"./node_modules/process/browser.js":function(e,n){var t,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{i="function"==typeof clearTimeout?clearTimeout:u}catch(e){i=u}}();var s,a=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?a=s.concat(a):d=-1,a.length&&p())}function p(){if(!l){var e=c(f);l=!0;for(var n=a.length;n;){for(s=a,a=[];++d<n;)s&&s[d].run();d=-1,n=a.length}s=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(n){try{return i.call(null,e)}catch(n){return i.call(this,e)}}}(e)}}function v(e,n){this.fun=e,this.array=n}function h(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];a.push(new v(e,n)),1!==a.length||l||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/promise-polyfill/src/finally.js":function(e,n,t){"use strict";n.a=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}},"./node_modules/promise-polyfill/src/index.js":function(e,n,t){"use strict";(function(e){var i=t("./node_modules/promise-polyfill/src/finally.js"),o=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function u(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var i;try{i=t(e._value)}catch(e){return void l(n.promise,e)}a(n.promise,i)}else(1===e._state?a:l)(n.promise,e._value)})):e._deferreds.push(n)}function a(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof c)return e._state=3,e._value=n,void d(e);if("function"==typeof t)return void f((i=t,o=n,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=n,d(e)}catch(n){l(e,n)}var i,o}function l(e,n){e._state=2,e._value=n,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&c._immediateFn(function(){e._handled||c._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)s(e,e._deferreds[n]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,a(n,e))},function(e){t||(t=!0,l(n,e))})}catch(e){if(t)return;t=!0,l(n,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var t=new this.constructor(u);return s(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(e,n,t)),t},c.prototype.finally=i.a,c.all=function(e){return new c(function(n,t){if(!r(e))return t(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);var o=i.length;function u(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var c=r.then;if("function"==typeof c)return void c.call(r,function(n){u(e,n)},t)}i[e]=r,0==--o&&n(i)}catch(e){t(e)}}for(var c=0;c<i.length;c++)u(c,i[c])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(n){n(e)})},c.reject=function(e){return new c(function(n,t){t(e)})},c.race=function(e){return new c(function(n,t){if(!r(e))return t(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)c.resolve(e[i]).then(n,t)})},c._immediateFn="function"==typeof e&&function(n){e(n)}||function(e){o(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},n.a=c}).call(n,t("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/promise-polyfill/src/polyfill.js":function(e,n,t){"use strict";(function(e){var n=t("./node_modules/promise-polyfill/src/index.js"),i=t("./node_modules/promise-polyfill/src/finally.js"),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=i.a):o.Promise=n.a}).call(n,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/setimmediate/setImmediate.js":function(e,n,t){(function(e,n){!function(e,t){"use strict";if(!e.setImmediate){var i,o,r,u,c,s=1,a={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){n.nextTick(function(){v(e)})}:!function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){v(e.data)},i=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(e){var n=d.createElement("script");n.onreadystatechange=function(){v(e),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):i=function(e){setTimeout(v,0,e)}:(u="setImmediate$"+Math.random()+"$",c=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(u)&&v(+n.data.slice(u.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),i=function(n){e.postMessage(u+n,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),t=0;t<n.length;t++)n[t]=arguments[t+1];var o={callback:e,args:n};return a[s]=o,i(s),s++},f.clearImmediate=p}function p(e){delete a[e]}function v(e){if(l)setTimeout(v,0,e);else{var n=a[e];if(n){l=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(n,t("./node_modules/webpack/buildin/global.js"),t("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,n,t){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,n){this._id=e,this._clearFn=n}n.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},n.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},n.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},t("./node_modules/setimmediate/setImmediate.js"),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(n,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/unfetch/polyfill/index.js":function(e,n){self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,i){var o=new XMLHttpRequest,r=[],u=[],c={},s=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return u},get:function(e){return c[e.toLowerCase()]},has:function(e){return e.toLowerCase()in c}}}};for(var a in o.open(n.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,n,t){r.push(n=n.toLowerCase()),u.push([n,t]),c[n]=c[n]?c[n]+","+t:t}),t(s())},o.onerror=i,o.withCredentials="include"==n.credentials,n.headers)o.setRequestHeader(a,n.headers[a]);o.send(n.body||null)})})},"./node_modules/webpack/buildin/global.js":function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./src/event-emitter/actions/index.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i="onload-services"},"./src/event-emitter/actions/init.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(e){return e.envSettings.SITE.ID=e.livetexId,{type:"init-widget",payload:e}}},"./src/event-emitter/index.ts":function(e,n,t){"use strict";var i;t.d(n,"a",function(){return i}),function(e){var n,t,i=new Map;e.init=function(e,o,r){n=o,t=r,e.window.addEventListener("message",function(e){var n=e.data,o=n.type,r=n.payload,u=i.get(o);u&&(t("listen",o,r),u.forEach(function(e){e(r)}))})},e.listenEvent=function(e,n){return new Promise(function(t){var o=i.get(e)||new Set;o.add(n||t),i.set(e,o)})},e.removeListener=function(e,n){var t=i.get(e);t.delete(n),i.set(e,t)},e.publishEvent=function(e,i){if(n){var o=n.window,r=n.link;o.postMessage({type:e,payload:i},r),t("publish",e,i)}},e.publishPendingEvent=function(n,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return new Promise(function(o){e.publishEvent.apply(void 0,[n].concat(i)),e.listenEvent(t).then(o)}).catch(function(e){})}}(i||(i={}))},"./src/event-emitter/logger.ts":function(e,n,t){"use strict";var i,o;t.d(n,"a",function(){return o}),t.d(n,"b",function(){return r}),function(e){e[e.PARENT=0]="PARENT",e[e.CHILD=1]="CHILD"}(o||(o={}));(i={}).listen="#019c2b",i.publish="#0372c1";var r=function(e,n){return function(e,n,t){0}}},"./src/service/api/events.ts":function(e,n,t){"use strict";t.d(n,"D",function(){return i}),t.d(n,"L",function(){return o}),t.d(n,"C",function(){return r}),t.d(n,"E",function(){return u}),t.d(n,"F",function(){return c}),t.d(n,"B",function(){return s}),t.d(n,"z",function(){return a}),t.d(n,"Q",function(){return l}),t.d(n,"R",function(){return d}),t.d(n,"u",function(){return f}),t.d(n,"h",function(){return p}),t.d(n,"i",function(){return v}),t.d(n,"k",function(){return h}),t.d(n,"N",function(){return w}),t.d(n,"S",function(){return m}),t.d(n,"t",function(){return y}),t.d(n,"W",function(){return g}),t.d(n,"O",function(){return b}),t.d(n,"P",function(){return T}),t.d(n,"U",function(){return E}),t.d(n,"l",function(){return L}),t.d(n,"f",function(){return x}),t.d(n,"g",function(){return _}),t.d(n,"T",function(){return I}),t.d(n,"M",function(){return j}),t.d(n,"X",function(){return S}),t.d(n,"Y",function(){return P}),t.d(n,"V",function(){return D}),t.d(n,"m",function(){return k}),t.d(n,"n",function(){return C}),t.d(n,"j",function(){return O}),t.d(n,"b",function(){return A}),t.d(n,"c",function(){return R}),t.d(n,"d",function(){return W}),t.d(n,"e",function(){return F}),t.d(n,"o",function(){return M}),t.d(n,"p",function(){return N}),t.d(n,"q",function(){return X}),t.d(n,"r",function(){return B}),t.d(n,"J",function(){return H}),t.d(n,"K",function(){return G}),t.d(n,"A",function(){return U}),t.d(n,"G",function(){return q}),t.d(n,"H",function(){return K}),t.d(n,"s",function(){return V}),t.d(n,"a",function(){return Y}),t.d(n,"x",function(){return J}),t.d(n,"y",function(){return Q}),t.d(n,"I",function(){return $}),t.d(n,"v",function(){return z}),t.d(n,"w",function(){return Z});var i="client-api-set-events",o="client-api-set-widget-type",r="client-api-set-employee-status",u="client-api-set-source",c="client-api-set-source-type",s="client-api-set-conversation-attribute-type",a="client-api-set-contact-type",l="client-api-show-invitation-window",d="client-api-show-invitation-window-onload",f={SEND:"reinit-send",ONLOAD:"reinit-onload"},p="client-api-hide-active-window",v="client-api-hide-chat-label",h="client-api-hide-label",w="client-api-show-chat-label",m="client-api-show-label",y="client-api-open-welcome-window",g="client-api-show-welcome-window",b="client-api-show-conversation-window",T="client-api-show-conversation-window-onload",E="client-api-show-offline-window",L="client-api-show-x-button",x="client-api-get-employees",_="client-api-get-employees-complete",I="client-api-show-offline-departments",j="client-api-show-call-request-departments",S="client-api-show-x-window",P="client-api-show-x-window-onload",D="client-api-show-vk-button",k="client-api-initiate-call",C="client-api-initiate-call-onload",O="client-api-hide-invitation-window",A="client-api-get-departments",R="client-api-get-departments-onload",W="client-api-get-department-status",F="client-api-get-department-status-onload",M="client-api-is-department-available",N="client-api-is-department-available-onload",X="client-api-is-department-online",B="client-api-is-department-online-onload",H="client-api-set-welcome-departments",G="client-api-set-welcome-departments-onload",U="client-api-set-conversation-attributes",q="client-api-set-visitor-attributes",K="client-api-set-visitor-attributes-onload",V="client-api-on-livetex-ready",Y="client-api-change-state",J="client-api-set-attributes",Q="client-api-set-attributes-onload",$="client-api-set-visitor-id",z="client-api-send-analytics-ga",Z="client-api-send-analytics-ya"},"./src/service/api/index.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var i=t("./src/service/api/events.ts"),o=t("./src/util/debugPerfomance.ts"),r=function(e){window.LiveTex=window.LiveTex?window.LiveTex:{},e.listenEvent(i.s).then(function(n){"undefined"!=typeof LiveTex&&"function"==typeof LiveTex.onLiveTexReady&&LiveTex.onLiveTexReady.call(LiveTex);var t=n[0],i=t.debugEndpoint,r=t.id;if(i){if(n.length>1){var u=n[0],c=u.userLang,s=u.userAgent,a=u.city_name,l=u.country_code,d=u.country_name,f=Object(o.a)("main",performance.getEntries()),p=[{userLang:c,userAgent:s,loadingProcessDuration:Date.now()-window.ltWidgetLoadStart,country_code:l,country_name:d,city_name:a}].concat(n.slice(1),f);fetch("https://"+i+"/store",{method:"POST",body:JSON.stringify({correlationId:r,data:JSON.stringify(p)}),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){})}e.publishEvent("DEBUG_X-WIDGET",{debugEndpoint:i,id:r})}}),e.listenEvent(i.D).then(function(e){window.LiveTex.Event=e}),e.listenEvent(i.L).then(function(e){window.LiveTex.WidgetType=e}),e.listenEvent(i.C).then(function(e){window.LiveTex.EmployeeStatus=e}),e.listenEvent(i.E).then(function(e){window.LiveTex.Source=e}),e.listenEvent(i.F).then(function(e){window.LiveTex.SourceType=e}),e.listenEvent(i.B).then(function(e){window.LiveTex.ConversationAttributeType=e}),e.listenEvent(i.z).then(function(e){window.LiveTex.ContactType=e}),window.LiveTex.reinit=function(n,t){void 0===n&&(n=function(){}),void 0===t&&(t=function(){}),e.publishPendingEvent(i.u.SEND,i.u.ONLOAD).then(function(e){e?n():t()})},window.LiveTex.showInvitationWindow=function(n,t,o,r,u){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e}),void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e}),e.publishPendingEvent(i.Q,i.R,{employeeId:o,departmentId:r,message:u}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})},window.LiveTex.hideActiveWindow=function(){e.publishEvent(i.h)},window.LiveTex.hideChatLabel=function(){e.publishEvent(i.i)},window.LiveTex.hideLabel=function(){e.publishEvent(i.k)},window.LiveTex.showChatLabel=function(){e.publishEvent(i.N)},window.LiveTex.showLabel=function(){e.publishEvent(i.S)},window.LiveTex.openWelcomeWindow=function(){e.publishEvent(i.t)},window.LiveTex.showWelcomeWindow=function(){e.publishEvent(i.W)},window.LiveTex.showConversationWindow=function(n,t,o,r,u){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.O,i.P,{employeeId:o,departmentId:r,message:u}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})},window.LiveTex.showOfflineWindow=function(n){e.publishEvent(i.U,{routeQuery:n})},window.LiveTex.hideXButton=function(){e.publishEvent(i.l)},window.LiveTex.getEmployees=function(n,t,o){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.f,i.g,{filter:o}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})},window.LiveTex.showOfflineDepartments=function(n){e.publishEvent(i.T,{groups:n})},window.LiveTex.showCallRequestDepartments=function(n){e.publishEvent(i.M,{groups:n})},window.LiveTex.showXWindow=function(n,t,o,r,u,c){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.X,i.Y,{schedule:o,employeeIds:r,message:u,phone:c}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})},window.LiveTex.showVKButton=function(){e.publishEvent(i.V)},window.LiveTex.initiateCall=function(n,t,o,r,u){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.m,i.n,{phone:o,employeeId:r,departmentId:u}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})};var n=null;e.listenEvent(i.a,function(e){n=e}),window.LiveTex.isInvitationShown=function(){return"DataInvite"===n},window.LiveTex.isChatHappening=function(){return"Dialog"===n},window.LiveTex.hideInvitationWindow=function(){e.publishEvent(i.j)},window.LiveTex.getDepartments=function(n){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.b,i.c).then(function(e){return n.apply(void 0,e)})},window.LiveTex.getDepartmentStatus=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.d,i.e,{departmentId:n}).then(function(e){return t.apply(void 0,e)})},window.LiveTex.isDepartmentAvailable=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.o,i.p,{departmentId:n}).then(function(e){return t.apply(void 0,e)})},window.LiveTex.isDepartmentOnline=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.q,i.r,{departmentId:n}).then(function(e){return t.apply(void 0,e)})},window.LiveTex.setWelcomeDepartments=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.J,i.K,{departmentIds:n}).then(function(e){return t.apply(void 0,e)})},window.LiveTex.setConversationAttributes=function(n,t){e.publishEvent(i.A,{visible:n,hidden:t})},window.LiveTex.setVisitorAttributes=function(n,t,o){void 0===n&&(n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.G,i.H,{attributes:o}).then(function(e){var i=e[0],o=e.slice(1);i?n.apply(void 0,o):t.apply(void 0,o)})},window.LiveTex.addEventListener=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.listenEvent(n,function(e){return t({event:n,data:e})})},window.LiveTex.removeEventListener=function(n,t){void 0===t&&(t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.removeListener(n,t)},window.LiveTex.setAttributes=function(n,t,o,r,u){void 0===r&&(r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),void 0===u&&(u=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}),e.publishPendingEvent(i.x,i.y,{personId:n,attributes:t,hash:o}).then(function(e){var n=e[0],t=e.slice(1);n?r.apply(void 0,t):u.apply(void 0,t)})};var t=null;function r(e){return window[e]&&"function"==typeof window[e]?window[e]:null}e.listenEvent(i.I).then(function(e){t=e}),window.LiveTex.getLiveTexId=function(){return t},e.listenEvent(i.v,function(e){var n,t,i;n=e,t=r("gtag"),i=r("ga"),null!==t?t("event",n,{event_category:"LiveTex"}):null!==i&&i("send","event","LiveTex",n)}),e.listenEvent(i.w,function(e){var n,t;n=e,null!==(t=function(){for(var e=Object.keys(window),n=0;n<e.length;n++)if(0===e[n].indexOf("yaCounter")){var t=window[e[n]];if(t.reachGoal&&"function"==typeof t.reachGoal)return t}return null}())&&t.reachGoal(n)})}},"./src/util/debugPerfomance.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(e,n){return n.filter(function(e){return"paint"===e.entryType||"navigation"!==e.initiatorType}).map(function(n){if(n.initiatorType){var t=n.name,i=n.initiatorType,o=n.duration,r=n.connectStart,u=n.connectEnd,c=n.domainLookupStart,s=n.domainLookupEnd,a=n.redirectStart,l=n.redirectEnd,d=n.startTime,f=n.fetchStart,p=n.requestStart,v=n.responseStart,h=n.responseEnd,w=t.substring(0,-1===t.indexOf("?")?t.length:t.indexOf("?"));return{process:e,name:w,initiatorType:i,duration:o,connectStart:r,connectEnd:u,domainLookupStart:c,domainLookupEnd:s,redirectStart:a,redirectEnd:l,startTime:d,fetchStart:f,requestStart:p,responseStart:v,responseEnd:h}}if("paint"===n.entryType){var m=n.name,y=n.entryType;o=n.duration,d=n.startTime;return{process:e,name:m,entryType:y,duration:o,startTime:d}}})}},"./src/widget-loader/global-vars.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var i=window.LiveTex.envSettings;var o=function(){return i&&i.WIDGETS_API&&(i.WIDGETS_API.KEY="widgets-api-service2-app.thrift-http"),{envSettings:i,livetexId:window.liveTexID,skipBrowserCheck:window.ltSkipBrowserCheck||!1,needLkCss:window.need_lk_css,isDirect:window.isDirect,ltLang:window.ltLang,isDebug:!1}}},"./src/widget-loader/index.ts":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./src/widget-loader/global-vars.ts"),o=(t("./src/widget-loader/main.ts"),Object(i.a)());t.p=o.envSettings.LTX_URL+"/js/"},"./src/widget-loader/invitation.ts":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=function(e){var n={},t=document.body;e.listenEvent("add-mousemove-event",function(i){n[i]=function(n){e.publishEvent("on-mousemove-event-"+i,{x:n.clientX,y:n.clientY})},t.addEventListener("mousemove",n[i])}),e.listenEvent("remove-mousemove-event",function(e){t.removeEventListener("mousemove",n[e])})}},"./src/widget-loader/main.ts":function(e,n,t){"use strict";t("./node_modules/promise-polyfill/src/polyfill.js");var i=t("./node_modules/unfetch/polyfill/index.js"),o=(t.n(i),t("./src/event-emitter/index.ts")),r=t("./src/event-emitter/actions/index.ts"),u=t("./src/event-emitter/actions/init.ts"),c=t("./src/widget-loader/utils.ts"),s=t("./src/widget-loader/global-vars.ts"),a=t("./src/event-emitter/logger.ts"),l=t("./src/service/api/index.ts"),d=t("./src/widget-loader/invitation.ts");LiveTex.version="7.1.669-1e7edcc";var f,p=Object(s.a)();p.isDebug&&(window.ltWidgetLoadStart=Date.now()),(f=p.envSettings.LTX_URL,fetch(f+"js/iframe.html",{method:"HEAD"}).then(function(e){if(!e.ok)throw new Error("HEAD request to iframe failed");return e})).catch(function(){p.envSettings.LTX_DIRECT_URL&&(p.envSettings.LTX_URL=p.envSettings.LTX_DIRECT_URL)}).then(function(){!function(e){var n=Object(c.a)(e+"js/iframe.html","livetex-services"),t=Object(c.b)(e+"js/ui.7.1.669-1e7edcc.js","livetex-ui"),i=Object(a.b)(a.a.PARENT,"loader");o.a.init({window:window,link:"*"},{window:n.contentWindow,link:"*"},i),Object(l.a)(o.a),Object(d.a)(o.a);var s=new Promise(function(e){t.onload=function(){e()}});Promise.all([(f=p.envSettings,v=f.BALANCER,h=f.WIDGETS_API,w=f.WIDGETS_API_APP,m=f.EVENT_SERVICE,y=v.replace(/^\/\//,"https://"),g=[h,w,m].filter(function(e){return e&&e.KEY}).map(function(e){return e.KEY}).join(","),b=y+"/services/?site_id="+p.livetexId+"&ids="+g+"&client=widget&version=7.1.669-1e7edcc",fetch(b).then(function(e){return e.json()}).then(null,function(e){throw new Error("Can't get service endpoints: "+e)})),s,o.a.listenEvent(r.a)]).then(function(e){var n=e[0],t=Object(u.a)({livetexId:p.livetexId,skipBrowserCheck:p.skipBrowserCheck,needLkCss:p.needLkCss,isDirect:p.isDirect,envSettings:p.envSettings,ltLang:p.ltLang,isDebug:p.isDebug,parentReferrer:document.referrer,parentTitle:document.title,parentHost:document.location.host,parentHref:location.href,i18n:LiveTex._i18n,servicesData:n}),i=t.type,r=t.payload;o.a.publishEvent(i,r)}).catch(function(e){});var f,v,h,w,m,y,g,b}(p.envSettings.LTX_URL)})},"./src/widget-loader/utils.ts":function(e,n,t){"use strict";n.a=function(e,n){var t=document.createElement("iframe");return t.id=n,t.src=e,t.style.display="none",t.name="target",document.body.appendChild(t),t},n.b=function(e,n){function t(){i.onreadystatechange=function(){},i.onload=function(){}}var i=document.createElement("script");return i.onreadystatechange=function(){"complete"!==i.readyState&&"loaded"!==i.readyState||t()},i.onload=t,i.id=n,i.src=e,i.defer=!0,document.body.appendChild(i),i}}});