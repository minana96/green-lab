(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{433:function(e,t,a){e.exports=a(953)},536:function(e,t){},814:function(e,t,a){},872:function(e,t,a){},949:function(e,t,a){},951:function(e,t,a){},953:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(61),r=a.n(o),s=a(49),l=a.n(s),d=a(5),c=a.n(d),m=a(15),u=a(40),p=a(9),v=a(10),g=a(2),h=a(11),f=a(12),k=a(3),b=a(14),y=a(418),x=a(420),N=a.n(x),S=a(421),w=a(46),_=a.n(w),E=a(160),F=a(8),C=a.n(F),T=a(6);var P=C()(Object(T.withStyles)(function(e){return{bannerWrapper:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},bannerContent:{width:"90%",position:"relative",border:"2px solid #000",boxShadow:e.shadows[5],borderRadius:"4px"},close:{position:"absolute",top:"0",right:"0",padding:"15px",zIndex:3},closeIcon:{cursor:"pointer",color:"#fff"}}}))(function(e){var t=e.children,a=e.classes,n=e.open,o=e.onClose;return i.a.createElement(E.Modal,{open:n},i.a.createElement("div",{className:a.bannerWrapper},i.a.createElement("div",{className:a.bannerContent},i.a.createElement("span",{className:a.close,onClick:o},i.a.createElement(E.Typography,{variant:"h5",className:a.closeIcon},"x")),t)))}),I=a(137),D="swimply::access_token",O="swimply::refresh_token",R="swimply::email",A="swimply::user_role",B="swimply::user_id",M="swimply::address",j="swimply::available_date",L="swimply::available_time_to",W="swimply::flexible_hours",z="swimply::instant_booking",U="swimply::adult_count",H="swimply::child_count",G="swimply::infant_count",Y="swimply::set_timer_min",q="swimply::set_timer_max",V="swimply::start_time",$="swimply::end_time",Q="swimply::pool_id",K="swimply::card_brand",J="swimply::card_last_four",Z="swimply::reset_password",X="swimply::back_btn_link",ee="swimply::payment_reason",te="swimply::host_pool_id",ae="swimply::host_pool_status",ne="swimply::end_price",ie={init:function(e){this.context=e},setAccessToken:function(e){localStorage.setItem(D,e)},getAccessToken:function(){return localStorage.getItem(D)},removeAccessToken:function(){localStorage.removeItem(D)},setRefreshToken:function(e){localStorage.setItem(O,e)},getRefreshToken:function(){return localStorage.getItem(O)},removeRefreshToken:function(){localStorage.removeItem(O)},setEmail:function(e){e&&localStorage.setItem(R,e)},getEmail:function(){return localStorage.getItem(R)},removeEmail:function(){localStorage.removeItem(R)},setAccessTokenForgotPassword:function(e){localStorage.setItem("swimply::access_token_forgot_password",e)},setVerificationGetStarted:function(e){localStorage.setItem("swimply::verification_get_started",e||"")},getVerificationGetStarted:function(){return localStorage.getItem("swimply::verification_get_started")||""},setReferralToken:function(e){sessionStorage.setItem("swimply::referral_token",e||"")},getReferralToken:function(){return sessionStorage.getItem("swimply::referral_token")||""},removeReferralToken:function(){sessionStorage.removeItem("swimply::referral_token")},getAccessTokenForgotPassword:function(){return localStorage.getItem("swimply::access_token_forgot_password")},removeAccessTokenForgotPassword:function(){localStorage.removeItem("swimply::access_token_forgot_password")},setUserRole:function(e){localStorage.setItem(A,e)},getUserRole:function(){return localStorage.getItem(A)},removeUserRole:function(){localStorage.removeItem(A)},setUserID:function(e){localStorage.setItem(B,e)},getUserID:function(){return localStorage.getItem(B)},removeUserID:function(){localStorage.removeItem(B)},setUserCountry:function(e){localStorage.setItem("swimply::user_country",e)},getUserCountry:function(){return localStorage.getItem("swimply::user_country")},setSwimmerCountry:function(e){localStorage.setItem("swimply::card_country",e)},getSwimmerCountry:function(){return localStorage.getItem("swimply::card_country")},setCurrentRegion:function(){var e=Object(m.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("swimply::current_region",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getCurrentRegion:function(){return sessionStorage.getItem("swimply::current_region")},setAddress:function(e){localStorage.setItem(M,e)},getAddress:function(){return localStorage.getItem(M)},removeAddress:function(){localStorage.removeItem(M)},setAvailableDate:function(e){localStorage.setItem(j,e)},checkAvailableDate:function(){return localStorage.getItem(j)},getAvailableDate:function(){var e=new Date,t=localStorage.getItem(j);return t=new Date(t)<e?e.toString():t},removeAvailableDate:function(){localStorage.removeItem(j)},setAvailableTimeFrom:function(e){localStorage.setItem("swimply::available_time_from",e)},getAvailableTimeFrom:function(){return localStorage.getItem("swimply::available_time_from")},removeAvailableTimeFrom:function(){localStorage.removeItem("swimply::available_time_from")},setAvailableTimeTo:function(e){localStorage.setItem(L,e)},getAvailableTimeTo:function(){return localStorage.getItem(L)},removeAvailableTimeTo:function(){localStorage.removeItem(L)},setFlexibleHours:function(e){localStorage.setItem(W,e)},getFlexibleHours:function(){return localStorage.getItem(W)},removeFlexibleHours:function(){localStorage.removeItem(W)},setStartTime:function(e){localStorage.setItem(V,e)},getStartTime:function(){return localStorage.getItem(V)},removeStartTime:function(){localStorage.removeItem(V)},setEndTime:function(e){localStorage.setItem($,e)},getEndTime:function(){return localStorage.getItem($)},removeEndTime:function(){localStorage.removeItem($)},setInstantBooking:function(e){localStorage.setItem(z,e)},getInstantBooking:function(){return localStorage.getItem(z)},removeInstantBooking:function(){localStorage.removeItem(z)},setAdultCount:function(e){localStorage.setItem(U,e)},getAdultCount:function(){return localStorage.getItem(U)},removeAdultCount:function(){localStorage.removeItem(U)},setChildCount:function(e){localStorage.setItem(H,e)},getChildCount:function(){return localStorage.getItem(H)},removeChildCount:function(){localStorage.removeItem(H)},setInfantCount:function(e){localStorage.setItem(G,e)},getInfantCount:function(){return localStorage.getItem(G)},removeInfantCount:function(){localStorage.removeItem(G)},setTimerMin:function(e){localStorage.setItem(Y,e)},getTimerMin:function(){return localStorage.getItem(Y)},removeTimeMin:function(){localStorage.removeItem(Y)},setTimerMax:function(e){localStorage.setItem(q,e)},getTimerMax:function(){return localStorage.getItem(q)},removeTimeMax:function(){localStorage.removeItem(q)},setPoolId:function(e){localStorage.setItem(Q,e)},getPoolId:function(){return localStorage.getItem(Q)},removePoolId:function(){localStorage.removeItem(Q)},setLastPoolId:function(e){localStorage.setItem("swimply::last_pool_id",e)},getLastPoolId:function(){return localStorage.getItem("swimply::last_pool_id")},setCardBrand:function(e){localStorage.setItem(K,e)},getCardBrand:function(){return localStorage.getItem(K)},removeCardBrand:function(){localStorage.removeItem(K)},setCardLastFourDigit:function(e){localStorage.setItem(J,e)},getCardLastFourDigit:function(){return localStorage.getItem(J)},removeCardLastFourDigit:function(){localStorage.removeItem(J)},setResetPassword:function(e){localStorage.setItem(Z,e)},getResetPassword:function(){return localStorage.getItem(Z)},removeResetPassword:function(){localStorage.removeItem(Z)},setPoolBookingStatus:function(e){localStorage.setItem("swimply::pool_booking_status",e)},getPoolBookingStatus:function(){return localStorage.getItem("swimply::pool_booking_status")},removePoolBookingStatus:function(){localStorage.removeItem("swimply::pool_booking_status")},setMessageReceiverId:function(e){localStorage.setItem("swimply::message_receiver_id",e)},getMessageReceiverId:function(){return localStorage.getItem("swimply::message_receiver_id")},removeMessageReceiverId:function(){localStorage.removeItem("swimply::message_receiver_id")},setPaymentFromId:function(e){localStorage.setItem("swimply::payment_from_id",e)},getPaymentFromId:function(){return localStorage.getItem("swimply::payment_from_id")},removePaymentFromId:function(){localStorage.removeItem("swimply::payment_from_id")},setBackBtnLink:function(e){localStorage.setItem(X,e)},getBackBtnLink:function(){return localStorage.getItem(X)},removeBackBtnLink:function(){localStorage.removeItem(X)},setPaymentReason:function(e){localStorage.setItem(ee,e)},getPaymentReason:function(){return localStorage.getItem(ee)},removePaymentReason:function(){localStorage.removeItem(ee)},setReferralId:function(e){localStorage.setItem("swimply::referral_id",e)},getReferralId:function(){return localStorage.getItem("swimply::referral_id")},removeReferralId:function(){localStorage.removeItem("swimply::referral_id")},setReferralIdStatus:function(e){localStorage.setItem("swimply::referral_id_status",e)},getReferralIdStatus:function(){return localStorage.getItem("swimply::referral_id_status")},removeReferralIdStatus:function(){localStorage.removeItem("swimply::referral_id_status")},setPoolSearchPage:function(e){localStorage.setItem("swimply::search_pool_page",e)},getPoolSearchPage:function(){return+localStorage.getItem("swimply::search_pool_page")},setHostPoolID:function(e){localStorage.setItem(te,e)},getHostPoolID:function(){return localStorage.getItem(te)},removeHostPoolID:function(){localStorage.removeItem(te)},setCreatePoolTime:function(e){localStorage.setItem("swimply::host_pool_creation_time_start",e)},getCreatePoolTime:function(){return localStorage.getItem("swimply::host_pool_creation_time_start")},removeCreatePoolTime:function(){localStorage.removeItem("swimply::host_pool_creation_time_start")},setCreatePoolIDEvent:function(e){localStorage.setItem("swimply::create_host_pool_id",e)},getCreatePoolIDEvent:function(){return localStorage.getItem("swimply::create_host_pool_id")},removeCreatePoolIDEvent:function(){localStorage.removeItem("swimply::create_host_pool_id")},setEditPoolStatus:function(e){localStorage.setItem("swimply::host_pool_status",e)},getEditPoolStatus:function(){return localStorage.getItem("swimply::host_pool_status")},removeEditPoolStatus:function(){localStorage.removeItem("swimply::host_pool_status")},setReviewType:function(e){localStorage.setItem(ae,e)},getReviewType:function(){return localStorage.getItem(ae)},removeReviewType:function(){localStorage.removeItem(ae)},setVerifyEmailId:function(e){localStorage.setItem("swimply::verify_email_id",e)},getVerifyEmailId:function(){return localStorage.getItem("swimply::verify_email_id")},removeVerifyEmailId:function(){localStorage.removeItem("swimply::verify_email_id")},setPreviousUrl:function(e){localStorage.setItem("swimply::previous_url",e)},getPreviousUrl:function(){return localStorage.getItem("swimply::previous_url")},removePreviousUrl:function(){localStorage.removeItem("swimply::previous_url")},setIsPreviousUrl:function(e){localStorage.setItem("swimply::is_previous_url",e)},getIsPreviousUrl:function(){return localStorage.getItem("swimply::is_previous_url")},removeIsPreviousUrl:function(){localStorage.removeItem("swimply::is_previous_url")},setPreviousSearchUrl:function(e){localStorage.setItem("swimply::previous_search_url",e)},getPreviousSearchUrl:function(){return localStorage.getItem("swimply::previous_search_url")},removePreviousSearchUrl:function(){localStorage.removeItem("swimply::previous_search_url")},setStartTutorial:function(e){localStorage.setItem("swimply::start_tutorial",e)},getStartTutorial:function(){return localStorage.getItem("swimply::start_tutorial")},removeStartTutorial:function(){localStorage.removeItem("swimply::start_tutorial")},setStartPrice:function(e){localStorage.setItem("swimply::start_price",e)},setEndPrice:function(e){localStorage.setItem(ne,e)},setAmenities:function(e){localStorage.setItem("swimply::filtering_amenities",e)},getStartPrice:function(){var e=localStorage.getItem("swimply::start_price");return e?parseInt(e,10):null},getEndPrice:function(){var e=localStorage.getItem(ne);return e?parseInt(e,10):null},getAmenities:function(){var e=localStorage.getItem("swimply::filtering_amenities");return e&&(e=e.split(",")),e},removeStartPrice:function(){localStorage.removeItem("swimply::start_price")},removeEndPrice:function(){localStorage.removeItem(ne)},removeAmenities:function(){localStorage.removeItem("swimply::filtering_amenities")},setHostDataIncomplete:function(){localStorage.setItem("swimply::host_incomplete",!0)},getHostDataIncomplete:function(){return localStorage.getItem("swimply::host_incomplete")},removeHostDataIncomplete:function(){localStorage.removeItem("swimply::host_incomplete")},setChatsList:function(e){e=JSON.stringify(e),localStorage.setItem("swimply::presaved_chats",e)},getChatsList:function(){return JSON.parse(localStorage.getItem("swimply::presaved_chats"))||[]},setLatestChats:function(e){e=JSON.stringify(e),localStorage.setItem("swimply::latest_chats",e)},getLatestChats:function(){return JSON.parse(localStorage.getItem("swimply::latest_chats"))||[]},logout:function(){localStorage.removeItem(D),localStorage.removeItem(O),localStorage.removeItem(B),localStorage.removeItem(A),localStorage.getItem("swimply::access_token_forgot_password"),localStorage.removeItem("popupShowed"),localStorage.removeItem("swimply::email"),localStorage.removeItem(M),localStorage.removeItem(j),localStorage.removeItem("swimply::available_time_from"),localStorage.removeItem(L),localStorage.removeItem(W),localStorage.removeItem(z),localStorage.removeItem(U),localStorage.removeItem(H),localStorage.removeItem(G),localStorage.removeItem(V),localStorage.removeItem($),localStorage.removeItem(Y),localStorage.removeItem(q),localStorage.removeItem(Q),localStorage.removeItem(K),localStorage.removeItem(J),localStorage.removeItem(Z),localStorage.removeItem("swimply::pool_booking_status"),localStorage.removeItem("swimply::message_receiver_id"),localStorage.removeItem(X),localStorage.removeItem(ee),localStorage.removeItem("searched_zip_codes"),localStorage.removeItem("swimply::presaved_chats"),localStorage.removeItem("swimply::latest_chats"),localStorage.removeItem(te),localStorage.removeItem(ae),localStorage.removeItem("swimply::host_incomplete"),localStorage.removeItem("swimply::verification_get_started"),this.context&&this.context.echo&&this.context.echo.leave("chat.".concat(this.context.user.id))},logoutAndSetPreviousUrl:function(e,t){this.logout(),this.setPreviousUrl(t.pathname),this.setPreviousSearchUrl(t.search),this.setIsPreviousUrl("yes"),e.push("/")}},oe=a(431),re=a(424),se=a(432),le=!window.location.pathname.match(/\/au($|\/)/),de=le?"https://admin.us.swimply.com/":"https://admin.swimply.com/",ce=le?"pk_live_xsO78bHrbwKCH5sNdZhnBDLl":"pk_live_dfWn7S7JTBm6XaNfwnsNfxkg0086cNOLKa",me=window.location.hostname.match(/.*shvimply.*/),ue=le?"https://io.us.swimply.com":"https://io.swimply.com",pe="../img/shvimplyImages/header_img.jpeg",ve=me?"../img/shvimplyImages/become_a_host.jpg":"../img/listpool_banner.jpg",ge="".concat(window.location.origin,me?"/img/shvimplyImages/not_just_a_pool.png":"/img/assest.png"),he="".concat(window.location.origin,me?"/img/shvimplyImages/shvimply_logo_blue.png":"/img/Swimply-logo-blue.png"),fe=[{time:"7AM",displayFormattedTime:"7:00 AM",displayTime:"7 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"07:00:00",timeNumber:7},{time:"8AM",displayFormattedTime:"8:00 AM",displayTime:"8 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"08:00:00",timeNumber:8},{time:"9AM",displayFormattedTime:"9:00 AM",displayTime:"9 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"09:00:00",timeNumber:9},{time:"10AM",displayFormattedTime:"10:00 AM",displayTime:"10 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"10:00:00",timeNumber:10},{time:"11AM",displayFormattedTime:"11:00 AM",displayTime:"11 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"11:00:00",timeNumber:11},{time:"12PM",displayFormattedTime:"12:00 PM",displayTime:"12 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"12:00:00",timeNumber:12},{time:"1PM",displayFormattedTime:"1:00 PM",displayTime:"1 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"13:00:00",timeNumber:13},{time:"2PM",displayFormattedTime:"2:00 PM",displayTime:"2 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"14:00:00",timeNumber:14},{time:"3PM",displayFormattedTime:"3:00 PM",displayTime:"3 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"15:00:00",timeNumber:15},{time:"4PM",displayFormattedTime:"4:00 PM",displayTime:"4 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"16:00:00",timeNumber:16},{time:"5PM",displayFormattedTime:"5:00 PM",displayTime:"5 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"17:00:00",timeNumber:17},{time:"6PM",displayFormattedTime:"6:00 PM",displayTime:"6 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"18:00:00",timeNumber:18},{time:"7PM",displayFormattedTime:"7:00 PM",displayTime:"7 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"19:00:00",timeNumber:19},{time:"8PM",displayFormattedTime:"8:00 PM",displayTime:"8 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"20:00:00",timeNumber:20},{time:"9PM",displayFormattedTime:"9:00 PM",displayTime:"9 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"21:00:00",timeNumber:21},{time:"10PM",displayFormattedTime:"10:00 PM",displayTime:"10 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"22:00:00",timeNumber:22},{time:"11PM",displayFormattedTime:"11:00 PM",displayTime:"11 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"23:00:00",timeNumber:23},{time:"12AM",displayFormattedTime:"12:00 AM",displayTime:"12 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"00:00:00",timeNumber:24}],ke=[{day:"SU",active:!1,day_name:"Sun",day_number:0},{day:"M",active:!1,day_name:"Mon",day_number:1},{day:"T",active:!1,day_name:"Tue",day_number:2},{day:"W",active:!1,day_name:"Wed",day_number:3},{day:"TH",active:!1,day_name:"Thu",day_number:4},{day:"F",active:!1,day_name:"Fri",day_number:5},{day:"SA",active:!1,day_name:"Sat",day_number:6}],be=Object(oe.a)({uri:"".concat(de,"/graphql")||""}),ye=Object(re.a)(function(e,t){t.headers;return{headers:{authorization:"Bearer ".concat(ie.getAccessToken())}}}),xe=new I.a({credentials:"include",link:ye.concat(be),cache:new se.a}),Ne=a(961),Se=a(963),we=a(205),_e={background:"#eef1f4",palette:{primary:{main:"#00ade2"},success:{main:a.n(we).a[500]},common:{black:"#232323",white:"#fff",gray:"#f3f5f5",blue:"#22bfea",primary:"#22bfea",transparent:"transparent",darkgray:"#7b858b",error:"#da0101",border:"#E3E3E3",secondary:"#FC5622",slider:"#d7e1ea"}},typography:{useNextVariants:!0,suppressDeprecationWarnings:!0,fontFamily:"'Poppins', sans-serif",fontSize:14,fontWeight:"normal",body1:{color:"#7b858b",fontWeight:"normal",fontSize:"14px",background:"#fff"},h1:{fontSize:"35px",fontWeight:"500",lineHeight:"1.1",color:"#232325",margin:0},h2:{fontSize:"30px",fontWeight:"500",lineHeight:"1.1",color:"#232325",margin:0,"@media (max-width:767px)":{fontSize:25}},h3:{fontSize:"20px",fontWeight:"500",lineHeight:"1.1",color:"#232325",margin:0},h4:{fontSize:"16px",fontWeight:"500",lineHeight:"1.1",color:"#232325"},h5:{fontSize:"18px",fontWeight:"500",lineHeight:"1.1",color:"#232325"},h6:{fontSize:"16px",fontWeight:"300",lineHeight:"1.1",color:"#7b858b"},button:{background:"linear-gradient(90deg,#23d1f2,#14c8ef,#04bfeb,#00b6e7,#00ade2)",color:"#fff",padding:"10px 25px",textAlign:"center",cursor:"pointer",borderRadius:"5px","& span":{color:"#fff",background:"transparent"},"&:hover":{color:"#fff",background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)"}},buttonNext:{background:"transparent",color:"#232323",padding:"10px 25px",textAlign:"center",cursor:"pointer","& span":{color:"#232323",background:"transparent"},"&:hover":{color:"#fff",background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)"}},subtitle1:{fontSize:"14px",color:"#7b858b"},subtitle2:{color:"#232323",textTransform:"uppercase",fontSize:"13px"},caption:{fontSize:"14px",fontFamily:"'Poppins', sans-serif",textAlign:"center",background:"#ffefef",padding:"10px",color:"#ff0606",marginBottom:"10px",maxWidth:"351px"},overline:{fontSize:"14px",fontFamily:"'Poppins', sans-serif",textAlign:"center",background:"#bdffbd",padding:"15px",color:"#232323",marginBottom:"10px",borderRadius:"8px",lineHeight:"20px"}},shape:{boxShadow:"0 0 2px #00ade2",boxShadowGray:"0 0 3px #ccc"}},Ee=Object(T.createMuiTheme)(_e),Fe=a(35),Ce=a(95),Te=a.n(Ce),Pe=a(87),Ie=a.n(Pe),De=a(1),Oe=a.n(De),Re=a(23),Ae=a.n(Re),Be=a(86),Me=a.n(Be),je=a(962),Le=a(211),We=a.n(Le),ze=a(959),Ue=a(117),He=a.n(Ue),Ge=a(52),Ye=a.n(Ge),qe=a(55),Ve=a.n(qe),$e=a(60),Qe=a.n($e),Ke=a(32),Je=a.n(Ke),Ze=a(33),Xe=a.n(Ze),et=a(34),tt=a.n(et),at=a(67),nt=a.n(at),it=a(62),ot=a.n(it),rt=a(134),st=a(30),lt=a.n(st),dt=a(105);function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var mt=function(e){Object(h.a)(a,e);var t=ct(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.loading;return i.a.createElement("div",{className:t.loderdiv},i.a.createElement(dt.a,{sizeUnit:"px",size:50,color:"#00ADE2",loading:a}))}}]),a}(i.a.Component),ut=C()(Object(T.withStyles)(function(e){return{loderdiv:{"& div":{margin:"0 auto"},width:"100%",height:"100%",position:"fixed",background:"rgba(0,0,0,0.8)",zIndex:"9999",top:"0",left:"0",display:"flex",alignItems:"center"}}}))(mt),pt=a(37),vt=a(7),gt=a.n(vt),ht=a(24),ft=a.n(ht),kt=["Entered wrong info, will request again","Host didn't reply quickly enough","Made alternate plans","Poor weather","Found a different pool","Just trying out the site","Other"],bt=["Can no longer attend","Poor weather","Found a different pool","Host won't provide for my specific needs","Made alternate plans","Other"],yt=["Need the pool for personal use","Need more advance notice","Too many guests","Guest was unresponsive in chat","Pool currently under maintenance","Won't be home at the time","Not enough info about reservation","Not enough adults","Not my ideal booking","Other"],xt=["Guest has changed details of reservation","Guest asked to reschedule","Pool maintenance issues","Need the pool for personal use","Other"],Nt=["Just need some time to update my account","No longer own this pool","Didn't feel like I was earning enough","I use my pool too often to rent it out","I had a bad experience","Need a quick break","Other"],St=[{key:1,value:"1 hour in advance"},{key:3,value:"3 hours in advance"},{key:24,value:"24 hours in advance"},{key:72,value:"3 days in advance"}],wt=[{key:7,value:"1 week"},{key:14,value:"2 weeks"},{key:28,value:"1 month"},{key:84,value:"3 months"},{key:168,value:"6 months"},{key:336,value:"1 year"}],_t=[5,10,15,20,25,30],Et=[{key:15,value:"15 - Standard"},{key:30,value:"30 - Comfort"},{key:45,value:"45 - Lux"},{key:60,value:"60 - Vip"}],Ft=[{key:15,value:"15 - Standard"},{key:30,value:"30 - Comfort"},{key:45,value:"45 - Lux"},{key:60,value:"60 - Vip"}],Ct=[1,3,5,10],Tt=[5,10,15,20,25,30],Pt=[5,10,15,20,25,30,35,40,45,50],It=["diving board","heated pool","restroom","bbq grill","pet friendly","hot tub"],Dt=["US","CA","GB","FR","AT","BE","BR","DK","FI","DE","HK","IE","JP","LU","MX","NL","NZ","NO","SG","ES","SE","CH","IT","PT"],Ot=["12 AM","1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 PM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM"],Rt=[{time:"1AM",displayFormattedTime:"1:00 AM",displayTime:"1 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"01:00:00",timeNumber:1,timeFormat:"am",displayTimeNumber:"1"},{time:"2AM",displayFormattedTime:"2:00 AM",displayTime:"2 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"02:00:00",timeNumber:2,timeFormat:"am",displayTimeNumber:"2"},{time:"3AM",displayFormattedTime:"3:00 AM",displayTime:"3 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"03:00:00",timeNumber:3,timeFormat:"am",displayTimeNumber:"3"},{time:"4AM",displayFormattedTime:"4:00 AM",displayTime:"4 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"04:00:00",timeNumber:4,timeFormat:"am",displayTimeNumber:"4"},{time:"5AM",displayFormattedTime:"5:00 AM",displayTime:"5 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"05:00:00",timeNumber:5,timeFormat:"am",displayTimeNumber:"5"},{time:"6AM",displayFormattedTime:"6:00 AM",displayTime:"6 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"06:00:00",timeNumber:6,timeFormat:"am",displayTimeNumber:"6"},{time:"7AM",displayFormattedTime:"7:00 AM",displayTime:"7 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"07:00:00",timeNumber:7,timeFormat:"am",displayTimeNumber:"7"},{time:"8AM",displayFormattedTime:"8:00 AM",displayTime:"8 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"08:00:00",timeNumber:8,timeFormat:"am",displayTimeNumber:"8"},{time:"9AM",displayFormattedTime:"9:00 AM",displayTime:"9 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"09:00:00",timeNumber:9,timeFormat:"am",displayTimeNumber:"9"},{time:"10AM",displayFormattedTime:"10:00 AM",displayTime:"10 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"10:00:00",timeNumber:10,timeFormat:"am",displayTimeNumber:"10"},{time:"11AM",displayFormattedTime:"11:00 AM",displayTime:"11 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"11:00:00",timeNumber:11,timeFormat:"am",displayTimeNumber:"11"},{time:"12PM",displayFormattedTime:"12:00 PM",displayTime:"12 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"12:00:00",timeNumber:12,timeFormat:"pm",displayTimeNumber:"12"},{time:"1PM",displayFormattedTime:"1:00 PM",displayTime:"1 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"13:00:00",timeNumber:13,timeFormat:"pm",displayTimeNumber:"1"},{time:"2PM",displayFormattedTime:"2:00 PM",displayTime:"2 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"14:00:00",timeNumber:14,timeFormat:"pm",displayTimeNumber:"2"},{time:"3PM",displayFormattedTime:"3:00 PM",displayTime:"3 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"15:00:00",timeNumber:15,timeFormat:"pm",displayTimeNumber:"3"},{time:"4PM",displayFormattedTime:"4:00 PM",displayTime:"4 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"16:00:00",timeNumber:16,timeFormat:"pm",displayTimeNumber:"4"},{time:"5PM",displayFormattedTime:"5:00 PM",displayTime:"5 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"17:00:00",timeNumber:17,timeFormat:"pm",displayTimeNumber:"5"},{time:"6PM",displayFormattedTime:"6:00 PM",displayTime:"6 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"18:00:00",timeNumber:18,timeFormat:"pm",displayTimeNumber:"6"},{time:"7PM",displayFormattedTime:"7:00 PM",displayTime:"7 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"19:00:00",timeNumber:19,timeFormat:"pm",displayTimeNumber:"7"},{time:"8PM",displayFormattedTime:"8:00 PM",displayTime:"8 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"20:00:00",timeNumber:20,timeFormat:"pm",displayTimeNumber:"8"},{time:"9PM",displayFormattedTime:"9:00 PM",displayTime:"9 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"21:00:00",timeNumber:21,timeFormat:"pm",displayTimeNumber:"9"},{time:"10PM",displayFormattedTime:"10:00 PM",displayTime:"10 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"22:00:00",timeNumber:22,timeFormat:"pm",displayTimeNumber:"10"},{time:"11PM",displayFormattedTime:"11:00 PM",displayTime:"11 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"23:00:00",timeNumber:23,timeFormat:"pm",displayTimeNumber:"11"},{time:"12AM",displayFormattedTime:"12:00 AM",displayTime:"12 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"00:00:00",timeNumber:24,timeFormat:"am",displayTimeNumber:"12"}],At={time_insert:{"01:00:00":{time:"1AM",displayFormattedTime:"1:00 AM",displayTime:"1 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"01:00:00",timeNumber:1,timeFormat:"am",displayTimeNumber:"1"},"02:00:00":{time:"2AM",displayFormattedTime:"2:00 AM",displayTime:"2 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"02:00:00",timeNumber:2,timeFormat:"am",displayTimeNumber:"2"},"03:00:00":{time:"3AM",displayFormattedTime:"3:00 AM",displayTime:"3 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"03:00:00",timeNumber:3,timeFormat:"am",displayTimeNumber:"3"},"04:00:00":{time:"4AM",displayFormattedTime:"4:00 AM",displayTime:"4 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"04:00:00",timeNumber:4,timeFormat:"am",displayTimeNumber:"4"},"05:00:00":{time:"5AM",displayFormattedTime:"5:00 AM",displayTime:"5 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"05:00:00",timeNumber:5,timeFormat:"am",displayTimeNumber:"5"},"06:00:00":{time:"6AM",displayFormattedTime:"6:00 AM",displayTime:"6 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"06:00:00",timeNumber:6,timeFormat:"am",displayTimeNumber:"6"},"07:00:00":{time:"7AM",displayFormattedTime:"7:00 AM",displayTime:"7 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"07:00:00",timeNumber:7,timeFormat:"am",displayTimeNumber:"7"},"08:00:00":{time:"8AM",displayFormattedTime:"8:00 AM",displayTime:"8 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"08:00:00",timeNumber:8,timeFormat:"am",displayTimeNumber:"8"},"09:00:00":{time:"9AM",displayFormattedTime:"9:00 AM",displayTime:"9 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"09:00:00",timeNumber:9,timeFormat:"am",displayTimeNumber:"9"},"10:00:00":{time:"10AM",displayFormattedTime:"10:00 AM",displayTime:"10 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"10:00:00",timeNumber:10,timeFormat:"am",displayTimeNumber:"10"},"11:00:00":{time:"11AM",displayFormattedTime:"11:00 AM",displayTime:"11 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"11:00:00",timeNumber:11,timeFormat:"am",displayTimeNumber:"11"},"12:00:00":{time:"12PM",displayFormattedTime:"12:00 PM",displayTime:"12 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"12:00:00",timeNumber:12,timeFormat:"pm",displayTimeNumber:"12"},"13:00:00":{time:"1PM",displayFormattedTime:"1:00 PM",displayTime:"1 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"13:00:00",timeNumber:13,timeFormat:"pm",displayTimeNumber:"1"},"14:00:00":{time:"2PM",displayFormattedTime:"2:00 PM",displayTime:"2 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"14:00:00",timeNumber:14,timeFormat:"pm",displayTimeNumber:"2"},"15:00:00":{time:"3PM",displayFormattedTime:"3:00 PM",displayTime:"3 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"15:00:00",timeNumber:15,timeFormat:"pm",displayTimeNumber:"3"},"16:00:00":{time:"4PM",displayFormattedTime:"4:00 PM",displayTime:"4 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"16:00:00",timeNumber:16,timeFormat:"pm",displayTimeNumber:"4"},"17:00:00":{time:"5PM",displayFormattedTime:"5:00 PM",displayTime:"5 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"17:00:00",timeNumber:17,timeFormat:"pm",displayTimeNumber:"5"},"18:00:00":{time:"6PM",displayFormattedTime:"6:00 PM",displayTime:"6 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"18:00:00",timeNumber:18,timeFormat:"pm",displayTimeNumber:"6"},"19:00:00":{time:"7PM",displayFormattedTime:"7:00 PM",displayTime:"7 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"19:00:00",timeNumber:19,timeFormat:"pm",displayTimeNumber:"7"},"20:00:00":{time:"8PM",displayFormattedTime:"8:00 PM",displayTime:"8 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"20:00:00",timeNumber:20,timeFormat:"pm",displayTimeNumber:"8"},"21:00:00":{time:"9PM",displayFormattedTime:"9:00 PM",displayTime:"9 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"21:00:00",timeNumber:21,timeFormat:"pm",displayTimeNumber:"9"},"22:00:00":{time:"10PM",displayFormattedTime:"10:00 PM",displayTime:"10 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"22:00:00",timeNumber:22,timeFormat:"pm",displayTimeNumber:"10"},"23:00:00":{time:"11PM",displayFormattedTime:"11:00 PM",displayTime:"11 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"23:00:00",timeNumber:23,timeFormat:"pm",displayTimeNumber:"11"},"00:00:00":{time:"12AM",displayFormattedTime:"12:00 AM",displayTime:"12 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"00:00:00",timeNumber:24,timeFormat:"am",displayTimeNumber:"12"}},timeNumber:{1:{time:"1AM",displayFormattedTime:"1:00 AM",displayTime:"1 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"01:00:00",timeNumber:1,timeFormat:"am",displayTimeNumber:"1"},2:{time:"2AM",displayFormattedTime:"2:00 AM",displayTime:"2 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"02:00:00",timeNumber:2,timeFormat:"am",displayTimeNumber:"2"},3:{time:"3AM",displayFormattedTime:"3:00 AM",displayTime:"3 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"03:00:00",timeNumber:3,timeFormat:"am",displayTimeNumber:"3"},4:{time:"4AM",displayFormattedTime:"4:00 AM",displayTime:"4 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"04:00:00",timeNumber:4,timeFormat:"am",displayTimeNumber:"4"},5:{time:"5AM",displayFormattedTime:"5:00 AM",displayTime:"5 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"05:00:00",timeNumber:5,timeFormat:"am",displayTimeNumber:"5"},6:{time:"6AM",displayFormattedTime:"6:00 AM",displayTime:"6 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"06:00:00",timeNumber:6,timeFormat:"am",displayTimeNumber:"6"},7:{time:"7AM",displayFormattedTime:"7:00 AM",displayTime:"7 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"07:00:00",timeNumber:7,timeFormat:"am",displayTimeNumber:"7"},8:{time:"8AM",displayFormattedTime:"8:00 AM",displayTime:"8 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"08:00:00",timeNumber:8,timeFormat:"am",displayTimeNumber:"8"},9:{time:"9AM",displayFormattedTime:"9:00 AM",displayTime:"9 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"09:00:00",timeNumber:9,timeFormat:"am",displayTimeNumber:"9"},10:{time:"10AM",displayFormattedTime:"10:00 AM",displayTime:"10 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"10:00:00",timeNumber:10,timeFormat:"am",displayTimeNumber:"10"},11:{time:"11AM",displayFormattedTime:"11:00 AM",displayTime:"11 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"11:00:00",timeNumber:11,timeFormat:"am",displayTimeNumber:"11"},12:{time:"12PM",displayFormattedTime:"12:00 PM",displayTime:"12 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"12:00:00",timeNumber:12,timeFormat:"pm",displayTimeNumber:"12"},13:{time:"1PM",displayFormattedTime:"1:00 PM",displayTime:"1 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"13:00:00",timeNumber:13,timeFormat:"pm",displayTimeNumber:"1"},14:{time:"2PM",displayFormattedTime:"2:00 PM",displayTime:"2 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"14:00:00",timeNumber:14,timeFormat:"pm",displayTimeNumber:"2"},15:{time:"3PM",displayFormattedTime:"3:00 PM",displayTime:"3 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"15:00:00",timeNumber:15,timeFormat:"pm",displayTimeNumber:"3"},16:{time:"4PM",displayFormattedTime:"4:00 PM",displayTime:"4 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"16:00:00",timeNumber:16,timeFormat:"pm",displayTimeNumber:"4"},17:{time:"5PM",displayFormattedTime:"5:00 PM",displayTime:"5 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"17:00:00",timeNumber:17,timeFormat:"pm",displayTimeNumber:"5"},18:{time:"6PM",displayFormattedTime:"6:00 PM",displayTime:"6 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"18:00:00",timeNumber:18,timeFormat:"pm",displayTimeNumber:"6"},19:{time:"7PM",displayFormattedTime:"7:00 PM",displayTime:"7 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"19:00:00",timeNumber:19,timeFormat:"pm",displayTimeNumber:"7"},20:{time:"8PM",displayFormattedTime:"8:00 PM",displayTime:"8 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"20:00:00",timeNumber:20,timeFormat:"pm",displayTimeNumber:"8"},21:{time:"9PM",displayFormattedTime:"9:00 PM",displayTime:"9 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"21:00:00",timeNumber:21,timeFormat:"pm",displayTimeNumber:"9"},22:{time:"10PM",displayFormattedTime:"10:00 PM",displayTime:"10 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"22:00:00",timeNumber:22,timeFormat:"pm",displayTimeNumber:"10"},23:{time:"11PM",displayFormattedTime:"11:00 PM",displayTime:"11 pm",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"23:00:00",timeNumber:23,timeFormat:"pm",displayTimeNumber:"11"},24:{time:"12AM",displayFormattedTime:"12:00 AM",displayTime:"12 am",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"00:00:00",timeNumber:24,timeFormat:"am",displayTimeNumber:"12"}}},Bt=/\/(us|au)($|\/)/,Mt=/US|CA|us|ca/,jt=[{key:1,value:"locationStatus"},{key:2,value:"listingInfoStatus"},{key:3,value:"pricingGuest"},{key:4,value:"amenitiesListStatus"},{key:5,value:"amenitiesAdditionalStatus"},{key:6,value:"dimensionsStatus"},{key:7,value:"privacyStatus"},{key:8,value:"rulesStatus"},{key:9,value:"imagesStatus"},{key:10,value:"cancellationPolicyStatus"},{key:11,value:"showAvailabilityScreen"},{key:12,value:"showLearnHowBookScreen"},{key:13,value:"showMonthsSettingsScreen"},{key:14,value:"showManageCalendarScreen"}],Lt=[{code:"us",displayName:"USA"},{code:"au",displayName:"Australian"},{code:"ca",displayName:"Canadian"}],Wt=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"handleHostPlaceholder",value:function(){var e="Host"===ie.getUserRole(),t=ie.getUserCountry(),a=Mt.test(t);return le!==a&&t&&e}},{key:"parseAddressComponents",value:function(e){var t={};return e.forEach(function(e){e.types.forEach(function(a){"country"===a?t.countryFullDetail=e:"administrative_area_level_1"===a?t.stateFullDetail=e:"locality"===a||"sublocality"===a?t.cityFullDetail=e:t[a]=e.long_name})}),t.postal_code&&"long_name"!==t.postal_code||(t.postal_code="00000"),t}},{key:"copyToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"showTooltip",value:function(e,t,a){var n=document.getElementById("tooltip");n&&(n.textContent=a,n.style.top="".concat(e,"px"),n.style.left="".concat(t,"px"),n.classList.add("show"),n.addEventListener("click",function(){n.classList.remove("show")}),setTimeout(function(){n.classList.remove("show")},1e3))}},{key:"createReferralLink",value:function(e){return"".concat(window.location.origin,"/referral").concat(e?"?code=".concat(e):"")}},{key:"isFullVerified",value:function(e,t){return!(!(e&&e[0]&&e[0].successful_booking&&e[0].passport_drive_url)||t&&!e[0].pool_proof_url)}},{key:"isVerified",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!e||!e[0])&&!!(e[0].successful_booking||e[0].passport_drive_url&&(!a||e[0].img_id_approved)||t&&e[0].pool_proof_url&&(!a||e[0].img_proof_approved))}},{key:"getVerifiedPluses",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e[0]){var n=0;return!e[0].passport_drive_url||a&&!e[0].img_id_approved||(n+=1),e[0].pool_proof_url&&t&&(!a||e[0].img_proof_approved)&&(n+=1),e[0].successful_booking&&(n+=1),3===n?"++":2===n?"+":""}return""}},{key:"getVerifiedInPercentage",value:function(e,t){if(e&&e[0]){var a=0;return e[0].passport_drive_url&&(a+=1),e[0].pool_proof_url&&t&&(a+=1),e[0].successful_booking&&(a+=1),3===a?{percentage:"100",completedSteps:a}:2===a?{percentage:"66",completedSteps:a}:1===a?{percentage:"33",completedSteps:a}:{percentage:"0",completedSteps:0}}return{percentage:"0",completedSteps:0}}},{key:"filterBookings",value:function(e,t){return e=t?ft.a.filter(e,{date:t}):e,e=ft.a.reject(e,{status:8}),e=ft.a.reject(e,{status:7}),e=ft.a.reject(e,{status:5}),e=ft.a.reject(e,{status:4}),e=ft.a.reject(e,{status:2}),e=ft.a.reject(e,{status:1}),e=ft.a.reject(e,{status:0})}},{key:"getBookingsTimes",value:function(e){var t=[];if(e.length>=1){for(var a=0;a<e.length;a++)for(var n=parseInt(e[a].from.split(":")[0]),i=parseInt(e[a].to.split(":")[0]),o=n;o<=i+1;o++)t.push(o);t=ft.a.uniq(t)}return t}},{key:"getAvailableMonths",value:function(e){return e.filter(function(e){return e.is_available}).map(function(e){return gt()(e.month_number,"MM").format("MM")})}},{key:"getAvailableStartEndTime",value:function(e){var t=e.poolUnAvailabilities,a=e.bookingTimes,n=e.startTime,i=e.endTime,o=e.date;if(!n||!i)return{startTime:n,endTime:i};for(var r=[],s=function(e){var n=e>9?"".concat(e,":00:00"):"0".concat(e,":00:00"),i=t.findIndex(function(e){return e.date===o&&e.time===n}),s=a.indexOf(e);if(-1===i&&-1===s){var l=e,d=r[r.length-1];if(d&&l-d!==1){if(!(r.length<=1))return"break";r=[l]}else r.push(e)}},l=+n;l<=+i;l++){if("break"===s(l))break}return r.length>1?{startTime:r[0],endTime:r[r.length-1]}:{startTime:null,endTime:null}}},{key:"handlePoolUnAvailabilities",value:function(e){for(var t=e.poolUnAvailabilities,a=e.startTime,n=e.endTime,i=e.date,o=e.bookingTimes,r=!1,s=null,l=function(e){var a=e>9?"".concat(e,":00:00"):"0".concat(e,":00:00"),n=t.findIndex(function(e){return e.date===i&&e.time===a}),l=o.indexOf(e);if(r&&s&&-1===n&&-1===l)return{v:!0};r=-1===n&&-1===l,s=-1===n&&-1===l?e:null},d=parseInt(a);d<=parseInt(n);d++){var c=l(d);if("object"===typeof c)return c.v}return!1}},{key:"isHost",value:function(e){return e&&e.roles&&e.roles[0]&&e.roles[0].name&&"host"===e.roles[0].name.toLocaleLowerCase()}},{key:"isUsRegion",value:function(e){return Mt.test(e)}},{key:"formatTime",value:function(e){var t=parseInt(e);return t?t>12?t=t-12+":00 PM":12===t?t+=":00 PM":0===t?t="12:00 AM":t+=":00 AM":t=null,t}},{key:"disableSingleAvailableTimeSlots",value:function(e){return e.map(function(t,a){return t.disable||e[a-1]&&!e[a-1].disable||e[a+1]&&!e[a+1].disable||(t.disable=!0),t})}},{key:"getExtraGuestFee",value:function(e){var t=e.reservation,a=e.adultCount,n=e.childrenCount,i=e.startTime,o=e.endTime-i,r=a+n;return r>t.pool.price_per_guest_min_capacity?(r-t.pool.price_per_guest_min_capacity)*t.pool.price_per_guest*o:0}},{key:"getPrice",value:function(e){var t=e.reservation,a=e.serviceCharge,n=e.startTime,i=e.endTime,o=e.adultCount,r=e.childrenCount,s=i-n,l=t&&t.pool?t.pool.hourly_price*s:0,d=t&&"ok"===t.promocode_status,c=0;d&&((c="percent"===t.promocode.off_type?l/100*t.promocode.percent_off:t.promocode.percent_off)>=l?(c=l,l=0):l-=c);var m=t&&t.pool&&t.pool.price_per_guest_enabled?this.getExtraGuestFee({reservation:t,adultCount:o,childrenCount:r,startTime:n,endTime:i}):0,u=l/100*a+m/100*a;return{isPromoCodeApplied:d,promoCodeAmount:c,totalHours:s,hoursPrice:l,extraGuestFee:m,serviceFee:u,totalPrice:l+u+m}}},{key:"isEditedBooking",value:function(e){return e.edited_fields&&6!==e.status&&5!==e.status&&2!==e.status}},{key:"isAvailableToUpdate",value:function(e){var t=this.getCancellationPolicyDate(e),a=0===e.status||gt()().isBefore(t,"hour");return 6!==e.status&&5!==e.status&&2!==e.status&&a}},{key:"isNotIntoCancellationPolicy",value:function(e){var t=this.getCancellationPolicyDate(e);return gt()().isBefore(t)}},{key:"getCancellationPolicyDate",value:function(e){var t=Rt.find(function(t){return t.time_insert===e.from}),a=t?t.timeNumber:parseInt(e.from.split(":")[0]);return e.pool&&e.pool.cancellation_policy?gt()(e.date).hour(a).minute(0).second(0).subtract(e.pool.cancellation_policy.hours,"hour"):gt()()}},{key:"isInstantBooking",value:function(e){var t=e.reservation,a=e.adultCount+e.childrenCount;return t&&t.pool.default_instant_booking&&t.pool.instant_group_size>=a&&t.pool.max_guests>=a}},{key:"isNumber",value:function(e){return!isNaN(parseInt(e))}}]),e}();function zt(e){return new RegExp(['^(([^<>()\\[\\]\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\.,;:\\s@"]+)*)','|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])',"|(([a-zA-Z\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\u0178\xe4\xeb\xef\xf6\xfc\u0178\xa1\xbf\xe7\xc7\u0152\u0153\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0:\\-0-9]+\\.)","+[a-zA-Z\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xc1\xc9\xcd\xd3\xda\xdd\xe1\xe9\xed\xf3\xfa\xfd\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc3\xd1\xd5\xe3\xf1\xf5\xc4\xcb\xcf\xd6\xdc\u0178\xe4\xeb\xef\xf6\xfc\u0178\xa1\xbf\xe7\xc7\u0152\u0153\xdf\xd8\xf8\xc5\xe5\xc6\xe6\xde\xfe\xd0\xf0:]{2,}))$"].join("")).test(e)}function Ut(e){return!e.replace(/^\s+/g,"").length}function Ht(e,t){return e.length>=6}function Gt(e,t){var a;(function(e){try{JSON.parse(e)}catch(t){return!1}return!0})(a=(a=(a=e.toString().replace("Error: GraphQL error: ","")).toString().replace("400 - ","")).toString().replace("401 - ",""))&&(a=JSON.parse(a).error.message);return void 0!==t&&""!==t&&(a="City or State is missing, please enter valid address."),-1!==a.toLowerCase().indexOf("network error")&&(a="An error occurred please try again later."),e.graphQLErrors&&e.graphQLErrors[0]&&e.graphQLErrors[0].extensions&&"string"===typeof e.graphQLErrors[0].extensions.errors&&(a=e.graphQLErrors[0].extensions.errors||a),a}function Yt(e){var t=e.adult_guests,a=e.children_guests,n=e.infant_guests,i="",o="";0===t?(i="",o=""):1===t?(i=t,o=0===a&&0===n?"Adult":"Adult,"):(i=t,o=0===a&&0===n?"Adults":"Adults,");var r="",s="";0===a?(r="",s=""):1===a?(r=a,s=0===n?"Children":"Children,"):(r=a,s=0===n?"Childrens":"Childrens,");var l="",d="";return 0===n?(l="",d=""):1===n?(l=n,d="Infant"):(l=n,d="Infants"),i||r||l?"(\n         ".concat(i," ").concat(o,"\n         ").concat(r," ").concat(s,"\n         ").concat(l," ").concat(d,"\n      )"):""}function qt(e,t){var a=!(t=gt()(t)).isValid(),n=null,i=[],o=e.unavailable_dates;if(o&&o.length>0)for(var r=0;r<o.length;r++)a=a||gt()(t).isSame(gt()(o[r]),"day"),i.push({start:gt()(o[r],"YYYY-MM-DD"),end:gt()(o[r],"YYYY-MM-DD")});if(e.months)for(var s=function(e){for(var t=[1,2,3,4,5,6,7,8,9,10,11,12],a=gt()().month()+1,n=-1,i=0;i<e.length;i++){var o=t.indexOf(e[i].month_number);-1!==o&&(-1===n&&e[i].month_number>=a&&(n=e[i].month_number-1),t.splice(o,1))}return{minAvailableMonthIndex:n,unAvailableMonths:t}}(e.months).unAvailableMonths,l=function(e){var n=gt()().set("month",s[e]-1),o=new Array(n.daysInMonth()).fill(null).map(function(e,t){return gt()(n.startOf("month").add(t,"days"))});a=a||gt()(t).isSame(gt()(o[0]),"month"),i.push({start:gt()(o[0]),end:gt()(o.pop())})},d=0;d<s.length;d++)l(d);var c=17,m=parseInt(e.available_from.split(":")[0])-7,u=0;"00:00:00"!==e.available_to&&(u=-1*(parseInt(e.available_to.split(":")[0])-24)),c=c-m-u;var p=[];if(e.bookings&&e.bookings.length)for(var v=0;v<e.bookings.length;v++){var g;if(gt()(e.bookings[v].date,"YYYY-MM-DD").isAfter(gt()().subtract(1,"day")))(g=p).push.apply(g,Object(pt.a)(Wt.filterBookings(e.bookings,e.bookings[v].date)))}var h=[];p=ft.a.uniq(p);var f=[];if(p.length>0)for(var k=function(e){if(gt()(p[e].date,"YYYY-MM-DD").isAfter(gt()().subtract(1,"day"))){var t=f.find(function(t){return t.date===p[e].date}),a=parseInt(p[e].from.split(":")[0]),n=parseInt(p[e].to.split(":")[0])+2,i=h.find(function(t){return t.date===p[e].date});i?i.availableTimes=[].concat(Object(pt.a)(i.availableTimes),Object(pt.a)(ft.a.range(a,n))):h.push({date:p[e].date,availableTimes:ft.a.range(a,n)}),t?t.hoursBlocked=t.hoursBlocked+(n-a):f.push({date:p[e].date,hoursBlocked:n-a})}},b=0;b<p.length;b++)k(b);var y=[];if(e.pool_unavailabilities&&e.pool_unavailabilities.length)for(var x=function(t){if(gt()(e.pool_unavailabilities[t].date,"YYYY-MM-DD").isAfter(gt()().subtract(1,"day"))){var a=h.find(function(a){return a.date===e.pool_unavailabilities[t].date}),n=parseInt(e.pool_unavailabilities[t].time.split(":")[0]);a?a.availableTimes=[].concat(Object(pt.a)(a.availableTimes),[n]):h.push({date:e.pool_unavailabilities[t].date,availableTimes:[n]});var i=y.find(function(a){return a.date===e.pool_unavailabilities[t].date});i?i.hoursBlocked++:y.push({date:e.pool_unavailabilities[t].date,hoursBlocked:1})}},N=0;N<e.pool_unavailabilities.length;N++)x(N);var S=[].concat(f);if(y.length>0)for(var w=function(e){var t=S.find(function(t){return t.date===y[e].date});t?t.hoursBlocked=t.hoursBlocked+y[e].hoursBlocked:S.push({date:y[e].date,hoursBlocked:y[e].hoursBlocked})},_=0;_<y.length;_++)w(_);var E=[];S.length>0&&(E=(S=S.filter(function(e){return e.hoursBlocked>=c})).map(function(e,n){return a=a||gt()(t).isSame(gt()(e.date),"day"),{start:gt()(e.date,"YYYY-MM-DD"),end:gt()(e.date,"YYYY-MM-DD")}}));var F=gt()().add(e.advance_notice,"hour"),C=Vt(gt()(),F),T=Wt.filterBookings(e.bookings,F.format("YYYY-MM-DD")),P=Wt.getBookingsTimes(T),I=fe.find(function(t){return t.time_insert===e.available_from}).timeNumber,D=fe.find(function(t){return t.time_insert===e.available_to}).timeNumber,O=ft.a.range(I,D),R=[].concat(Object(pt.a)(ft.a.range(I,F.hour())),Object(pt.a)(P));!O.filter(function(e){return!R.includes(e)}).length||C.pop();var A=ft.a.range(I,D+1),B=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=ft.a.cloneDeep(e),i=Object(pt.a)(t),o=function(e){if(gt()(n[e].date).date()===gt()().date()&&gt()().hours()>7){var o=Math.max.apply(Math,Object(pt.a)(t));i=ft.a.range(gt()().hours()+1+a,o+1)}else i=Object(pt.a)(t);n[e].availableTimes=i.filter(function(t){return!n[e].availableTimes.includes(t)}).sort(function(e,t){return e-t})},r=0;r<n.length;r++)o(r);for(var s=[],l=function(e){var t=n[e];if(t.availableTimes.length>0){var a=[];t.availableTimes.map(function(e,n){var i=t.availableTimes[n-1]||null,o=i&&e-i===1,r=t.availableTimes[n+1]||null,l=r&&e-r===-1;o||l||a.push(e),t.availableTimes.length===a.length&&s.push(t.date)})}else s.push(t.date)},d=0;d<n.length;d++)l(d);return s}(h,A,e.advance_notice);B=B.map(function(e,t){return{start:gt()(e,"YYYY-MM-DD"),end:gt()(e,"YYYY-MM-DD")}});for(var M=0;M<C.length;M++)a=a||gt()(t).isSame(gt()(C[M]),"day"),i.push({start:gt()(C[M],"YYYY-MM-DD"),end:gt()(C[M],"YYYY-MM-DD")});return i.push({start:gt()().add(e.availability_window,"day"),end:gt()().add(e.availability_window+365,"day")}),i=[].concat(Object(pt.a)(i),Object(pt.a)(E),Object(pt.a)(B)),a&&(n=function(e,t){for(var a=[],n=0;n<e.length;n++){var i=e[n].start,o=e[n].end;a=[].concat(Object(pt.a)(a),Object(pt.a)(Vt(gt()(i),gt()(o))))}for(var r=a.filter(function(e){return!gt()(e).isBefore(gt()(),"day")}).sort(function(e,t){return gt()(e).diff(gt()(t))}),s=Vt(gt()(),gt()(r[r.length-1])),l=null,d=0;d<s.length;d++)if(!r.includes(s[d])){l=gt()(s[d]);break}if(!l){var c=gt()(r[r.length-1]);l=c.add(1,"day")}l.isAfter(gt()().add(t,"day"))&&(l=null);return l}(i,e.availability_window)),{allDatesIsInvalid:a&&!n,invalidDates:i,selectedDateIsInvalid:a,firstAvailableDate:n}}function Vt(e,t){var a=[],n=gt()(e);for(t=gt()(t);n<=t;)a.push(gt()(n).format("YYYY-MM-DD")),n=gt()(n).add(1,"days");return a}Wt.getEditedFields=function(e){var t=e.edited_fields&&Wt.isNumber(e.edited_fields.adult_guests)?e.edited_fields.adult_guests:e.adult_guests,a=e.edited_fields&&Wt.isNumber(e.edited_fields.children_guests)?e.edited_fields.children_guests:e.children_guests,n=e.edited_fields&&Wt.isNumber(e.edited_fields.infant_guests)?e.edited_fields.infant_guests:e.infant_guests,i=e.edited_fields&&e.edited_fields.from?e.edited_fields.from:e.from,o=e.edited_fields&&e.edited_fields.to?e.edited_fields.to:e.to,r=e.edited_fields&&e.edited_fields.date?e.edited_fields.date:e.date,s=Rt.find(function(e){return e.time_insert===i||e.displayFormattedTime===i}).timeNumber,l=Rt.find(function(e){return e.time_insert===o||e.displayFormattedTime===o}).timeNumber+1,d=gt()(),c=gt()(r);return{adultCount:t,childrenCount:a,infantCount:n,startTime:s,endTime:l,date:c=c.isBefore(d,"day")?d:c}};var $t=a(312),Qt=function(e){return{button:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"50px",padding:"4px 25px",fontSize:"0.875rem",fontWeight:"500",fontFamily:"'Poppins', sans-serif",borderRadius:"5px",lineHeight:"1.75",border:"none",background:"linear-gradient(90deg, #23d1f2, #14c8ef, #04bfeb, #00b6e7, #00ade2)",color:e.palette.common.white,outline:"none",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase","&:hover":{opacity:"0.8",background:"linear-gradient(90deg, #00b6e7, #04bfeb, #23d1f2, #00b6e7, #23d1f2)"},"& p":{margin:"0"},"@media (max-width:360px)":{padding:"4px 10px",fontSize:"13px"}},icon:{width:"23px",height:"23px",marginRight:"10px","& img":{width:"100%",height:"100%"}}}},Kt=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"handleLogin",value:function(e,t){var a=e.role[0].name;if(ie.removeReferralId(),ie.removeReferralToken(),ie.setEmail(e.email),ie.setAccessToken(e.access_token),ie.setRefreshToken(e.refresh_token),ie.setUserRole(a),ie.setLastPoolId(e.last_pool_id),ie.setUserCountry(e.country_code),ie.setSwimmerCountry(e.country_code_swimmer),"/payment/:id"===t.match.path&&"function"===typeof window.setAccessToken)window.setAccessToken();else{var n=ie.getPreviousUrl(),i=ie.getIsPreviousUrl(),o=ie.getPreviousSearchUrl();if("yes"===i&&n)if(ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),"home_top"===n)window.scrollTo(0,0);else{var r={};r.pathname=n,o&&(r.search=o),t.history.push(r)}}}},{key:"handleSignUp",value:function(e,t){var a=e.role[0].name;(ie.removeReferralId(),ie.removeReferralToken(),ie.setEmail(e.email),ie.setAccessToken(e.access_token),ie.setRefreshToken(e.refresh_token),ie.setUserRole(a),ie.setUserCountry(e.country_code),ie.setSwimmerCountry(e.country_code_swimmer),"swimmer"===a.toLowerCase())&&("/payment/:id"===t.match.path&&"function"===typeof window.setAccessToken&&window.setAccessToken())}}]),e}(),Jt=i.a.createContext({user:null,handleUser:function(){}});function Zt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Xt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"OauthLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"Oauth2Input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"OauthLogin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_in"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:318,source:{body:"mutation OauthLogin($data: Oauth2Input) {\n  OauthLogin(data: $data) {\n    fields\n    url\n    access_token\n    refresh_token\n    expires_in\n    expires_at\n    token_type\n    status\n    role {\n      id\n      name\n    }\n    email\n    image_url\n    message\n    country_code\n    country_code_swimmer\n    last_pool_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ea=function(e){Object(h.a)(a,e);var t=Zt(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1},e.handleResponse=function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.tokenDetail.accessToken,t.next=3,e.loginWithFacebook(n);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleError=function(e){console.log("error",e)},e.loginWithFacebook=function(){var t=Object(m.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var n,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=ie.getReferralToken(),t.next=4,e.props.client.mutate({mutation:Xt,variables:{data:{provider:"FACEBOOK",request:"auth",access_token:a,referral_token:n}}});case 4:i=t.sent,o=i.data.OauthLogin,e.setState({loading:!1},Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"FIELDS_FAILED"===o.status?e.props.handleSignUpScreen(o.fields,a,"FACEBOOK"):"USER_EXISTS"===o.status?e.props.showErrorMessage("Seems like you already have an account, try login in"):"LOGGED_IN"===o.status&&(Kt.handleLogin(o,e.props),e.props.handleUser(),e.props.handleOauthLogin());case 1:case"end":return t.stop()}},t)}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])})))}catch(n){console.log("error",n.graphQLErrors)}case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.renderFacebookIcon=function(){return i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/facebook.png"),alt:"facebook"})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement($t.FacebookProvider,{appId:"2309754092473688"},i.a.createElement($t.Login,{scope:"email",onCompleted:this.handleResponse,onError:this.handleError},function(a){var n=a.handleClick;return i.a.createElement("button",{type:"button",onClick:n,className:t.button},i.a.createElement("span",{className:t.icon},e.renderFacebookIcon()),i.a.createElement("p",{className:t.label},"Continue with Facebook"))}))}}]),a}(n.Component);ea.defaultProps={classes:{},handleSignUpScreen:function(){},handleOauthLogin:function(){},showErrorMessage:function(){}};var ta=C()(Object(T.withStyles)(Qt),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(ea,Object.assign({},t,e))}),aa=function(e){return{button:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"50px",marginTop:"20px",padding:"4px 25px",fontSize:"0.875rem",fontWeight:"500",fontFamily:"'Poppins', sans-serif",borderRadius:"5px",lineHeight:"1.75",border:"none",background:e.palette.common.black,color:e.palette.common.white,outline:"none",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",boxSizing:"border-box","&:hover":{opacity:"0.8"},"& p":{margin:"0"},"@media (max-width:360px)":{padding:"4px 10px",fontSize:"13px"}},icon:{width:"16px",height:"20px",marginRight:"10px","& img":{width:"100%",height:"100%",display:"block !important"}}}};function na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ia={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"OauthLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"Oauth2Input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"OauthLogin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_in"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:318,source:{body:"mutation OauthLogin($data: Oauth2Input) {\n  OauthLogin(data: $data) {\n    fields\n    url\n    access_token\n    refresh_token\n    expires_in\n    expires_at\n    token_type\n    status\n    role {\n      id\n      name\n    }\n    email\n    image_url\n    message\n    country_code\n    country_code_swimmer\n    last_pool_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},oa=function(e){Object(h.a)(a,e);var t=na(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1},e.appleIDSignInOnSuccess=function(t){e.setState({loading:!0},Object(m.a)(c.a.mark(function a(){var n,i,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=ie.getReferralToken(),a.next=4,e.props.client.mutate({mutation:ia,variables:{data:{provider:"APPLE",request:"auth",id_token:t.detail.authorization.id_token,referral_token:n,apple_email_allow:!0}}});case 4:i=a.sent,o=i.data.OauthLogin,e.setState({loading:!1},Object(m.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"FIELDS_FAILED"===o.status?e.props.handleSignUpScreen(o.fields,t.detail.authorization.id_token,"APPLE"):"USER_EXISTS"===o.status?e.props.showErrorMessage("Seems like you already have an account, try login in."):"RETRIEVE_TOKEN_FAILED"===o.status?e.props.showErrorMessage("Something went wrong."):"LOGGED_IN"===o.status&&(Kt.handleLogin(o,e.props),e.props.handleUser(),e.props.handleOauthLogin());case 1:case"end":return a.stop()}},a)}))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("error",a.t0);case 12:case"end":return a.stop()}},a,null,[[0,9]])})))},e.appleIDSignInOnFailure=function(t){console.log("error",t),e.setState({loading:!1},function(){"popup_closed_by_user"!==t.detail.error&&e.props.showErrorMessage("Something went wrong.")})},e.loginWithApple=function(){AppleID.auth.signIn()},e.renderAppleIcon=function(){return i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/apple-white.png"),alt:"apple"})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("AppleIDSignInOnSuccess",this.appleIDSignInOnSuccess),document.addEventListener("AppleIDSignInOnFailure",this.appleIDSignInOnFailure)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("AppleIDSignInOnSuccess",this.appleIDSignInOnSuccess),document.removeEventListener("AppleIDSignInOnFailure",this.appleIDSignInOnFailure)}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.button,onClick:this.loginWithApple},i.a.createElement("span",{className:e.icon},this.renderAppleIcon()),i.a.createElement("p",{className:e.label},"Continue with Apple")),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component);oa.defaultProps={classes:{},user:{},showErrorMessage:function(){},handleOauthLogin:function(){},handleUser:function(){}};var ra=C()(Object(T.withStyles)(aa),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(oa,Object.assign({},t,e))}),sa=i.a.createContext({});function la(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var da={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"signup"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SignUpInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signUp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:214,source:{body:"mutation signup($data: SignUpInput!) {\n  signUp(data: $data) {\n    status\n    access_token\n    refresh_token\n    expires_at\n    message\n    role  {\n      name\n    },\n    country_code\n    country_code_swimmer\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ca=function(e){Object(h.a)(a,e);var t=la(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).showErrorMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({errorMessage:e})},n.state={firstName:"",lastName:"",phoneNumber:"",zipcode:"",email:"",password:"",termsConditions:!1,showFirstnameError:!1,showLastnameError:!1,showPhoneNumberError:!1,showEmailError:!1,showPasswordError:!1,showTermsandConditionError:!1,showFormErrorMessage:!1,loading:!1,signupFailError:"",errorMessage:""},n.handleCloseError=n.handleCloseError.bind(Object(g.a)(n)),n.handleFirstName=n.handleFirstName.bind(Object(g.a)(n)),n.handleLastName=n.handleLastName.bind(Object(g.a)(n)),n.handlePhoneNumber=n.handlePhoneNumber.bind(Object(g.a)(n)),n.handleZipcode=n.handleZipcode.bind(Object(g.a)(n)),n.handleEmail=n.handleEmail.bind(Object(g.a)(n)),n.handlePassword=n.handlePassword.bind(Object(g.a)(n)),n.handleTermsConditions=n.handleTermsConditions.bind(Object(g.a)(n)),n.validateFirstName=n.validateFirstName.bind(Object(g.a)(n)),n.validateLastName=n.validateLastName.bind(Object(g.a)(n)),n.validatePhoneNumber=n.validatePhoneNumber.bind(Object(g.a)(n)),n.validateEmail=n.validateEmail.bind(Object(g.a)(n)),n.validatePassword=n.validatePassword.bind(Object(g.a)(n)),n.validateTermsandCondition=n.validateTermsandCondition.bind(Object(g.a)(n)),n.onSubmitSignup=n.onSubmitSignup.bind(Object(g.a)(n)),n.handleModel=n.handleModel.bind(Object(g.a)(n)),n.onSubmitSignupHost=n.onSubmitSignupHost.bind(Object(g.a)(n)),n.redirectToLogin=n.redirectToLogin.bind(Object(g.a)(n)),n.validateZipcode=n.validateZipcode.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleCloseError",value:function(){this.setState({signupFailError:""})}},{key:"handleFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handlePhoneNumber",value:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&(t.substring(0,13).length<13&&this.setState({phoneNumber:t}))}},{key:"handleZipcode",value:function(e){this.setState({zipcode:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value,signupFailError:""})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value,signupFailError:""})}},{key:"handleTermsConditions",value:function(e){var t=!1;!1===e.target.checked&&(t=!0),this.setState({showTermsandConditionError:!0===t,termsConditions:e.target.checked})}},{key:"validateFirstName",value:function(){var e=this.state,t=e.firstName,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showFirstnameError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateLastName",value:function(){var e=this.state,t=e.lastName,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showLastnameError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateZipcode",value:function(){var e=this.state,t=e.zipcode,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:(t.length<4||t.length>10)&&(n=!0),this.setState({showZipcodeError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validatePhoneNumber",value:function(){var e=this.state,t=e.phoneNumber,a=e.showFormErrorMessage,n=!1;return t.length>13?n=!0:t.length<10&&(n=!0),this.setState({showPhoneNumberError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateEmail",value:function(){var e=this.state,t=e.email,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:zt(t)||(n=!0),this.setState({showEmailError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validatePassword",value:function(){var e=this.state,t=e.password,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:Ht(t)||(n=!0),this.setState({showPasswordError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateTermsandCondition",value:function(){var e=this.state,t=e.termsConditions,a=e.showFormErrorMessage,n=!1;return!1===t&&(n=!0),this.setState({showTermsandConditionError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateForm",value:function(){var e=!1;return this.validateFirstName()||(e=!0),this.validateLastName()||(e=!0),this.validateZipcode()||(e=!0),this.validatePhoneNumber()||(e=!0),this.validateEmail()||(e=!0),this.validatePassword()||(e=!0),this.validateTermsandCondition()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"onSubmitSignup",value:function(){this.signupSubmit("Swimmer")}},{key:"onSubmitSignupHost",value:function(){this.signupSubmit("Host")}},{key:"signupSubmit",value:function(e){var t=this,a=this.state,n=a.firstName,i=a.lastName,o=a.email,r=a.password,s=a.phoneNumber,d=a.zipcode,c=ie.getReferralId();void 0!==c&&null!==c&&""!==c||(c="");var m={"first name":n,"last name":i,"customer email":o,"phone number":s,"zip code":d},u=ie.getReferralToken(),p={firstname:n,lastname:i,email:o,zipcode:d,password:r,role:e,phone_number:s,referral_code:c,referral_token:u};this.validateForm()&&(this.setState({loading:!0}),this.props.client.mutate({mutation:da,fetchPolicy:"no-cache",variables:{data:p}}).then(function(a){(ie.removeReferralId(),ie.removeReferralToken(),ie.setEmail(o),ie.setAccessToken(a.data.signUp.access_token),ie.setRefreshToken(a.data.signUp.refresh_token),ie.setUserRole(a.data.signUp.role[0].name),ie.setUserCountry(a.data.signUp.country_code),ie.setSwimmerCountry(a.data.signUp.country_code_swimmer),t.setState({loading:!1,signupFailError:""}),t.handleInviteReferals(o,n),t.props.handleUser(),"Host"===e)?(l.a.dataLayer({dataLayer:m,events:{HostAccount:"HostAccount"}}),t.props.history.push("/hostprompt")):(l.a.dataLayer({dataLayer:m,events:{SwimmerAccount:"SwimmerAccount"}}),"/payment/:id"===t.props.match.path&&void 0!==window.setAccessToken&&window.setAccessToken(),t.props.handleSignUp(a.data,c,n,o));t.props.toggleJoyspaceModal(!0)}).catch(function(e){console.log("error",e);var a=Gt(e);t.setState({signupFailError:a,loading:!1})}))}},{key:"handleInviteReferals",value:function(e,t){window.invite_referrals=window.invite_referrals||{},function(){window.invite_referrals.auth={bid_e:"35B20B04DB28FDCEF3DCACD87B6962B5",bid:"26502",t:"420",email:e,userParams:{fname:t}},window.invite_referrals.async=!0;var a=document.createElement("script");a.src="//cdn.invitereferrals.com/js/invite-referrals-1.0.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}()}},{key:"handleModel",value:function(){this.props.handleSignupClose()}},{key:"redirectToLogin",value:function(){this.props.openLoginDialog()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.page,n=this.state,o=n.signupFailError,r=n.loading,s=n.firstName,l=n.lastName,d=n.phoneNumber,c=n.email,m=n.password,u=n.zipcode,p=n.termsConditions,v=n.showFirstnameError,g=n.showLastnameError,h=n.showPhoneNumberError,f=n.showEmailError,k=n.showPasswordError,b=n.showZipcodeError,y=n.showTermsandConditionError;return i.a.createElement("div",{className:t.signupContainer},!0===r?i.a.createElement(ut,{loading:r}):"",void 0!==a&&"listYourPools"===a?i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"First, Lets create an account"):i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"Sign up"),""===o?"":i.a.createElement(Oe.a,{variant:"caption",component:"p",className:t.errorMsgClose},o,i.a.createElement("i",{className:"fa fa-close ".concat(t.closeBtn),onClick:this.handleCloseError})),this.state.errorMessage&&i.a.createElement(Oe.a,{variant:"caption",component:"p",className:t.blueErrorMsgClose},this.state.errorMessage,i.a.createElement("i",{className:"fa fa-close ".concat(t.blueCloseBtn),onClick:this.showErrorMessage.bind(this,"")})),i.a.createElement("p",{onClick:this.handleModel,className:t.modalCloseIcons},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/close-button.png"),alt:""})),i.a.createElement(tt.a,{className:t.dialogBox},i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:6,sm:6,className:t.paddingRightZero},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"}," First name"),i.a.createElement(Xe.a,{id:"outlined-first-name-input",placeholder:"",className:!1===v?t.textField:t.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:s,onChange:this.handleFirstName,onBlur:this.validateFirstName}),i.a.createElement("p",{className:!1===v?t.inputTooltip:t.inputTooltipError,"data-tip":"First name should not be empty."},i.a.createElement("i",{className:"fa fa-info"})))),i.a.createElement(lt.a,{item:!0,xs:6,sm:6,className:t.paddingLeftZero},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Last name"),i.a.createElement(Xe.a,{id:"outlined-last-name-input",placeholder:"",className:!1===g?t.textField:t.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:l,onChange:this.handleLastName,onBlur:this.validateLastName}),i.a.createElement("p",{className:!1===g?t.inputTooltip:t.inputTooltipError,"data-tip":"Last name should not be empty."},i.a.createElement("i",{className:"fa fa-info"}))))),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Email"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"",className:!1===f?t.textField:t.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:c,onChange:this.handleEmail,onBlur:this.validateEmail}),i.a.createElement("p",{className:!1===f?t.inputTooltip:t.inputTooltipError,"data-tip":"Doesn't look like a valid email."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:6,sm:6,className:t.paddingRightZero},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"PHONE NUMBER"),i.a.createElement(Xe.a,{id:"outlined-phone-number-input",placeholder:"",className:!1===h?t.textField:t.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:d,onChange:this.handlePhoneNumber,onBlur:this.validatePhoneNumber}),i.a.createElement("p",{className:!1===h?t.inputTooltip:t.inputTooltipError,"data-tip":"Phone number should be 10-12 digits."},i.a.createElement("i",{className:"fa fa-info"})))),i.a.createElement(lt.a,{item:!0,xs:6,sm:6,className:t.paddingLeftZero},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"ZIP CODE"),i.a.createElement(Xe.a,{id:"outlined-zipcode-input",placeholder:"",className:!1===b?t.textField:t.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:u,onChange:this.handleZipcode,onBlur:this.validateZipcode}),i.a.createElement("p",{className:!1===b?t.inputTooltip:t.inputTooltipError,"data-tip":"Doesn't look like a valid Zip Code."},i.a.createElement("i",{className:"fa fa-info"}))))),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Create password"),i.a.createElement(Xe.a,{id:"outlined-password-input",placeholder:"",className:!1===k?t.textField:t.errorMessage,type:"password",name:"pool",margin:"normal",variant:"outlined",value:m,onChange:this.handlePassword,onBlur:this.validatePassword}),i.a.createElement("p",{className:!1===k?t.inputTooltip:t.inputTooltipError,"data-tip":"Password should contain minimum 6 characters."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement("div",{className:t.CheckboxBottm},i.a.createElement(ot.a,{className:!1===y?t.labelInstantBook:t.checkBoxMessage,control:i.a.createElement(nt.a,{checked:p,onChange:this.handleTermsConditions,value:"termsandcondition",classes:{root:t.checkBox,checked:t.checked}})}),i.a.createElement(Oe.a,{className:t.sinupLabelMain},i.a.createElement("label",{className:t.sinupLabel},"I agree to ",i.a.createElement(ze.a,{to:"termsandconditions"},"Swimply Terms & Conditions.")))),void 0!==a&&"listYourPools"===a?i.a.createElement("div",{className:t.signupBtn,onClick:this.onSubmitSignupHost},i.a.createElement(Oe.a,{variant:"button"},"Next")):i.a.createElement("div",null,i.a.createElement("div",{className:t.signupBtn,onClick:this.onSubmitSignup},i.a.createElement(Oe.a,{variant:"button"},"Sign Up")),!me&&i.a.createElement(Oe.a,{variant:"p",component:"label",className:t.orText},"or"),me?null:i.a.createElement(ta,{handleSignUpScreen:this.props.handleSignUpScreen,handleOauthLogin:this.props.handleOauthLogin,showErrorMessage:this.showErrorMessage}),me?null:i.a.createElement(ra,{handleSignUpScreen:this.props.handleSignUpScreen,handleOauthLogin:this.props.handleOauthLogin,showErrorMessage:this.showErrorMessage}))),i.a.createElement("div",{className:t.alreadyHaveAccount,onClick:this.redirectToLogin},i.a.createElement(Oe.a,{variant:"h6",component:"label"},"Already have an account?",i.a.createElement("span",null," Login"))),i.a.createElement(rt.a,{place:"top",className:t.toolTipForms,type:"error",effect:"solid"}))}}]),a}(i.a.Component);var ma=C()(Object(T.withStyles)(function(e){return{signupContainer:{},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.6px",marginBottom:"3px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},CheckboxBottm:{position:"relative",marginTop:"-10px","& span:last-child":{color:"#787878",fontSize:"13px"},"& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,paddingRight:"5px","&$checked":{color:e.palette.common.blue}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px"}},dialogBox:{minWidth:"280px","@media (max-width:767px)":{paddingBottom:"8px"},"@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"13px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",cursor:"pointer","@media (max-width:767px)":{fontSize:"16px"}},"& span:hover":{color:e.palette.common.black}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"20px",cursor:"pointer",top:"-6px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}},inputTooltip:{display:"none"},inputTooltipError:{position:"absolute",top:"20px",right:"11px",background:"#ccc",width:"20px",height:"20px",borderRadius:"50%",textAlign:"center",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},toolTipForms:{color:"#ffffff",backgroundColor:"green",maxWidth:"240px",fontFamily:"'Poppins', sans-serif",fontSize:"12px"},checkBoxMessage:{"& svg":{fill:"red"}},paddingLeftZero:{paddingLeft:"7px !important"},paddingRightZero:{paddingRight:"7px !important"},closeBtn:{float:"right",fontSize:"18px",position:"absolute",top:"0",bottom:"0",right:"10px",margin:"auto",height:"17px",color:"#ff6161"},errorMsgClose:{position:"relative"},blueCloseBtn:{float:"right",fontSize:"18px",position:"absolute",top:"0",bottom:"0",right:"10px",margin:"auto",height:"17px",color:"#2399c4",cursor:"pointer"},blueErrorMsgClose:{position:"relative",padding:"10px 30px 10px 10px",fontSize:"12px",textAlign:"left",transition:"all 0.2s ease",background:"#daf4fe",color:"#107ba5"},sinupLabelMain:{display:"inline-block",marginLeft:"-14px","& label":{fontSize:"13px",verticalAlign:"middle","@media (max-width:767px)":{color:"#989fa2"},"@media (max-width:360px)":{fontSize:"11px"}},"& a":{textDecoration:"underline",color:"inherit"}},orText:{textAlign:"center",margin:"8px 0"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(sa);return i.a.createElement(Jt.Consumer,null,function(a){return i.a.createElement(ca,Object.assign({},a,t,e))})}),ua=i.a.createContext({region:"us",showPopupCallback:function(){},showIncompleteHostPopup:function(){},hideIncompleteHostPopup:function(){}});function pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LOGIN"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"LoginInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_in"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:264,source:{body:"mutation LOGIN($data: LoginInput) {\n  login(data: $data) {\n    access_token\n    refresh_token\n    token_type\n    expires_in\n    role  {\n      name\n    },\n    lastname\n    firstname\n    notify_olden\n    country_code,\n    country_code_swimmer\n    last_pool_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ga=function(e){Object(h.a)(a,e);var t=pa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleCloseError=function(){n.setState({errorMessage:""})},n.showErrorMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({errorMessage:e})},n.state={email:"",password:"",rememberMe:!0,showEmailError:!1,showPasswordError:!1,showFormErrorMessage:!1,errorMessage:"",loading:!1,loginFailError:""},n.handleEmail=n.handleEmail.bind(Object(g.a)(n)),n.handlePassword=n.handlePassword.bind(Object(g.a)(n)),n.validateEmail=n.validateEmail.bind(Object(g.a)(n)),n.validatePassword=n.validatePassword.bind(Object(g.a)(n)),n.handleRememberMe=n.handleRememberMe.bind(Object(g.a)(n)),n.handleLoginSubmit=n.handleLoginSubmit.bind(Object(g.a)(n)),n.handleForgotPasswordModal=n.handleForgotPasswordModal.bind(Object(g.a)(n)),n.handleLoginModelClose=n.handleLoginModelClose.bind(Object(g.a)(n)),n.redirectToSignup=n.redirectToSignup.bind(Object(g.a)(n)),n.goToSettingsCallback=n.goToSettingsCallback.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"goToSettingsCallback",value:function(e){this.props.history.push({pathname:"/addpool",state:{lastStep:e}})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRememberMe",value:function(e){this.setState({rememberMe:e.target.checked})}},{key:"validateEmail",value:function(){var e=this.state,t=e.email,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showEmailError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validatePassword",value:function(){var e=this.state,t=e.password,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showPasswordError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateForm",value:function(){var e=!1;return this.validateEmail()||(e=!0),this.validatePassword()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"handleLoginSubmit",value:function(e){var t=this;if(void 0===e.key||"Enter"===e.key){e.preventDefault();var a=this.state,n=a.email,i=a.password,o=this.props.history;if(!this.validateForm())return;this.setState({loading:!0}),this.props.client.mutate({mutation:va,variables:{data:{username:n,password:i}}}).then(function(e){var a=e.data;if(!a.login.role.length)throw new Error("Server error");var i=a.login.role[0].name;if(ie.removeReferralId(),ie.removeReferralToken(),ie.setEmail(n),ie.setAccessToken(a.login.access_token),ie.setRefreshToken(a.login.refresh_token),ie.setUserRole(i),ie.setLastPoolId(a.login.last_pool_id),ie.setUserCountry(a.login.country_code),ie.setSwimmerCountry(a.login.country_code_swimmer),t.props.handleLogin(a),t.props.handleUser(),t.setState({loading:!1}),"/payment/:id"===t.props.match.path&&void 0!==window.setAccessToken)window.setAccessToken();else{var r=ie.getPreviousUrl(),s=ie.getIsPreviousUrl(),l=ie.getPreviousSearchUrl();if(void 0!==s&&null!==s&&"yes"===s&&void 0!==r&&null!==r&&""!==r)if(ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),"home_top"===r)window.scrollTo(0,0);else{var d={};d.pathname=r,void 0!==l&&null!==l&&""!==l&&(d.search=l),o.push(d)}}"host"===i.toLowerCase()&&!1===a.login.notify_olden&&a.login.last_pool_id&&t.context.showIncompleteHostPopup({lastPool:a.login.last_pool_id,userName:a.login.firstname+" "+a.login.lastname,userRole:i.toLowerCase(),infoIsComplete:a.login.notify_olden,onPressSettings:t.goToSettingsCallback})}).catch(function(e){var a=Gt(e);t.setState({loginFailError:a,loading:!1})})}}},{key:"handleForgotPasswordModal",value:function(){ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),this.props.handleForgotPassword()}},{key:"handleLoginModelClose",value:function(){ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),this.props.handleLogin()}},{key:"redirectToSignup",value:function(){ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),this.props.handleSignup()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.email,o=t.password,r=t.rememberMe,s=t.showEmailError,l=t.showPasswordError,d=t.loginFailError;return i.a.createElement("div",null,!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"Login"),""===d?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},d),i.a.createElement("p",{onClick:this.handleLoginModelClose,className:e.modalCloseIcons},i.a.createElement("img",{src:window.location.origin+"/img/close-button.png",alt:""})),this.state.errorMessage&&i.a.createElement(Oe.a,{variant:"caption",component:"p",className:"".concat(e.blueErrorMsgClose," ").concat(this.state.errorMessage?"":e.hidden)},this.state.errorMessage,i.a.createElement("i",{className:"fa fa-close ".concat(e.closeBtn),onClick:this.handleCloseError})),i.a.createElement(tt.a,{className:e.dialogBox},i.a.createElement("form",{onSubmit:this.handleLoginSubmit},i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Email"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"",className:!1===s?e.textField:e.errorMessage,type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",value:n,onChange:this.handleEmail,onKeyUp:this.handleLoginSubmit}),i.a.createElement("span",null,i.a.createElement("img",{src:window.location.origin+"/img/email-n.png",alt:""}))),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Password"),i.a.createElement(Xe.a,{id:"outlined-password-input",placeholder:"",className:!1===l?e.textField:e.errorMessage,type:"password",name:"password",autoComplete:"",margin:"normal",variant:"outlined",value:o,onChange:this.handlePassword,onKeyUp:this.handleLoginSubmit}),i.a.createElement("span",{className:e.passwordImg},i.a.createElement("img",{src:window.location.origin+"/img/password.png",alt:""}))),i.a.createElement("div",{className:e.CheckboxBottm},i.a.createElement(ot.a,{className:e.labelInstantBook,control:i.a.createElement(nt.a,{checked:r,onChange:this.handleRememberMe,value:"rememberMe",classes:{root:e.checkBox,checked:e.checked}}),label:"Remember me"}),i.a.createElement("p",{className:e.forgotPass,onClick:this.handleForgotPasswordModal},"FORGOT PASSWORD?")),i.a.createElement("div",{className:e.signupBtn,onClick:this.handleLoginSubmit},i.a.createElement(Oe.a,{variant:"button"},"Login")),!me&&i.a.createElement(Oe.a,{variant:"p",component:"label",className:e.orText},"or"),me?null:i.a.createElement(ta,{handleSignUpScreen:this.props.handleSignUpScreen,handleOauthLogin:this.props.handleOauthLogin,showErrorMessage:this.showErrorMessage}),me?null:i.a.createElement(ra,{handleSignUpScreen:this.props.handleSignUpScreen,handleOauthLogin:this.props.handleOauthLogin,showErrorMessage:this.showErrorMessage}))),i.a.createElement("div",{className:e.alreadyHaveAccount,onClick:this.redirectToSignup},i.a.createElement(Oe.a,{variant:"h6",component:"label"},"No account yet? ",i.a.createElement("span",null," Sign up"))))}}]),a}(i.a.Component);ga.contextType=ua;var ha=C()(Object(T.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"3px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 35px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},CheckboxBottm:{position:"relative",marginTop:"-10px",display:"flex",justifyContent:"space-between","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue,paddingRight:"5px"}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px"}},dialogBox:{minWidth:"280px","@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},signupBtn:{},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"14px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",cursor:"pointer","@media (max-width:767px)":{fontSize:"16px"}},"& span:hover":{color:e.palette.common.black}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"15px",cursor:"pointer",top:"-6px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},forgotPass:{fontFamily:"poppins",fontSize:"12px",paddingTop:"3px",color:"#00ade2",cursor:"pointer","@media(max-width:359px)":{fontSize:"10px",paddingTop:"6px"}},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}},passwordImg:{"& img":{maxWidth:"25px",minWidth:"25px",marginTop:"-5px"}},blueErrorMsgClose:{position:"relative",marginTop:"5p",padding:"10px 30px 10px 10px",fontSize:"12px",textAlign:"left",transition:"all 0.2s ease",background:"#daf4fe",color:"#107ba5",cursor:"pointer"},hidden:{opacity:"0",marginTop:"25px"},closeBtn:{float:"right",fontSize:"18px",position:"absolute",top:"0",bottom:"0",right:"10px",margin:"auto",height:"17px",color:"#2399c4"},orText:{textAlign:"center",margin:"8px 0"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa);return i.a.createElement(ga,Object.assign({},t,a,e))});function fa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RESET_PASSWORD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NewPasswordWithCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateForgottenPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"mutation RESET_PASSWORD($data: NewPasswordWithCodeInput!) {\n  updateForgottenPassword(data: $data) {\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ba=function(e){Object(h.a)(a,e);var t=fa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",showEmailError:!1,showPasswordError:!1,showFormErrorMessage:!1,loading:!1,loginFailError:"",resetSuccessMessage:""},n.handleEmail=n.handleEmail.bind(Object(g.a)(n)),n.handlePassword=n.handlePassword.bind(Object(g.a)(n)),n.validateEmail=n.validateEmail.bind(Object(g.a)(n)),n.validatePassword=n.validatePassword.bind(Object(g.a)(n)),n.handleResetPasswordSubmit=n.handleResetPasswordSubmit.bind(Object(g.a)(n)),n.handleResetPasswordModelClose=n.handleResetPasswordModelClose.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"validateEmail",value:function(){var e=this.state,t=e.email,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:zt(t)||(n=!0),this.setState({showEmailError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validatePassword",value:function(){var e=this.state,t=e.password,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:Ht(t)||(n=!0),this.setState({showPasswordError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateForm",value:function(){var e=!1;return this.validateEmail()||(e=!0),this.validatePassword()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"handleResetPasswordSubmit",value:function(e){var t=this;if(void 0===e.key||"Enter"===e.key){var a=this.state,n=a.email,i=a.password,o=ie.getAccessTokenForgotPassword();if(!this.validateForm())return;var r={email:n,token:o,password:i};null!==o&&void 0!==o&&""!==o?(this.setState({loading:!0}),this.props.client.mutate({mutation:ka,variables:{data:r}}).then(function(e){"PASSWORD_NOT_UPDATED"===e.data.updateForgottenPassword.status?t.setState({loginFailError:e.data.updateForgottenPassword.message,resetSuccessMessage:"",loading:!1}):(t.props.handleResetPassword(e.data),ie.removeResetPassword("reset_password"),t.setState({resetSuccessMessage:e.data.updateForgottenPassword.message,loginFailError:"",loading:!1,email:"",password:""}))}).catch(function(e){var a=Gt(e);t.setState({loginFailError:a,loading:!1})})):this.setState({loginFailError:"Reset password token expired!",resetSuccessMessage:""})}}},{key:"handleResetPasswordModelClose",value:function(){this.props.handleResetPasswordClose()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.email,o=t.password,r=t.showEmailError,s=t.showPasswordError,l=t.loginFailError,d=t.resetSuccessMessage;return i.a.createElement("div",null,!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"Set New Password"),""===l?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},l),""===d?"":i.a.createElement(Oe.a,{variant:"overline",component:"p"},d),i.a.createElement("p",{onClick:this.handleResetPasswordModelClose,className:e.modalCloseIcons},i.a.createElement("img",{src:window.location.origin+"/img/close-button.png",alt:""})),i.a.createElement(tt.a,{className:e.dialogBox},i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Email"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"",className:!1===r?e.textField:e.errorMessage,type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",value:n,onChange:this.handleEmail,onBlur:this.validateEmail,onKeyUp:this.handleResetPasswordSubmit}),i.a.createElement("span",null,i.a.createElement("img",{src:window.location.origin+"/img/email-n.png",alt:""}))),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Confirm new password"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"",className:!1===s?e.textField:e.errorMessage,type:"password",name:"password",autoComplete:"",margin:"normal",variant:"outlined",value:o,onChange:this.handlePassword,onBlur:this.validatePassword,onKeyUp:this.handleResetPasswordSubmit}),i.a.createElement("span",{className:e.passwordImg},i.a.createElement("img",{src:window.location.origin+"/img/password.png",alt:""})),i.a.createElement("p",{className:!1===s?e.inputTooltip:e.inputTooltipError,"data-tip":"Password should contain minimum 6 characters."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement("div",{className:e.signupBtn,onClick:this.handleResetPasswordSubmit},i.a.createElement(Oe.a,{variant:"button"},"Set password"))),i.a.createElement(rt.a,{place:"top",className:e.toolTipForms,type:"error",effect:"solid"}))}}]),a}(i.a.Component),ya=C()(Object(T.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"3px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 35px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},CheckboxBottm:{position:"relative",marginTop:"-10px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue,paddingRight:"5px"}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px"}},dialogBox:{minWidth:"280px","@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},signupBtn:{marginBottom:"15px"},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"14px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500","& a":{color:e.palette.common.blue,textDecoration:"none",verticalAlign:"baseline",paddingLeft:"3px",paddingTop:"1px",display:"inline-block",marginTop:"-3px"},"& a:hover":{color:e.palette.common.black}}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"15px",cursor:"pointer",top:"-6px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},forgotPass:{position:"absolute",top:0,right:0,fontFamily:"poppins",fontSize:"12px",paddingTop:"3px",color:"#00ade2",cursor:"pointer"},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}},passwordImg:{"& img":{maxWidth:"25px",minWidth:"25px",marginTop:"-5px"}},inputTooltip:{display:"none"},inputTooltipError:{position:"absolute",top:"20px",right:"11px",background:"#ccc",width:"20px",height:"20px",borderRadius:"50%",textAlign:"center",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},toolTipForms:{color:"#ffffff",backgroundColor:"green",maxWidth:"240px",fontFamily:"'Poppins', sans-serif",fontSize:"12px"}}}),je.a,b.b)(ba),xa=a(64),Na=a.n(xa);function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var wa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},_a=function(e){Object(h.a)(a,e);var t=Sa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={profileImage:"",aboutYourself:"",loading:!1,imageError:"",isModify:!1},n.setCoverImages=n.setCoverImages.bind(Object(g.a)(n)),n.handleAboutYourself=n.handleAboutYourself.bind(Object(g.a)(n)),n.onSubmitCreateProfile=n.onSubmitCreateProfile.bind(Object(g.a)(n)),n.handleCreateProfileModal=n.handleCreateProfileModal.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setState({profileImage:this.props.image||""})}},{key:"setCoverImages",value:function(){var e=this.refs.profileImage.files[0],t=new FileReader;t.readAsDataURL(e);var a="";t.onloadend=function(n){var i=t.result,o=e.name,r=e.size/1024/1024;-1!==o.indexOf("png")||-1!==o.indexOf("PNG")?a="png":-1!==o.indexOf("jpg")||-1!==o.indexOf("jpeg")?a="jpg":-1===o.indexOf("gif")&&-1===o.indexOf("GIF")||(a="gif"),"jpg"!==a&&"png"!==a&&"gif"!==a||null===a||""===a||void 0===a?(this.setState({imageError:"Uploaded file is not a valid image. Only JPG, PNG and GIF files are allowed.",profileImage:""}),document.getElementById("imageUpload").value=""):r<5?this.setState({profileImage:i,isModify:!0,imageError:""}):(this.setState({imageError:"Image size should be less than 5MB.",profileImage:""}),document.getElementById("imageUpload").value="")}.bind(this)}},{key:"handleAboutYourself",value:function(e){this.setState({aboutYourself:e.target.value})}},{key:"onSubmitCreateProfile",value:function(){var e=this,t=this.state,a=t.profileImage,n=t.aboutYourself,i=t.isModify;""!==a||""!==n?(this.setState({loading:!0}),this.props.client.mutate({mutation:wa,variables:{data:{description:n,image_url:a,isModify:i}}}).then(function(t){t.data.createProfile.status&&e.props.handleUser(Object(u.a)({},e.props.user,{img_url:t.data.createProfile.image_url,description:n})),e.props.handleCreateProfile(t.data.createProfile),e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loginFailError:a,loading:!1})})):this.setState({imageError:"Please upload profile photo or tell about yourself to submit."})}},{key:"handleCreateProfileModal",value:function(){this.props.handleCreateProfileClose()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.referralCode,n=e.email,o=e.firstname,r=e.referralToken,s=this.state,l=s.profileImage,d=s.aboutYourself,c=s.loading,m=s.imageError;return i.a.createElement("div",null,!0===c?i.a.createElement(ut,{loading:c}):"",i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"Create Profile"),""===m?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},m),i.a.createElement("p",{onClick:this.handleCreateProfileModal,className:t.modalCloseIcons},i.a.createElement("img",{src:window.location.origin+"/img/close-button.png",alt:""})),i.a.createElement(tt.a,{className:t.dialogBox},i.a.createElement("div",{className:t.uploadInput},i.a.createElement(Na.a,{alt:"",src:l||window.location.origin+"/img/profile-icon.png"}),i.a.createElement("input",{ref:"profileImage",type:"file",id:"imageUpload",name:"profileImage",onChange:this.setCoverImages}),i.a.createElement("p",null,"UPLOAD A PHOTO")),i.a.createElement("div",{className:t.formInputBox2},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"}," Tell us about yourself"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"Min 15 characters",className:t.textFieldTwo,type:"text",name:"pool",autoComplete:"",margin:"normal",variant:"outlined",multiline:!0,rows:4,rowsMax:4,onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:d,onChange:this.handleAboutYourself})),r?i.a.createElement(Oe.a,{variant:"subheading"},"In order to receive referral code, you will need to add a profile picture and Bio"):null,i.a.createElement("span",{className:t.signupBtn,onClick:this.onSubmitCreateProfile},i.a.createElement(Oe.a,{variant:"button"},"ADD TO PROFILE"))),a&&i.a.createElement("img",{style:{position:"absolute",visibility:"hidden"},src:"https://www.ref-r.com/campaign/t1/settings?bid_e=35B20B04DB28FDCEF3DCACD87B6962B5&bid=26502&t=420&event=register&email="+n+"&orderID="+n+"&fname="+o,alt:""}))}}]),a}(i.a.Component);var Ea=C()(Object(T.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.6px",marginBottom:"3px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},CheckboxBottm:{position:"relative",marginTop:"-10px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px"}},dialogBox:{minWidth:"280px","@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& label":{letterSpacing:"1px",fontSize:"12px",marginBottom:"5px"},"& a":{textDecoration:"none"}},signupBtn:{marginBottom:"0",marginTop:"15px",display:"table",width:"100%"},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"14px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500"}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"20px",cursor:"pointer",top:"-6px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},uploadInput:{fontFamily:"'Poppins', sans-serif",position:"relative",paddingTop:"25px","& label":{letterSpacing:"0.5px"},"& input":{position:"absolute",left:0,right:0,width:"100%",top:0,height:"100%",opacity:0,cursor:"pointer"},"& > div":{margin:"0 auto",width:"80px",height:"80px"},paddingBottom:"0",textAlign:"center","& p":{fontSize:"12px",color:e.palette.common.blue,cursor:"pointer",marginTop:"5px",paddingBottom:"8px"}},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(_a,Object.assign({},t,e))});function Fa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ca={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FORGOT_PASSWORD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ForgotPasswordInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"forgotPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:116,source:{body:"mutation FORGOT_PASSWORD($data: ForgotPasswordInput!) {\n  forgotPassword(data: $data) {\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ta=function(e){Object(h.a)(a,e);var t=Fa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={email:"",showEmailError:!1,showFormErrorMessage:!1,loading:!1,successMessage:"",ErrorMessage:""},n.handleEmail=n.handleEmail.bind(Object(g.a)(n)),n.validateEmail=n.validateEmail.bind(Object(g.a)(n)),n.handleForgotPassword=n.handleForgotPassword.bind(Object(g.a)(n)),n.handleForgotPasswordCloseModal=n.handleForgotPasswordCloseModal.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"validateEmail",value:function(){var e=this.state,t=e.email,a=e.showFormErrorMessage,n=!1;return Ut(t)?n=!0:zt(t)||(n=!0),this.setState({showEmailError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateForm",value:function(){var e=!1;return this.validateEmail()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"handleForgotPassword",value:function(e){var t=this;if(void 0===e.key||"Enter"===e.key){var a=this.state.email;if(!this.validateForm())return;this.setState({loading:!0}),this.props.client.mutate({mutation:Ca,variables:{data:{email:a}}}).then(function(e){"EMAIL_NOT_SENT"===e.data.forgotPassword.status?t.setState({successMessage:"",ErrorMessage:e.data.forgotPassword.message,loading:!1}):t.setState({ErrorMessage:"",email:"",successMessage:e.data.forgotPassword.message,loading:!1})}).catch(function(e){var a=Gt(e);t.setState({loginFailError:a,loading:!1})})}}},{key:"handleForgotPasswordCloseModal",value:function(){this.props.handleForgotPasswordCloseModal()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.email,n=t.showEmailError,o=t.loading,r=t.successMessage,s=t.ErrorMessage;return i.a.createElement("div",null,!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement(Oe.a,{variant:"h3",component:"h3"},"Forgot Password"),""===r?"":i.a.createElement(Oe.a,{variant:"overline",component:"p"},r),""===s?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},s),i.a.createElement("p",{onClick:this.handleForgotPasswordCloseModal,className:e.modalCloseIcons},i.a.createElement("img",{src:window.location.origin+"/img/close-button.png",alt:""})),i.a.createElement(tt.a,{className:e.dialogBox},i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Email"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"",className:!1===n?e.textField:e.errorMessage,type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",value:a,onChange:this.handleEmail,onKeyUp:this.handleForgotPassword}),i.a.createElement("span",null,i.a.createElement("img",{src:window.location.origin+"/img/email-n.png",alt:""}))),i.a.createElement("div",{className:e.signupBtn,onClick:this.handleForgotPassword},i.a.createElement(Oe.a,{variant:"button"},"Send password reset email"))))}}]),a}(i.a.Component),Pa=C()(Object(T.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.6px",marginBottom:"3px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 35px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},CheckboxBottm:{position:"relative",marginTop:"-10px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},dialogBoxContainer:{padding:"15px 22px 15px","& h3":{padding:"15px 22px 15px"}},dialogBox:{minWidth:"280px",paddingTop:"25px","@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},signupBtn:{marginBottom:"15px",marginTop:"25px","@media (max-width:359px)":{fontSize:"14px","& span":{padding:"10px 15px"}}},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"14px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500"}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"20px",cursor:"pointer",top:"-6px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},forgotPass:{position:"absolute",top:0,right:0,fontFamily:"poppins",fontSize:"12px",paddingTop:"3px",color:"#00ade2",cursor:"pointer"},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}}}}),je.a,b.b)(Ta),Ia=a(139),Da=a(31),Oa=function(e){return{signupContainer:{},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.6px",marginBottom:"3px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},CheckboxBottm:{position:"relative",marginTop:"-10px","& span:last-child":{color:"#787878",fontSize:"13px"},"& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,paddingRight:"5px","&$checked":{color:e.palette.common.blue}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px"}},dialogBox:{minWidth:"280px","@media (max-width:767px)":{paddingBottom:"8px"},"@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},signupBtn:{margin:"25px 0"},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"13px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",cursor:"pointer","@media (max-width:767px)":{fontSize:"16px"}},"& span:hover":{color:e.palette.common.black}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"15px",cursor:"pointer",top:"-8px","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}},inputTooltip:{display:"none"},inputTooltipError:{position:"absolute",top:"20px",right:"11px",background:"#ccc",width:"20px",height:"20px",borderRadius:"50%",textAlign:"center",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},toolTipForms:{color:"#ffffff",backgroundColor:"green",maxWidth:"240px",fontFamily:"'Poppins', sans-serif",fontSize:"12px"},checkBoxMessage:{"& svg":{fill:"red"}},paddingLeftZero:{paddingLeft:"7px !important"},paddingRightZero:{paddingRight:"7px !important"},closeBtn:{float:"right",fontSize:"18px",position:"absolute",top:"0",bottom:"0",right:"10px",margin:"auto",height:"17px",color:"#ff6161"},errorMsgClose:{position:"relative",marginTop:"45px",transition:"all 0.2s ease"},hidden:{opacity:"0",marginTop:"25px"},sinupLabelMain:{display:"inline-block",marginLeft:"-14px","& label":{fontSize:"13px",verticalAlign:"middle","@media (max-width:767px)":{color:"#989fa2"},"@media (max-width:360px)":{fontSize:"11px"}},"& a":{textDecoration:"underline",color:"inherit"}}}};function Ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Aa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"OauthLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"Oauth2Input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"OauthLogin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_in"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:318,source:{body:"mutation OauthLogin($data: Oauth2Input) {\n  OauthLogin(data: $data) {\n    fields\n    url\n    access_token\n    refresh_token\n    expires_in\n    expires_at\n    token_type\n    status\n    role {\n      id\n      name\n    }\n    email\n    image_url\n    message\n    country_code\n    country_code_swimmer\n    last_pool_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ba=function(e){Object(h.a)(a,e);var t=Ra(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={firstName:"",lastName:"",email:"",phoneNumber:"",zipCode:"",loading:!1,emailExist:!1,firstNameExist:!1,lastNameExist:!1,errorMessage:"",validation:{email:{valid:!0},firstName:{valid:!0},lastName:{valid:!0},phoneNumber:{valid:!0},zipCode:{valid:!0}}},e.provider="FACEBOOK",e.accessToken="",e.handleParams=function(){var t=e.props.signUpData||{},a=t.fields,n=t.accessToken,i=t.provider,o=void 0===i?"FACEBOOK":i;e.provider=o,e.accessToken=n,e.setState({emailExist:!a.includes("email"),firstNameExist:!a.includes("firstname"),lastNameExist:!a.includes("lastname")})},e.handleChange=function(t,a){var n=a.target.value;e.setState(Object(Fe.a)({},t,n),function(){e.toggleValid([t],!0)})},e.submit=function(t){t.preventDefault();var a=e.state,n=a.email,i=a.firstName,o=a.lastName,r=a.phoneNumber,s=a.zipCode,l=a.loading,d=a.emailExist,u=a.firstNameExist,p=a.lastNameExist;if(!l){var v=[];d||zt(n)||v.push("email"),u||i.length||v.push("firstName"),p||o.length||v.push("lastName"),r.length<10&&v.push("phoneNumber"),(s.length<4||s.length>10)&&v.push("zipCode"),v.length?e.toggleValid(v,!1):e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=ie.getReferralToken(),n={provider:e.provider,request:"auth",zipcode:e.state.zipCode,phone_number:e.state.phoneNumber,referral_token:a},"FACEBOOK"===e.provider&&(n.access_token=e.accessToken),"APPLE"===e.provider&&(n.id_token=e.accessToken),e.state.email&&(n.email=e.state.email),e.state.firstName&&(n.firstname=e.state.firstName),e.state.lastName&&(n.lastname=e.state.lastName),t.next=10,e.props.client.mutate({mutation:Aa,variables:{data:n}});case 10:i=t.sent,o=i.data.OauthLogin,e.setState({loading:!1},function(){o.status.match(/USER_REGISTERED|LOGGED_IN/)?(Kt.handleSignUp(o,e.props),e.props.handleUser(),e.props.handleOauthSignUp(o),e.props.toggleJoyspaceModal(!0)):o.status&&o.message?e.setState({errorMessage:o.message}):e.setState({errorMessage:"Something went wrong."})}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.setState({loading:!1},function(){Gt(t.t0).toLowerCase().match(/email already exists/)?e.toggleValid(["email"],!1):t.t0.graphQLErrors[0]&&t.t0.graphQLErrors[0].extensions&&t.t0.graphQLErrors[0].extensions.errors&&t.t0.graphQLErrors[0].extensions.errors.email&&t.t0.graphQLErrors[0].extensions.errors.email[0]&&e.setState({errorMessage:t.t0.graphQLErrors[0].extensions.errors.email[0]})});case 18:case"end":return t.stop()}},t,null,[[0,15]])})))}},e.toggleValid=function(t){for(var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},i=0;i<t.length;i++)n[t[i]]={valid:a};e.setState({validation:Object(u.a)({},e.state.validation,n)})},e.handlePhoneNumber=function(t){var a=t.target.value;(""===a||/^[0-9\b]+$/.test(a))&&(a.substring(0,13).length<13&&e.setState({phoneNumber:a},function(){e.toggleValid(["phoneNumber"],!0)}))},e.handleCloseError=function(){e.setState({errorMessage:""})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleParams()}},{key:"componentDidUpdate",value:function(e){this.props.signUpData!==e.signUpData&&this.handleParams()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},this.state.loading&&i.a.createElement(ut,{loading:!0}),i.a.createElement("p",{onClick:this.props.closePopup,className:e.modalCloseIcons},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/close-button.png"),alt:"Close"})),i.a.createElement(Da.j,{variant:"caption",component:"p",className:"".concat(e.errorMsgClose," ").concat(this.state.errorMessage?"":e.hidden)},this.state.errorMessage,i.a.createElement("i",{className:"fa fa-close ".concat(e.closeBtn),onClick:this.handleCloseError})),i.a.createElement(Da.e,{className:e.dialogBox},!this.state.firstNameExist&&i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"First Name"),i.a.createElement(Da.i,{id:"outlined-first-name-input",placeholder:"First Name",className:this.state.validation.firstName.valid?e.textField:e.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:this.state.firstName,onChange:this.handleChange.bind(this,"firstName")}),i.a.createElement("p",{className:this.state.validation.email.valid?e.inputTooltip:e.inputTooltipError,"data-tip":"Doesn't look like a valid email."},i.a.createElement("i",{className:"fa fa-info"}))),!this.state.lastNameExist&&i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"Last Name"),i.a.createElement(Da.i,{id:"outlined-last-name-input",placeholder:"Last Name",className:this.state.validation.lastName.valid?e.textField:e.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:this.state.lastName,onChange:this.handleChange.bind(this,"lastName")}),i.a.createElement("p",{className:this.state.validation.email.valid?e.inputTooltip:e.inputTooltipError,"data-tip":"Doesn't look like a valid email."},i.a.createElement("i",{className:"fa fa-info"}))),!this.state.emailExist&&i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"Email"),i.a.createElement(Da.i,{id:"outlined-email-input",placeholder:"Email",className:this.state.validation.email.valid?e.textField:e.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:this.state.email,onChange:this.handleChange.bind(this,"email")}),i.a.createElement("p",{className:this.state.validation.email.valid?e.inputTooltip:e.inputTooltipError,"data-tip":"Doesn't look like a valid email."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"PHONE NUMBER"),i.a.createElement(Da.i,{id:"outlined-phone-number-input",placeholder:"Phone Number",className:this.state.validation.phoneNumber.valid?e.textField:e.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:this.state.phoneNumber,onChange:this.handlePhoneNumber}),i.a.createElement("p",{className:this.state.validation.phoneNumber.valid?e.inputTooltip:e.inputTooltipError,"data-tip":"Phone number should be 10-12 digits."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"ZIP CODE"),i.a.createElement(Da.i,{id:"outlined-zipcode-input",placeholder:"Zip Code",className:this.state.validation.zipCode.valid?e.textField:e.errorMessage,type:"text",name:"pool",margin:"normal",variant:"outlined",value:this.state.zipCode,onChange:this.handleChange.bind(this,"zipCode")}),i.a.createElement("p",{className:this.state.validation.zipCode.valid?e.inputTooltip:e.inputTooltipError,"data-tip":"Doesn't look like a valid Zip Code."},i.a.createElement("i",{className:"fa fa-info"}))),i.a.createElement("div",{className:e.signupBtn,onClick:this.submit},i.a.createElement(Da.j,{variant:"button"},"Next"))),i.a.createElement(rt.a,{place:"top",className:e.toolTipForms,type:"error",effect:"solid"}))}}]),a}(i.a.Component);Ba.defaultProps={classes:{},signUpData:{fields:[],provider:"FACEBOOK",accessToken:""},closePopup:function(){},handleOauthSignUp:function(){}};var Ma=C()(Object(T.withStyles)(Oa),je.a,b.b)(function(e){var t=Object(n.useContext)(sa),a=Object(n.useContext)(Jt);return i.a.createElement(Ba,Object.assign({},a,t,e))}),ja=function(e){var t=e.style,a=e.badgeText,n=e.classes;return i.a.createElement("div",{style:t,className:n.badgeContainer},i.a.createElement(Oe.a,{variant:"inline"},a))};ja.defaultProps={style:{}};var La=C()(Object(T.withStyles)(function(){return{badgeContainer:{position:"absolute",top:"-10px",right:"0",background:"#fcd681","& span":{padding:"2px 5px",fontSize:"9px !important","@media (max-width:767px)":{fontSize:"13px !important"}}}}}))(ja);function Wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var za={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};Ia.a.initialize("UA-3065622-25"),Ia.a.pageview(window.location.pathname+window.location.search);var Ua=function(e){Object(h.a)(a,e);var t=Wa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handle=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.toggleDrawer=function(e,t){return function(){n.setState(Object(Fe.a)({},e,t))}},n.handleClick=function(){n.setState({openDrop:!n.state.openDrop,open:!1})},n.handleSignUpScreen=function(e,t,a){n.setState({signUpData:{fields:e,accessToken:t,provider:a},loginModelOpen:!1,modalOpen:!1,showOauthSignUpPopup:!0})},n.handleOauthSignUp=function(e){var t=ie.getUserRole(),a=ie.getLastPoolId(),i=ie.getAccessToken();n.setState({showOauthSignUpPopup:!1,profileModelOpen:!0,userRole:t,accessToken:i,lastPoolId:a,signUpData:Object(u.a)({},n.state.signUpData,{image:e&&e.image_url})})},n.handleOauthLogin=function(){var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getAccessToken();n.renderUnreadMessage(),n.setState({loginModelOpen:!1,modalOpen:!1,userRole:e,accessToken:a,lastPoolId:t})},n.closeOauthSignUpPopup=function(){n.setState({showOauthSignUpPopup:!1})},n.state={open:!1,left:!1,openDrop:!1,modalOpen:!1,checkedInstantBooking:!1,profileModelOpen:!1,loginModelOpen:!1,userId:"",userIdGTM:"",emailGTM:"",forgotPasswordModal:!1,userRole:[],accessToken:"",resetPassword:"",resetPasswordModal:!0,currentPage:n.props.match.path,unreadMessage:!1,referral_code:"",email:"",firstname:"",showOauthSignUpPopup:!1,signUpData:{accessToken:"",fields:[]}},n.handleToggle=n.handleToggle.bind(Object(g.a)(n)),n.handleModelOpen=n.handleModelOpen.bind(Object(g.a)(n)),n.handleModel=n.handleModel.bind(Object(g.a)(n)),n.handleCreateProfileModelOpen=n.handleCreateProfileModelOpen.bind(Object(g.a)(n)),n.handleLoginModelOpen=n.handleLoginModelOpen.bind(Object(g.a)(n)),n.handleResetPassword=n.handleResetPassword.bind(Object(g.a)(n)),n.redirectPage=n.redirectPage.bind(Object(g.a)(n)),n.goTo=n.goTo.bind(Object(g.a)(n)),n.addHeaderClass=n.addHeaderClass.bind(Object(g.a)(n)),n.channel="",window.headerComponent=Object(g.a)(n),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getAccessToken(),n=ie.getResetPassword();window.addEventListener("scroll",this.addHeaderClass,!1),this.renderUnreadMessage(),this.setState({userRole:e,accessToken:a,resetPassword:n,lastPoolId:t});var i=ie.getPreviousUrl(),o=ie.getIsPreviousUrl();void 0!==o&&null!==o&&"yes"===o&&void 0!==i&&null!==i&&""!==i&&this.handleLoginModelOpen()}},{key:"componentDidUpdate",value:function(e,t,a){!this.props.newMessage||e.newMessage&&e.newMessage.id===this.props.newMessage.id||this.state.unreadMessage||+this.props.user.id!==this.props.newMessage.sender_id&&this.setState({unreadMessage:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.addHeaderClass,!1)}},{key:"addHeaderClass",value:function(){var e=this.props.classes,t=(window.scrollY,document.getElementById("header"));window.scrollY>10?t.classList.add(e.headerScroll):t.classList.remove(e.headerScroll)}},{key:"goTo",value:function(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}},{key:"redirectToTwitter",value:function(){window.open("https://twitter.com/swimply")}},{key:"redirectToInstagram",value:function(){window.open("https://www.instagram.com/swimply.official")}},{key:"redirectToFacebook",value:function(){window.open("https://www.facebook.com/swimply.official")}},{key:"renderUnreadMessage",value:function(){var e=this;this.props.client.query({query:za,fetchPolicy:"network-only"}).then(function(t){e.setState({unreadMessage:t.data.me.unread_message,userIdGTM:t.data.me.id,emailGTM:t.data.me.email}),ie.setUserID(t.data.me.id),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id)}).catch(function(e){})}},{key:"handleToggle",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"handleModelOpen",value:function(){this.setState({modalOpen:!0})}},{key:"handleModel",value:function(){ie.removePreviousUrl(),ie.removeIsPreviousUrl(),ie.removePreviousSearchUrl(),this.setState({modalOpen:!1,profileModelOpen:!1,loginModelOpen:!1})}},{key:"handleCreateProfileModelOpen",value:function(){this.setState({profileModelOpen:!0})}},{key:"handleLoginModelOpen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({loginModelOpen:!0,left:!1}),e.callback&&e.callback()}},{key:"handleSignupClose",value:function(e){this.setState({modalOpen:!1})}},{key:"handleSignUp",value:function(e,t,a,n){var i=ie.getUserRole(),o=ie.getLastPoolId(),r=ie.getAccessToken();this.setState({modalOpen:!1,userId:e.signUp.user_id,profileModelOpen:!0,userRole:i,accessToken:r,referral_code:t,email:n,firstname:a,lastPoolId:o})}},{key:"handleCreateProfileClose",value:function(){this.setState({profileModelOpen:!1})}},{key:"handleCreateProfile",value:function(){this.setState({profileModelOpen:!1})}},{key:"handleLogin",value:function(){var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getAccessToken();this.renderUnreadMessage(),this.setState({loginModelOpen:!1,userRole:e,accessToken:a,lastPoolId:t})}},{key:"handleForgotPassword",value:function(){this.setState({forgotPasswordModal:!0,loginModelOpen:!1})}},{key:"handleForgotPasswordCloseModal",value:function(){this.setState({forgotPasswordModal:!1})}},{key:"openLoginDialog",value:function(){this.setState({modalOpen:!1,loginModelOpen:!0})}},{key:"handleSignup",value:function(){this.setState({modalOpen:!0,loginModelOpen:!1})}},{key:"handleResetPasswordClose",value:function(){var e=ie.getAccessTokenForgotPassword();this.setState({resetPasswordModal:!1}),ie.removeResetPassword("reset_password"),ie.removeAccessTokenForgotPassword(e)}},{key:"handleResetPassword",value:function(e){var t=ie.getAccessTokenForgotPassword();this.setState({resetPasswordModal:!0}),ie.removeResetPassword("reset_password"),ie.removeAccessTokenForgotPassword(t)}},{key:"redirectPage",value:function(e,t){var a=ie.getAccessToken();if(!1===t||null!==a&&""!==a){var n=this.props.history;this.setState({left:!1}),"/"===n.location.pathname&&/#/.test(e)?window.location.href=e:n.push(e)}else this.handleLoginModelOpen()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.emailGTM,o=a.userIdGTM,r=a.resetPassword,s=a.userId,d=a.forgotPasswordModal,c=a.accessToken,m=a.userRole,u=a.unreadMessage,p=a.lastPoolId,v={dataLayer:{userId:o,email:n},dataLayerName:"PageDataLayer"};l.a.dataLayer(v);var g=i.a.createElement("div",null,i.a.createElement("p",{className:t.mobileIcon,onClick:this.toggleDrawer("left",!1)},i.a.createElement("i",{className:"fa"},i.a.createElement("img",{src:window.location.origin+"/img/close-button1.png",alt:""})),"Menu"),i.a.createElement("div",{className:t.toggleContainer}),""!==c&&null!==c?i.a.createElement("div",null,i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:t.joyspace,button:!0,onClick:function(){return e.redirectPage("/#joyspace",!1)}},i.a.createElement(La,{badgeText:"New"}),i.a.createElement(Ve.a,{primary:"Joyspace"})),i.a.createElement(Ye.a,{className:t.active,button:!0,onClick:function(){return e.redirectPage("/#mainbody",!1)}},i.a.createElement(Ve.a,{primary:"Find a pool"}))),null!==m&&"Host"===m?i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/host-reservation",!0)}},i.a.createElement(Ve.a,{primary:"Reservations"}))):i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/my-reservation",!0)}},i.a.createElement(Ve.a,{primary:"Reservations"}))),"Host"===m?i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/host",!0)}},i.a.createElement(Ve.a,{primary:"Pool"}))):"","Host"===m&&i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/daily-calendar-management/".concat(p),!0)}},i.a.createElement(Ve.a,{primary:"Calendar"}))),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/messages",!0)}},!0===u?i.a.createElement("span",null,i.a.createElement("small",{className:t.mobileMsgUnred})):"",i.a.createElement(Ve.a,{primary:"Inbox"}))),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/profile",!0)}},i.a.createElement(Ve.a,{primary:"Profile"})))):i.a.createElement("div",null,i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:t.joyspace,button:!0,onClick:function(){return e.redirectPage("/#joyspace",!1)}},i.a.createElement(La,{badgeText:"New"}),i.a.createElement(Ve.a,{primary:"Joyspace"})),i.a.createElement(Ye.a,{className:t.active,button:!0,onClick:function(){return e.redirectPage("/#mainbody",!1)}},i.a.createElement(Ve.a,{primary:"Find a pool"}))),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:function(){return e.redirectPage("/listyourpool",!1)}},i.a.createElement(Ve.a,{primary:"BECOME A HOST"}))),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:this.handleLoginModelOpen},i.a.createElement(Ve.a,{primary:"Login"})))),i.a.createElement("div",{className:t.footerMain},i.a.createElement("ul",{className:t.socailIcons},i.a.createElement("li",{onClick:this.redirectToTwitter},i.a.createElement("i",{className:"fa fa-twitter"})),i.a.createElement("li",{onClick:this.redirectToFacebook},i.a.createElement("i",{className:"fa fa-facebook"})),i.a.createElement("li",{onClick:this.redirectToInstagram},i.a.createElement("i",{className:"fa fa-instagram"}))),i.a.createElement("ul",{className:t.pageLinks},i.a.createElement("li",null,i.a.createElement("a",{href:"mailto:admin@swimply.com"},"Contact US")),i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/termsandconditions"},"Terms of use")),i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/privacy"},"Privacy policy")))));return i.a.createElement("div",{className:t.root},i.a.createElement(Te.a,{position:"static",className:t.headerMain,id:"header"},i.a.createElement(Ie.a,{className:t.header},i.a.createElement(Oe.a,{variant:"h6",color:"inherit",className:t.logoImage},i.a.createElement(ze.a,{to:"/"}," ",i.a.createElement("img",{src:he,alt:""})," ")),""!==c&&null!==c?i.a.createElement("div",{className:t.menuMain},me?null:i.a.createElement(Ae.a,{className:[t.buttonHead,t.joyspace],color:"inherit",onClick:this.goTo.bind(this,"joyspace")},i.a.createElement(La,{badgeText:"New"}),"Joyspace"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:this.goTo.bind(this,"mainbody")},"Find a pool"),null!==m&&"Host"===m?i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/host-reservation",!0)}},"Reservations"):i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/my-reservation",!0)}},"Reservations"),null!==m&&"Host"===m?i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/host",!0)}},"Pool"):"",null!==m&&"Host"===m&&i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/daily-calendar-management/".concat(p),!0)}},"Calendar"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/messages",!0)}},!0===u?i.a.createElement("span",null,i.a.createElement("small",{className:t.msgUnred})):"","Inbox"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/profile",!0)}},"Profile")):i.a.createElement("div",{className:t.menuMain},me?null:i.a.createElement(Ae.a,{className:[t.buttonHead,t.joyspace],color:"inherit",onClick:this.goTo.bind(this,"joyspace")},i.a.createElement(La,{badgeText:"New"}),"Joyspace"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:this.goTo.bind(this,"mainbody")},"Find a pool"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/listyourpool",!1)}},"BECOME A HOST"),i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:this.handleLoginModelOpen},"Login")),i.a.createElement(Me.a,{className:t.mobileMenu,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer("left",!0)},i.a.createElement(We.a,null)))),i.a.createElement(He.a,{open:this.state.left,on:this.toggleDrawer("left",!1),onOpen:this.toggleDrawer("left",!0),onClose:this.toggleDrawer("left",!1)},i.a.createElement("div",{className:t.drawerMenu,tabIndex:0,role:"button"},g)),i.a.createElement(Je.a,{open:this.state.modalOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ma,{handleSignUpScreen:this.handleSignUpScreen,handleOauthLogin:this.handleOauthLogin,openLoginDialog:this.openLoginDialog.bind(this),handleSignupClose:this.handleSignupClose.bind(this),handleSignUp:this.handleSignUp.bind(this)})),i.a.createElement(Je.a,{open:this.state.profileModelOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Ea,{userId:s,referralCode:this.state.referral_code,email:this.state.email,firstname:this.state.firstname,image:this.state.signUpData.image,handleCreateProfileClose:this.handleCreateProfileClose.bind(this),handleCreateProfile:this.handleCreateProfile.bind(this)})),i.a.createElement(Je.a,{open:this.state.loginModelOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ha,{handleSignup:this.handleSignup.bind(this),handleForgotPassword:this.handleForgotPassword.bind(this),handleLogin:this.handleLogin.bind(this),handleSignUpScreen:this.handleSignUpScreen,handleOauthLogin:this.handleOauthLogin})),"reset_password"===r?i.a.createElement(Je.a,{open:this.state.resetPasswordModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ya,{handleResetPasswordClose:this.handleResetPasswordClose.bind(this),handleResetPassword:this.handleResetPassword.bind(this)})):"",i.a.createElement(Je.a,{open:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Pa,{handleForgotPasswordCloseModal:this.handleForgotPasswordCloseModal.bind(this)})),i.a.createElement(Je.a,{open:this.state.showOauthSignUpPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Ma,{handleOauthSignUp:this.handleOauthSignUp,closePopup:this.closeOauthSignUpPopup,signUpData:this.state.signUpData})))}}]),a}(i.a.Component);var Ha=C()(Object(T.withStyles)(function(e){return{root:{background:e.palette.common.transparent,position:"fixed",boxShadow:"none",color:e.palette.common.white,fontWeight:"normal",zIndex:9,width:"100%"},headerMain:{background:e.palette.common.transparent,boxShadow:"none","& a":{color:e.palette.common.white,textDecoration:"none"}},header:{width:"95%",maxWidth:"1170px",margin:"0 auto","& img":{filter:"brightness(0) invert(1)"},"& button:hover":{background:"transparent"},"& button:last-child":{border:"1px solid #fff",borderRadius:"15px",padding:" 4px 24px",marginLeft:"20px","@media (max-width: 880px)":{marginLeft:"10px"}},"@media (max-width:767px)":{width:"100%","& h6":{display:"table",width:"calc(100% - 40px)",textAlign:"center"}}},headerScroll:{background:"rgba(255,255,255,1)",boxShadow:"0px -2px 9px 0px #ccc","& span":{color:e.palette.common.blue},"& img":{filter:"none"},"& button:first-child":{"& > span":{color:me?e.palette.common.blue:"#F9007B !important"}},"& button:last-child":{border:"1px solid #22bfea",background:"#22bfea","& span":{color:"#fff"}}},buttonHead:{fontWeight:300,paddingLeft:"20px",paddingRight:"20px",fontSize:"13px",background:e.palette.common.transparent,color:e.palette.common.white,"& span":{fontWeight:"500"},"@media (max-width:980px)":{paddingLeft:"15px",paddingRight:"15px"},"@media (max-width:880px)":{paddingLeft:"7px",paddingRight:"7px",fontSize:"12px"}},joyspace:{color:"#F9007B","& span":{textShadow:"0px 0px 1px #fff"},"& > div":{padding:"0"}},faMenuIcon:{fontSize:"22px",display:"block",verticalAlign:"middle",paddingLeft:" 7px"},avatarProfile:{width:"auto",height:"auto",marginRight:"8px"},menuMain:{width:"100%",textAlign:"right","@media (max-width:767px)":{display:"none"}},mobileMenu:{display:"none",color:e.palette.common.white,"@media (max-width:767px)":{display:"block",textAlign:"right",position:"absolute",left:"0"}},drawerMenu:{height:"100vh",width:"100vw",background:e.palette.common.white,"& ul":{display:"table",margin:"0 auto",padding:"5px 0","& > div > div":{paddingRight:"0"},"& span":{color:e.palette.common.black,background:e.palette.common.transparent,fontSize:"18px",textAlign:"center",textTransform:"uppercase"},"& svg":{color:e.palette.common.black}}},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"10px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},CheckboxBottm:{position:"relative",marginTop:"-10px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px 15px"},"& > div > div:first-child":{maxHeight:"calc(100vh - 25px)",maxWidth:"350px",minWidth:"350px","@media (max-width:767px)":{minWidth:"330px",borderRadius:"10px"},"@media (max-width:360px)":{minWidth:"290px",borderRadius:"10px"}}},dialogBox:{minWidth:"280px","& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"},"@media (max-width:480px)":{minWidth:"200px"}},signupBtn:{marginBottom:"15px"},signupToHostBtn:{marginBottom:"10px","& span":{color:e.palette.common.black,background:e.palette.common.transparent,border:"2px solid #00ade2",padding:"6px 15px"}},alreadyHaveAccount:{background:e.palette.common.gray,padding:"15px",textAlign:"center",borderTop:"1px solid #ccc","& label":{fontSize:"14px","& span":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500","@media (max-width:767px)":{fontSize:"16px"}}},"meida (max-width:767px)":{"& span":{fontSize:"16px"}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:"#ccc",paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"18px",marginTop:"10px",marginLeft:"15px"}}},modalCloseIcons:{position:"absolute",right:"20px",cursor:"pointer",top:"0","& img":{maxWidth:"30px",filter:"grayscale(1)"},"& img:hover":{filter:"grayscale(0)"}},textFieldTwo:{background:"#f3f5f5",width:"100%",marginTop:0},msgUnred:{content:"",position:"absolute",width:"10px",height:"10px",background:"red",top:"0",right:"12px",borderRadius:"50%"},mobileMsgUnred:{content:"",position:"absolute",width:"10px",height:"10px",background:"red",top:"4px",right:"10px",borderRadius:"50%","@media (max-width:767px)":{right:"0",top:"3px"}},socailIcons:{listStyle:"none",display:"table",textAlign:"center",margin:"0 auto",padding:0,"& li":{width:"40px",height:"40px",background:e.palette.common.blue,display:"inline-block",borderRadius:"50%",marginRight:"35px",cursor:"pointer","&:last-child":{marginRight:"0"},"&:hover":{background:"#00ade2"},"& i":{marginTop:"9px",color:"#fff",fontSize:"25px"}}},pageLinks:{listStyle:"none",paddingLeft:"0",marginBottom:"35px",textTransform:"uppercase","@media (max-width:767px)":{marginBottom:"0",display:"flex !important",flexWrap:"wrap",justifyContent:"center"},"& li":{display:" inline-block",color:e.palette.common.blue,paddingRight:"34px",cursor:"pointer","@media (max-width:767px)":{width:"50%",textAlign:"center",padding:"15px 0",flex:1,whiteSpace:"nowrap",display:"flex",justifyContent:"center","&:first-child":{flex:"100%"}},"& a":{color:e.palette.common.darkgray,"&:hover":{color:"#00ade2"}}}},footerMain:{fontFamily:'"Poppins", sans-serif',width:" 100%",position:" relative",textAlign:"center",maxWidth:" 290px",paddingTop:"70px",margin:"0 auto"},active:{"& span":{color:e.palette.common.blue+" !important"}},logoImage:{"& img":{maxWidth:"140px"}},toggleContainer:{display:"flex",justifyContent:"center",marginBottom:"15px"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa);return i.a.createElement(Ua,Object.assign({},t,a,e))}),Ga=a(140);var Ya=C()(Object(T.withStyles)(function(e){return{regionToggleContainer:{position:"relative",display:"inline-block",padding:"5px 10px",backgroundColor:"#fff",borderRadius:"16px",cursor:"pointer",boxShadow:"1px 1px 10px #4d5051","& span":{position:"relative",fontSize:"14px"},"& span.active":{color:"#fff"},"& span.margin":{marginRight:"12px"},"& .toggle":{position:"absolute",top:0,left:0,width:"55%",height:"100%",backgroundColor:e.palette.common.blue,borderRadius:"12px",transition:"all 0.4s ease","&.active":{left:"auto",right:0}}}}}))(function(e){var t=e.classes,a=e.children,o=e.from,r=Object(n.useContext)(ua),s=Object(n.useState)(r.region),l=Object(Ga.a)(s,2),d=l[0],c=l[1];function m(e){var t=ie.getHostDataIncomplete(),a="au"!==e?"au":"us";ie.setCurrentRegion(a).then(function(){var e=Bt.test(window.location.pathname)?window.location.pathname.replace(Bt,"".concat("us"===a?"/":"/au/")):window.location.pathname.replace(/^/,"".concat("us"===a?"/":"/au"));if(c(a),"addpool"===o&&t){var n=("us"===a?"/":"/au/")+"host";window.location.replace(n)}else window.location.replace(e)})}return a?i.a.createElement("span",{onClick:m.bind(null,d)},a):i.a.createElement("div",{className:t.regionToggleContainer,onClick:m.bind(null,d)},i.a.createElement("span",{className:"toggle ".concat("au"===d?"active":"")}),i.a.createElement("span",{className:"margin ".concat("au"!==d?"active":"")},"US"),i.a.createElement("span",{className:"au"===d?"active":""},"AU"))});function qa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Va=function(e){Object(h.a)(a,e);var t=qa(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).redirectToHelpCenter=function(){window.open("https://swimply.zendesk.com")},n.state={},n.redirectToFacebook=n.redirectToFacebook.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"redirectToTwitter",value:function(){window.open("https://twitter.com/swimply")}},{key:"redirectToInstagram",value:function(){window.open("https://www.instagram.com/swimply.official")}},{key:"redirectToFacebook",value:function(){window.open("https://www.facebook.com/swimply.official")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.footer},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.footerMain},i.a.createElement("ul",{className:e.pageLinks},i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/termsandconditions"},"Terms of use")),i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/privacy"},"Privacy policy")),i.a.createElement("li",{onClick:this.redirectToHelpCenter},"help center"),i.a.createElement("li",null,i.a.createElement("a",{href:"mailto:info@swimply.com"},"Contact US"))),i.a.createElement("div",{className:e.toggleContainer},i.a.createElement(Ya,null)),i.a.createElement("div",{className:e.footerRightBox},i.a.createElement("ul",{className:e.socailIcons},i.a.createElement("li",{onClick:this.redirectToFacebook},i.a.createElement("i",{className:"fa fa-facebook"})),i.a.createElement("li",{onClick:this.redirectToTwitter},i.a.createElement("i",{className:"fa fa-twitter"})),i.a.createElement("li",{onClick:this.redirectToInstagram},i.a.createElement("i",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/instagram.png"})))),i.a.createElement("p",null,"Swimply \xa92020. All Rights Reserved."))))))}}]),a}(i.a.Component),$a=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},footer:{background:"#fff",padding:"0px 0 30px",textAlign:"center","& p":{color:" #B6B6B6",marginBottom:0,marginTop:"4px",fontSize:"13px"},"& a":{color:e.palette.common.black}},footerMain:{display:"flex","@media (max-width:767px)":{display:"block"}},socailIcons:{listStyle:"none",display:"table",textAlign:"center",margin:"0 0 0 auto",padding:0,"& li":{display:"inline-block",borderRadius:"50%",marginRight:"18px",cursor:"pointer","&:last-child":{marginRight:"0"},"& i":{marginTop:"0",color:"#3a3a3a",fontSize:"19px"},"& img":{maxWidth:"16px"},"@media (max-width:767px)":{width:"38px",height:"38px","& i":{fontSize:"25px"}}},"@media (max-width:767px)":{margin:"10px auto 0 auto"}},pageLinks:{listStyle:"none",paddingLeft:"0",marginTop:"0",marginBottom:"35px",textTransform:"uppercase",textAlign:"left",width:"70%","@media (max-width:767px)":{marginBottom:"0",width:"100%"},"& li":{display:" inline-block",paddingRight:"60px",cursor:"pointer",fontWeight:"500",color:"#000","&:hover":{color:"#00ade2"},"@media (max-width:767px)":{display:"block",textAlign:"center",padding:"5px 0"},"& a":{color:"#000","&:hover":{color:"#00ade2"}}}},footerRightBox:{display:"block",width:"30%",textAlign:"right","@media (max-width:767px)":{width:"100%",textAlign:"center"}},toggleContainer:{marginTop:"-5px","@media (max-width:767px)":{marginTop:"0"}}}}),je.a)(Va),Qa=function(e){var t=e.classes,a=e.component;return i.a.createElement(T.MuiThemeProvider,{theme:Ee},i.a.createElement(Ha,null),i.a.createElement("div",{className:t.root},i.a.createElement("main",{className:t.content},i.a.createElement(a,null))),i.a.createElement($a,null))};Qa.defaultProps={loggedInUser:null};var Ka=C()(Object(T.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"center"},content:{flexGrow:1,minHeight:"90vh",overflow:"hidden"}}))(Qa);function Ja(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Za={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};Ia.a.initialize("UA-3065622-25"),Ia.a.pageview(window.location.pathname+window.location.search);var Xa=function(e){Object(h.a)(a,e);var t=Ja(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handle=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.toggleDrawer=function(e,t){return function(){n.setState(Object(Fe.a)({},e,t))}},n.handleClick=function(){n.setState({openDrop:!n.state.openDrop,open:!1})},n.redirectToSearch=function(){"/referral"===n.props.location.pathname&&(n.setState({referralToken:""}),n.props.history.replace("/search"))},n.handleSignUpScreen=function(e,t,a){n.setState({signUpData:{fields:e,accessToken:t,provider:a},loginModelOpen:!1,modalOpen:!1,showOauthSignUpPopup:!0})},n.handleOauthSignUp=function(e){var t=ie.getUserRole(),a=ie.getLastPoolId(),i=ie.getAccessToken();n.setState({showOauthSignUpPopup:!1,profileModelOpen:!0,userRole:t,accessToken:i,lastPoolId:a,signUpData:Object(u.a)({},n.state.signUpData,{image:e&&e.image_url})})},n.handleOauthLogin=function(){var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getAccessToken();n.renderUnreadMessage(),n.setState({loginModelOpen:!1,modalOpen:!1,userRole:e,accessToken:a,lastPoolId:t},n.redirectToSearch)},n.closeOauthSignUpPopup=function(){n.setState({showOauthSignUpPopup:!1})},n.state={open:!1,left:!1,openDrop:!1,modalOpen:!1,checkedInstantBooking:!1,profileModelOpen:!1,loginModelOpen:!1,userId:"",email:"",userIdGTM:"",forgotPasswordModal:!1,userRole:[],accessToken:"",unreadMessage:!1,currentPage:n.props.match.path,showFacebookSignUpPopup:!1,showOauthSignUpPopup:!1,referralToken:"",signUpData:{accessToken:"",fields:[],image:null}},n.handleToggle=n.handleToggle.bind(Object(g.a)(n)),n.handleModelOpen=n.handleModelOpen.bind(Object(g.a)(n)),n.handleModel=n.handleModel.bind(Object(g.a)(n)),n.handleCreateProfileModelOpen=n.handleCreateProfileModelOpen.bind(Object(g.a)(n)),n.handleLoginModelOpen=n.handleLoginModelOpen.bind(Object(g.a)(n)),n.redirectPage=n.redirectPage.bind(Object(g.a)(n)),n.addHeaderClass=n.addHeaderClass.bind(Object(g.a)(n)),n.renderUnreadMessage=n.renderUnreadMessage.bind(Object(g.a)(n)),window.headerComponent=Object(g.a)(n),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getReferralToken(),n=ie.getAccessToken();window.scrollTo(0,0),window.addEventListener("scroll",this.addHeaderClass,!1),this.renderUnreadMessage(),this.setState({userRole:e,accessToken:n,lastPoolId:t,referralToken:a})}},{key:"componentDidUpdate",value:function(e,t,a){!this.props.newMessage||e.newMessage&&e.newMessage.id===this.props.newMessage.id||this.state.unreadMessage||+this.props.user.id!==this.props.newMessage.sender_id&&this.setState({unreadMessage:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.addHeaderClass,!1)}},{key:"addHeaderClass",value:function(){var e=this.props.classes,t=(window.scrollY,document.getElementById("header"));window.scrollY>10?t.classList.add(e.headerScroll):t.classList.remove(e.headerScroll)}},{key:"redirectToTwitter",value:function(){window.open("https://twitter.com/swimply")}},{key:"redirectToInstagram",value:function(){window.open("https://www.instagram.com/swimply.official")}},{key:"redirectToFacebook",value:function(){window.open("https://www.facebook.com/swimply.official")}},{key:"handleToggle",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"handleModelOpen",value:function(){this.setState({modalOpen:!0})}},{key:"handleModel",value:function(){this.setState({modalOpen:!1,profileModelOpen:!1,loginModelOpen:!1})}},{key:"handleCreateProfileModelOpen",value:function(){this.setState({profileModelOpen:!0})}},{key:"handleLoginModelOpen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({loginModelOpen:!0,left:!1}),e.callback&&"function"===typeof e.callback&&e.callback()}},{key:"handleSignupClose",value:function(e){this.setState({modalOpen:!1})}},{key:"handleSignUp",value:function(e){var t=ie.getUserRole(),a=ie.getLastPoolId(),n=ie.getAccessToken();this.setState({modalOpen:!1,userId:e.signUp.user_id,profileModelOpen:!0,userRole:t,accessToken:n,lastPoolId:a})}},{key:"handleCreateProfileClose",value:function(){this.setState({profileModelOpen:!1}),this.redirectToSearch()}},{key:"handleCreateProfile",value:function(){this.setState({profileModelOpen:!1}),this.redirectToSearch()}},{key:"handleLogin",value:function(){var e=ie.getUserRole(),t=ie.getLastPoolId(),a=ie.getAccessToken();this.setState({loginModelOpen:!1,userRole:e,accessToken:a,lastPoolId:t},this.redirectToSearch)}},{key:"handleForgotPassword",value:function(){this.setState({forgotPasswordModal:!0,loginModelOpen:!1})}},{key:"handleForgotPasswordCloseModal",value:function(){this.setState({forgotPasswordModal:!1})}},{key:"openLoginDialog",value:function(){this.setState({modalOpen:!1,loginModelOpen:!0})}},{key:"handleSignup",value:function(){this.setState({modalOpen:!0,loginModelOpen:!1})}},{key:"redirectPage",value:function(e,t){var a=ie.getAccessToken();!1===t||null!==a&&""!==a?this.props.history.push(e):this.handleLoginModelOpen()}},{key:"renderUnreadMessage",value:function(){var e=this;this.props.client.query({query:Za,fetchPolicy:"network-only"}).then(function(t){e.setState({unreadMessage:t.data.me.unread_message,userIdGTM:t.data.me.id,email:t.data.me.email}),ie.setUserID(t.data.me.id),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id)}).catch(function(e){})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.userId,o=a.userIdGTM,r=a.email,s=a.forgotPasswordModal,d=a.accessToken,c=a.userRole,m=a.unreadMessage,u=a.currentPage,p=a.lastPoolId,v=!1;"/daily-calendar-management/:id"===u&&(v=!0);var g=!1;"/host"!==u&&"/hostprompt"!==u&&"/addpool"!==u&&"/calendar-management/:id"!==u&&"/editpool"!==u||(g=!0);var h=!1;"/conversations"!==u&&"/messages"!==u&&"/chat-rules"!==u||(h=!0);var f=!1;"/profile"!==u&&"/profile/edit-public-info"!==u&&"/profile/edit-private-info"!==u&&"/profile/edit-profile-notifications"!==u&&"/profile/contact-us"!==u&&"/profile/invite-friends"!==u&&"/profile/referral-info"!==u||(f=!0);var k=!1;"/search"!==u&&"/pooldetails/:id"!==u&&"/payment/:id"!==u&&"/payment-method"!==u||(k=!0);var b=!1;if("/host-reservation"!==u&&"/reservation-details/:id"!==u&&"/my-reservation"!==u&&"/reservation-success"!==u&&"/reservation-cancelled"!==u&&"/reviews/:bookingId"!==u&&"/thankyou/:bookingId"!==u||(b=!0),o&&r){var y={dataLayer:{userId:o,email:r},dataLayerName:"PageDataLayer"};l.a.dataLayer(y)}var x=i.a.createElement("div",null,i.a.createElement("p",{className:t.mobileIcon,onClick:this.toggleDrawer("left",!1)},i.a.createElement("i",{className:"fa"},i.a.createElement("img",{src:window.location.origin+"/img/close-button1.png",alt:""})),"Menu"),i.a.createElement("div",{className:t.toggleContainer}),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:k?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/",!1)}},i.a.createElement(Ve.a,{primary:"Find a pool"}))),null!==c&&"Host"===c?i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:b?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/host-reservation",!0)}},i.a.createElement(Ve.a,{primary:"Reservations"}))):i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:b?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/my-reservation",!0)}},i.a.createElement(Ve.a,{primary:"Reservations"}))),"Host"===c?i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:g?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/host",!0)}},i.a.createElement(Ve.a,{primary:"Pool"}))):"",null!==c&&"Host"===c&&p&&i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{onClick:function(){return e.redirectPage("/daily-calendar-management/".concat(p),!0)},className:v?t.responsiveActive:"",button:!0},i.a.createElement(Ve.a,{primary:"Calendar"}))),i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:h?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/messages",!0)}},!0===m?i.a.createElement("span",null,i.a.createElement("small",{className:t.mobileMsgUnred})):"",i.a.createElement(Ve.a,{primary:"Inbox"}))),""!==d&&null!==d?i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{className:f?t.responsiveActive:"",button:!0,onClick:function(){return e.redirectPage("/profile",!0)}},i.a.createElement(Ve.a,{primary:"Profile"}))):i.a.createElement(Qe.a,null,i.a.createElement(Ye.a,{button:!0,onClick:this.handleLoginModelOpen},i.a.createElement(Ve.a,{primary:"Login"}))),i.a.createElement("div",{className:t.footerMain},i.a.createElement("ul",{className:t.socailIcons},i.a.createElement("li",{onClick:this.redirectToTwitter},i.a.createElement("i",{className:"fa fa-twitter"})),i.a.createElement("li",{onClick:this.redirectToFacebook},i.a.createElement("i",{className:"fa fa-facebook"})),i.a.createElement("li",{onClick:this.redirectToInstagram},i.a.createElement("i",{className:"fa fa-instagram"}))),i.a.createElement("ul",{className:t.pageLinks},i.a.createElement("li",null,i.a.createElement("a",{href:"mailto:admin@swimply.com"},"Contact US")),i.a.createElement("li",{className:"/termsandconditions"===u?t.responsiveActive:""},i.a.createElement(ze.a,{to:"/termsandconditions"},"Terms of use")),i.a.createElement("li",{className:"/privacy"===u?t.responsiveActive:""},i.a.createElement(ze.a,{to:"/privacy"},"Privacy policy")))));return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:t.headerGap+" headerGapTut"}),i.a.createElement("div",{className:t.root},i.a.createElement(Te.a,{position:"static",className:t.headerMain,id:"header"},i.a.createElement(Ie.a,{className:t.header},i.a.createElement(Oe.a,{variant:"h6",color:"inherit",className:t.logoImage},i.a.createElement(ze.a,{to:"/"}," ",i.a.createElement("img",{src:he,alt:""})," ")),i.a.createElement("div",{className:t.menuMain},i.a.createElement(Ae.a,{className:k?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/",!1)}},"Find a pool"),null!==c&&"Host"===c?i.a.createElement(Ae.a,{className:b?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/host-reservation",!0)}},"Reservations"):i.a.createElement(Ae.a,{className:b?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/my-reservation",!0)}},"Reservations"),"Host"===c?i.a.createElement(Ae.a,{className:g?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/host",!0)}},"Pool"):"","Host"===c?i.a.createElement(Ae.a,{className:v?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/daily-calendar-management/".concat(p),!0)}},"Calendar"):"",i.a.createElement(Ae.a,{className:h?t.active:t.inActive+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/messages",!0)}},!0===m?i.a.createElement("span",null,i.a.createElement("small",{className:t.msgUnred})):"","Inbox"),""!==d&&null!==d?i.a.createElement(Ae.a,{className:(f?t.active:t.inActive)+" "+t.buttonHead,color:"inherit",onClick:function(){return e.redirectPage("/profile",!0)}},"Profile"):i.a.createElement(Ae.a,{className:t.buttonHead,color:"inherit",onClick:this.handleLoginModelOpen},"Login")),i.a.createElement(Me.a,{className:t.mobileMenu,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer("left",!0)},i.a.createElement(We.a,null)))),i.a.createElement(He.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1),onOpen:this.toggleDrawer("left",!0)},i.a.createElement("div",{className:t.drawerMenu,tabIndex:0,role:"button"},x)),i.a.createElement(Je.a,{open:this.state.modalOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ma,{openLoginDialog:this.openLoginDialog.bind(this),handleSignupClose:this.handleSignupClose.bind(this),handleSignUp:this.handleSignUp.bind(this),handleSignUpScreen:this.handleSignUpScreen.bind(this),handleOauthLogin:this.handleOauthLogin.bind(this)})),i.a.createElement(Je.a,{open:this.state.profileModelOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Ea,{userId:n,image:this.state.signUpData.image,referralToken:this.state.referralToken,handleCreateProfileClose:this.handleCreateProfileClose.bind(this),handleCreateProfile:this.handleCreateProfile.bind(this)})),i.a.createElement(Je.a,{open:this.state.loginModelOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ha,{handleSignup:this.handleSignup.bind(this),handleForgotPassword:this.handleForgotPassword.bind(this),handleLogin:this.handleLogin.bind(this),handleSignUpScreen:this.handleSignUpScreen.bind(this),handleOauthLogin:this.handleOauthLogin.bind(this)})),i.a.createElement(Je.a,{open:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Pa,{handleForgotPasswordCloseModal:this.handleForgotPasswordCloseModal.bind(this)})),i.a.createElement(Je.a,{open:this.state.showOauthSignUpPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Ma,{handleOauthSignUp:this.handleOauthSignUp,closePopup:this.closeOauthSignUpPopup,signUpData:this.state.signUpData}))))}}]),a}(i.a.Component);var en=C()(Object(T.withStyles)(function(e){return{root:{background:e.palette.common.white,position:"fixed",boxShadow:e.shape.boxShadowGray,color:e.palette.common.black,fontWeight:"normal",zIndex:9,width:"100%",top:"0"},headerMain:{background:e.palette.common.transparent,boxShadow:"none","& a":{color:e.palette.common.black,textDecoration:"none"}},header:{width:"95%",maxWidth:"1170px",margin:"0 auto","@media (max-width:767px)":{background:e.palette.common.blue,"& h6":{display:"table",width:"calc(100% - 36px)",textAlign:"center","& img":{verticalAlign:"middle",filter:"brightness(0) invert(1)"}}}},headerGap:{height:"65px","@media (max-width:767px)":{height:"56px"}},headerScroll:{background:e.palette.common.white,"@media (max-width:767px)":{paddingTop:"0px"}},buttonHead:{"& span":{color:e.palette.common.black,fontWeight:"400"},fontWeight:"300",paddingLeft:"20px",paddingRight:"20px",fontSize:"13px",background:e.palette.common.transparent,color:e.palette.common.black,"&:hover":{background:e.palette.common.transparent},"&:last-child":{paddingRight:"0"}},active:{paddingLeft:"20px",paddingRight:"20px",background:e.palette.common.transparent,"& span":{color:"#12bfea",background:e.palette.common.transparent,fontWeight:"500",fontSize:"13px"},"&:hover":{background:e.palette.common.transparent}},faMenuIcon:{fontSize:"22px",display:"block",verticalAlign:"middle",paddingLeft:" 7px"},avatarProfile:{width:"auto",height:"auto",marginRight:"8px"},menuMain:{width:"100%",textAlign:"right","@media (max-width:767px)":{display:"none"}},mobileMenu:{display:"none",color:e.palette.common.black,"@media (max-width:767px)":{display:"block",textAlign:"right",position:"absolute",left:"0",color:e.palette.common.white}},drawerMenu:{height:"100vh",width:"100vw",background:e.palette.common.white,"& ul":{display:"table",margin:"0 auto","& > div > div":{paddingRight:"0"},padding:"0","& span":{color:e.palette.common.black,background:e.palette.common.transparent,fontSize:"18px",textAlign:"center",textTransform:"uppercase"},"& svg":{color:e.palette.common.black}}},dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px 15px"},"& > div > div:first-child":{maxHeight:"calc(100vh - 25px)",maxWidth:"350px","@media (max-width:767px)":{minWidth:"100%"}}},mobileIcon:{textAlign:"center",textTransform:"uppercase",fontWeight:"500",fontFamily:'"Poppins", sans-serif',color:e.palette.common.darkgray,paddingBottom:"15px","& i":{position:"absolute",left:"10px",fontSize:"27px",top:"7px",color:e.palette.common.blue,"& img":{maxWidth:"20px",marginTop:"10px",marginLeft:"15px"}}},buttonHeadLast:{paddingRight:"0","& active":{paddingRight:"0"}},msgUnred:{content:"",position:"absolute",width:"10px",height:"10px",background:"red",top:"0",right:"12px",borderRadius:"50%"},mobileMsgUnred:{content:"",position:"absolute",width:"10px",height:"10px",background:"red",top:"4px",right:"10px",borderRadius:"50%","@media (max-width:767px)":{right:"0",top:"3px"}},lastButtonHead:{paddingRight:"0"},socailIcons:{listStyle:"none",display:"table",textAlign:"center",margin:"0 auto",padding:0,"& li":{width:"40px",height:"40px",background:e.palette.common.blue,display:"inline-block",borderRadius:"50%",marginRight:"35px",cursor:"pointer","&:last-child":{marginRight:"0"},"&:hover":{background:"#00ade2"},"& i":{marginTop:"9px",color:"#fff",fontSize:"25px"}}},pageLinks:{listStyle:"none",paddingLeft:"0",marginBottom:"35px",textTransform:"uppercase","@media (max-width:767px)":{marginBottom:"0"},"& li":{display:" inline-block",color:e.palette.common.blue,paddingRight:"34px",cursor:"pointer","@media (max-width:767px)":{display:"inline-block",width:"50%",textAlign:"center",padding:"15px 0"},"& a":{color:e.palette.common.darkgray,"&:hover":{color:"#00ade2"}}}},footerMain:{fontFamily:'"Poppins", sans-serif',width:" 100%",position:" relative",textAlign:"center",maxWidth:" 290px",paddingTop:"70px",margin:"0 auto"},responsiveActive:{"& span":{color:e.palette.common.blue+" !important"},"& a":{color:e.palette.common.blue+" !important"}},logoImage:{"& img":{maxWidth:"140px"}},toggleContainer:{display:"flex",justifyContent:"center",marginBottom:"15px"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa);return i.a.createElement(Xa,Object.assign({},t,a,e))}),tn={root:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width:767px)":{display:"inherit"}},content:{flexGrow:1,backgroundColor:Ee.palette.common.white,minHeight:"90vh"}},an=function(e){var t=e.classes,a=e.component,n=e.loggedInUser;return i.a.createElement(T.MuiThemeProvider,{theme:Ee},i.a.createElement(en,{loggedInUser:n}),i.a.createElement("div",{className:t.root},i.a.createElement("main",{className:t.content},i.a.createElement(a,null))))};an.defaultProps={loggedInUser:null};var nn=C()(Object(T.withStyles)(tn))(an),on={root:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width:767px)":{display:"inherit"}},content:{flexGrow:1,backgroundColor:Ee.palette.common.white,minHeight:"90vh"}},rn=function(e){var t=e.classes,a=e.component;e.loggedInUser;return i.a.createElement(T.MuiThemeProvider,{theme:Ee},i.a.createElement("div",{className:t.root},i.a.createElement("main",{className:t.content},i.a.createElement(a,null))))};rn.defaultProps={loggedInUser:null};var sn=C()(Object(T.withStyles)(on))(rn);function ln(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var dn=function(e){Object(h.a)(a,e);var t=ln(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.redirectToMain=n.redirectToMain.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"redirectToMain",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.lpRoot},i.a.createElement(Te.a,{position:"static",className:e.lpHeaderMain},i.a.createElement(Ie.a,{className:e.lpHeader},i.a.createElement(Oe.a,{variant:"h6",color:"inherit",className:e.logoImage},i.a.createElement("div",{onClick:this.redirectToMain}," ",i.a.createElement("img",{src:he,alt:""})," "))))))}}]),a}(i.a.Component),cn=C()(Object(T.withStyles)(function(e){return{lpRoot:{background:e.palette.common.transparent,boxShadow:"none",color:e.palette.common.white,fontWeight:"normal",zIndex:9,width:"100%",position:"absolute"},lpHeaderMain:{background:e.palette.common.transparent,boxShadow:"none","& a":{color:e.palette.common.white,textDecoration:"none"}},lpHeader:{width:"95%",maxWidth:"100%",margin:"0 auto","@media (max-width:767px)":{width:"100%",boxSizing:"border-box","& h6":{display:"table",width:"calc(100% - 40px)",textAlign:"center",left:0,right:0,margin:"auto",marginTop:"50px"}}},logoImage:{"& img":{maxWidth:"140px",cursor:"pointer"}}}}),je.a,b.b)(dn),mn={root:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width:767px)":{display:"inherit"}},content:{flexGrow:1,backgroundColor:Ee.palette.common.white,minHeight:"90vh"}},un=function(e){var t=e.classes,a=e.component,n=e.loggedInUser;return i.a.createElement(T.MuiThemeProvider,{theme:Ee},i.a.createElement(cn,{loggedInUser:n}),i.a.createElement("div",{className:t.root},i.a.createElement("main",{className:t.content},i.a.createElement(a,null))))};un.defaultProps={loggedInUser:null};var pn=C()(Object(T.withStyles)(mn))(un),vn=a(212),gn=function(e){return{mainBanner:{position:"relative",minHeight:"calc(100vh - 70px)",background:"url(".concat(pe,") no-repeat"),padding:"50px 0",backgroundSize:"cover",backgroundPosition:"70% top",width:"100%","&:before":{content:'""',position:"absolute",width:"100%",height:"100%",top:"0",left:"0",background:"rgba(0,0,0,0.2)"},"@media (max-width:767px)":{background:"url(".concat("../img/shvimplyImages/mobile_header_img.jpeg",") no-repeat"),backgroundSize:"100%",display:"flex",minHeight:"520px",backgroundPosition:"bottom center","&:before":{background:"rgba(0,0,0,0.05)",maxHeight:"520px"}},"@media (max-width:520px)":{backgroundSize:"cover"}},howItWorks:{paddingTop:"5px"},howWorksContainerBtn:{margin:"0 auto",paddingTop:"10px"},container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:980px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},newBannerMain:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 70px)","@media (max-width:767px)":{minHeight:"inherit"}},newBannerContent:{color:e.palette.common.white,textAlign:"center",width:"100%",maxWidth:"600px",position:"relative","@media (max-width:480px)":{marginTop:-30},"& h1":{color:e.palette.common.white,marginBottom:"5px",fontSize:"58px",fontWeight:"600","@media (max-width:479px)":{marginTop:"65px"}},"& h4":{color:e.palette.common.white,marginBottom:"20px",fontSize:"21px",fontWeight:"500","@media (max-width:479px)":{marginBottom:"10px",fontSize:"12px"}},"& p":{color:e.palette.common.white,fontSize:"16px",cursor:"pointer","& i":{marginRight:"5px",cursor:"pointer"}},"@media (max-width:767px)":{"& h1":{fontSize:"34px",marginTop:"20px"},"& h4":{fontSize:"16px"}}},homeNewFormGroup:{display:"flex",alignItems:"center",marginBottom:"20px","& > div":{width:"100%",margin:"0","& > div":{"&:before":{display:"none"},"&:after":{display:"none"}},"& input":{width:"calc(100% - 60px)",background:"#fff",padding:"12px 40px 12px 20px",borderRadius:"25px",border:"none",fontSize:"14px","&:focus":{outline:"none"}},"& ul":{position:"absolute",background:"#fff",color:"#000",listStyle:"none",width:"100%",padding:"0",overflowY:"auto",overflowX:"hidden",borderRadius:"15px",marginTop:"5px",zIndex:"9",maxHeight:"200px",overflow:"auto","& li":{textAlign:"left",padding:"5px 20px",borderBottom:"1px solid #f9f9f9",maxHeight:"150px",overflowY:"auto",fontSize:"13px",cursor:"pointer","&:first-child":{paddingTop:"15px"},"&:last-child":{paddingBottom:"15px"},"&:hover":{background:"#f9f9f9"}}}},"& i":{marginLeft:"-35px",color:"#000",zIndex:"1",fontSize:"20px",cursor:"pointer"},"& textarea":{width:"100%",background:"#fff",padding:"12px 20px",borderRadius:"25px",outline:"none"}},bgHome:{background:"#fff"},poolDetailsImages:{outline:"none",position:"relative","& img":{minHeight:"300px",cursor:"pointer",width:"100%","@media (max-width:1200px)":{minHeight:"250px"},"@media (max-width:768px)":{minHeight:"250px",maxHeight:"416px"},"@media (max-width:480px)":{minHeight:"250px"}}},sliderImages:{padding:"60px 0",textAlign:"center","& > h2":{padding:"0 0 30px",fontSize:"35px",position:"relative",color:" #102937",fontWeight:"600",textTransform:"capitalize","&:before":{content:'""',position:"absolute",width:"35px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"15px"}},"& > h2 + p":{fontSize:"16px",marginBottom:"50px"},"& button":{marginTop:"45px",background:"white",color:"#000",border:"1px solid #ff5f1c",borderRadius:"25px",fontWeight:"400",padding:"7px 35px",textTransform:"capitalize","&:hover":{background:"#ff5f1c","& span":{color:"#fff"}},"& span":{color:"#ff5f1c"}},"& p":{maxWidth:"400px",margin:" 0 auto 30px",color:" #102937"},"@media (max-width:767px)":{padding:"30px 0","& h2":{fontSize:"30px"},"& > h2 + p":{marginBottom:"30px"}}},imageTextBlock:{textAlign:"left",marginTop:"25px",marginLeft:"0",color:"#1b3340","& h2":{padding:"0",margin:"0 0 3px",fontSize:"20px",color:"#1b3340",fontWeight:"600"},"& span":{fontSize:"16px",marginTop:"0",color:"#1b3340",fontWeight:"500"},"& p":{margin:"10px 0",fontSize:"12px",color:"#9A9A9A","& img":{width:"auto",height:"auto",minHeight:"inherit",display:"inline-block",paddingTop:"5px"}},"@media (max-width:1200px)":{left:"35px","& h2":{fontSize:"26px"},"& span":{fontSize:"20px"}},"@media (max-width:480px)":{left:"20px","& h2":{fontSize:"18px"},"& span":{fontSize:"14px"}}},yoursDemand:{textAlign:"center",padding:"0px 0 60px","& > h2":{padding:"0 0 30px",fontSize:"40px",position:"relative",color:" #102937",fontWeight:"600","&:before":{content:'""',position:"absolute",width:"35px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"15px"}},"& > h2 + p":{fontSize:"16px",marginBottom:"50px"},"& p":{maxWidth:"370px",margin:" 0 auto 30px",color:" #102937"},"& img":{width:"100%",verticalAlign:"middle"},"@media(max-width:767px)":{padding:"15px","& h2":{fontSize:"30px"}}},summerBlock:{alignItems:"center","& div > h3":{fontWeight:"600"},"@media(max-width:767px)":{padding:"15px","& h2":{fontSize:"30px",paddingTop:"20px"}}},notJustPool:{minHeight:420,background:"url(".concat(ge,") no-repeat center/cover"),"@media(max-width:767px)":{minHeight:300}},yoursDemandContent:{"& h1":{paddingBottom:"20px",fontSize:"30px",color:" #102937",fontWeight:"600",position:"relative",marginTop:"20px","&:before":{content:'""',position:"absolute",width:"35px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"8px"}},"& p":{fontSize:"14px",maxWidth:"470px",color:" #102937",lineHeight:"23px"},"& button":{marginTop:"5px",background:"white",color:"#000",border:"1px solid #ff5f1c",borderRadius:"25px",fontWeight:"400",padding:"7px 25px",textTransform:"capitalize","&:hover":{background:"#ff5f1c","& span":{color:"#fff"}},"& span":{color:"#ff5f1c"}},"@media(max-width:767px)":{marginTop:"0","& h3":{paddingTop:"25px"},"& img":{marginBottom:"0 !important"}}},howWorks:{textAlign:"center",padding:"0px 0 60px","& > h2":{padding:"0 0 30px",fontSize:"40px",position:"relative",color:" #102937",fontWeight:"600","&:before":{content:'""',position:"absolute",width:"35px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"15px"}},"& > h2 + p":{maxWidth:"260px",fontSize:"16px"},"& p":{maxWidth:"94%",margin:" 0 auto",fontSize:"13px",color:" #102937","& img":{marginBottom:"0",marginRight:"5px",maxWidth:"15px"}},"& img":{width:"auto",verticalAlign:"middle",marginBottom:"20px"},"@media(max-width:767px)":{"& h2":{fontSize:"30px"}}},howWorksContainer:{marginTop:"50px","& div > h3":{fontWeight:"600"},"@media (max-width:767px)":{marginTop:"0","& > div":{marginTop:"50px"}}},assets:{textAlign:"center",padding:"0",marginBottom:"60px",background:"#f9f9f9","& p":{maxWidth:"350px",margin:" 0 auto 30px"},"& img":{width:"100%",verticalAlign:"middle"},"& div > h3":{paddingBottom:"20px",fontSize:"40px",maxWidth:"450px",margin:"0 auto",fontWeight:"600",color:" #102937"},"@media (max-width:767px)":{"& div > h3":{paddingTop:"15px",fontSize:"30px"}}},assetsContent:{"& p":{fontSize:"14px",maxWidth:"420px",color:" #102937"},"& button":{marginTop:"5px",background:"#f9f9f9",color:"#000",border:"1px solid #ff5f1c",borderRadius:"25px",fontWeight:"400",padding:"7px 25px",textTransform:"capitalize","&:hover":{background:"#ff5f1c","& span":{color:"#fff"}},"& span":{color:"#ff5f1c"}},"@media {max-width:767px}":{padding:"0 15px !important"}},testimonials:{marginBottom:"80px","& div img":{width:"100px",height:"100px",borderRadius:"50% !important",minHeight:"100px"},"& h1":{fontSize:"40px",textAlign:"center",marginBottom:"50px",color:" #102937",fontWeight:"600"},"@media (max-width:767px)":{"& h1":{fontSize:"30px"}}},testimonialsContent:{marginTop:"25px",marginLeft:"0",color:"#1b3340",textAlign:"center","& h2":{padding:"0",margin:"0 0 50px",position:"relative",fontSize:"20px",color:" #102937",fontWeight:"600","&:before":{content:'""',position:"absolute",width:"20px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"-27px"}},"& p":{fontSize:"18px",maxWidth:"355px",margin:"0 auto 25px",color:" #102937"}},appDownload:{background:"url(../img/app-download.png) no-repeat",backgroundPosition:"center center",minHeight:"600px",backgroundSize:"cover",position:"relative","&:before":{content:'""',position:"absolute",width:"100%",height:"100%",background:"rgba(0,0,0,0.1)"}},appDownloadContent:{alignItems:"center",maxWidth:"550px",textAlign:"center",padding:"0 0","& p":{width:"100%",color:"#fff",maxWidth:"300px",fontSize:"15px",margin:" 0 auto 20px",fontWeight:"200"},"& h2":{width:"100%",color:"#fff",marginBottom:"25px"}},playStoreBlock:{textAlign:"center",margin:"0 auto","& img":{maxWidth:"150px",cursor:"pointer"}},appDownloadFlex:{display:"flex",alignItems:"center",height:"600px",position:"relative"},contactMain:{position:"relative",padding:"50px 0 0"},leafSection:{"& img":{position:"absolute",margin:"auto",maxWidth:"200px","&:first-child":{left:"0",top:"0"},"&:last-child":{right:"0",bottom:"-80px","@media (max-width:767px)":{bottom:"-35px"}}},"@media (max-width:767px)":{"& img":{maxWidth:"80px","&:last-child":{bottom:"0"}}}},conatactContainer:{textAlign:"center",padding:"50px",background:"#f9f9f9","& > h2":{padding:"0 0 30px",fontSize:"40px",position:"relative",color:"#102937",fontWeight:"600","&:before":{content:'""',position:"absolute",width:"35px",height:"2px",background:"#0aa2d0",left:"0",right:"0",margin:"auto",bottom:"15px"}},"& p":{maxWidth:"320px",margin:" 0 auto 30px",color:"#102937",fontSize:"16px",lineHeight:"24px","& span":{display:"block","& font":{color:e.palette.common.blue}}},"& img":{width:"auto",verticalAlign:"middle",marginBottom:"20px"},"@media (max-width:767px)":{"& h2":{fontSize:"30px"}}},contactGrid:{maxWidth:"600px",margin:"0 auto","& button":{padding:"8px 35px",borderRadius:"25px",margin:" 0 auto",minWidth:"140px",textTransform:"inherit"}},contactNewFormGroup:{display:"flex",alignItems:"center",marginBottom:"20px","& > div":{width:"100%",margin:"0","& > div":{"&:before":{display:"none"},"&:after":{display:"none"}},"& input":{width:"calc(100% - 50px)",background:"#fff",padding:"12px 20px",borderRadius:"25px",border:"1px solid #eee"}},"& textarea":{width:"100%",background:"#fff",padding:"12px 20px",borderRadius:"25px",outline:"none",fontSize:"14px",fontFamily:"inherit",border:"1px solid #eee",minHeight:"60px",resize:"none"}},imageBlock:{"& img":{maxWidth:"450px",position:"absolute",right:"60px",bottom:"0"},"@media (max-width:767px)":{"& img":{display:"none"}}},testmonialSlider:{maxWidth:"750px",margin:"0 auto"},errorMessage:{"& input":{border:"1px solid red !important",borderRadius:"25px"},"& textarea":{border:"1px solid red !important",borderRadius:"25px"}},contactTextArea:{"& > div":{margin:"0"},"& > div > div":{padding:"0"},"& fieldset":{display:"none"},"& textarea":{background:"#fff",padding:" 15px 20px",borderRadius:"25px",width:"calc(100% - 40px)",marginBottom:"35px",border:"1px solid #eee"}},submmerBlockReverece:{"@media (max-width:767px)":{flexDirection:" column-reverse"}}}},hn=a(120),fn=a.n(hn),kn=a(427),bn=a.n(kn);function yn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var xn=function(e){Object(h.a)(a,e);var t=yn(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).searchPools=function(){var e=n.state.address,t=n.props.history;void 0===e&&""===e&&(e=le?"Los Angeles, CA, USA":"Sydney NSW, Australia"),ie.setAddress(e),t.push("/search")},n.state={selectedDate:new Date,currentLocation:"",address:"",showSearchLocationError:!1,showFormErrorMessage:!1,onFocusGoogle:!1,searchOptions:null},n.handleAddress=n.handleAddress.bind(Object(g.a)(n)),n.handleSearchLocation=n.handleSearchLocation.bind(Object(g.a)(n)),n.onFocusGooglePlces=n.onFocusGooglePlces.bind(Object(g.a)(n)),n.onBlurFocusOut=n.onBlurFocusOut.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){this.setSearchOptions()}},{key:"setSearchOptions",value:function(){this.setState({searchOptions:{componentRestrictions:{country:le?Dt:"au"}}})}},{key:"onFocusGooglePlces",value:function(){this.setState({onFocusGoogle:!0})}},{key:"onBlurFocusOut",value:function(){this.setState({onFocusGoogle:!1,onFocusCalender:!1,onFocusTimer:!1});var e=this.state,t=e.currentLocation,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showSearchLocationError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"handleAddress",value:function(e){this.setState({currentLocation:e,address:e})}},{key:"handleSearchLocation",value:function(e){if(ie.setPoolSearchPage(1),void 0!==e&&""!==e){var t=this.props.history;ie.setAddress(e),t.push("/search")}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.showSearchLocationError,o=a.currentLocation;return i.a.createElement("div",null,i.a.createElement("div",{className:t.mainBanner},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.newBannerMain},i.a.createElement("div",{className:t.newBannerContent},i.a.createElement(Oe.a,{variant:"h1"},me?"Book a Private Pool":"Escape Locally"),i.a.createElement(Oe.a,{component:"h4"},me?"Enjoy Kosher Contact-Free Staycations by the hour":"Book a local private pool by the hour"),i.a.createElement("div",{className:t.homeNewFormGroup},i.a.createElement(fn.a,{value:o,onChange:this.handleAddress,onSelect:this.handleSearchLocation,onBlur:this.onBlurFocusOut,debounce:1e3,shouldFetchSuggestions:o.length>=2},function(a){var o=a.getInputProps,r=a.suggestions,s=a.getSuggestionItemProps,l=a.loading;return i.a.createElement("div",null,i.a.createElement("input",Object.assign({},o({placeholder:"Where would you like to take a dip?",className:"location-search-input"}),{onFocus:e.onFocusGooglePlces,onBlur:e.onBlurFocusOut,className:!1===n?"":t.errorMessage})),i.a.createElement("ul",{className:"autocomplete-dropdown-container"},l&&i.a.createElement("div",{className:t.loadinAuto},"Loading..."),r.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return i.a.createElement("li",s(e,{className:t,style:a}),i.a.createElement("font",null,e.description))})))}),i.a.createElement("i",{className:"fa fa-search",onClick:this.searchPools})),i.a.createElement(Oe.a,{component:"p"},i.a.createElement("span",{onClick:this.props.redirectSearchPage},i.a.createElement("i",{className:"fas fa-compass"})," What's Near Me?")),i.a.createElement(Oe.a,{component:"p",className:t.howItWorks},i.a.createElement("span",null,i.a.createElement(bn.a,{offset:function(){return 80},href:"#how_swimply_works"},i.a.createElement("i",{className:"fas fa-question-circle"})," ",me?"How Shvimply Works?":"How Swimply Works?"))))))))}}]),a}(i.a.Component),Nn=Object(vn.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3}),Sn=C()(Object(T.withStyles)(gn),je.a,Nn,b.b)(xn),wn=a(82),_n=a.n(wn);var En=C()(Object(T.withStyles)(function(e){return{joyspace:{width:"100%",display:"flex",alignItems:"center",background:"url(../img/Joyspace-bg-desktop.jpg) no-repeat center",backgroundPosition:"center center",minHeight:"700px",backgroundSize:"cover",position:"relative",color:"#fff","@media (max-width:590px)":{background:"url(../img/Joyspace-bg-mobile.jpg) no-repeat",backgroundSize:"cover",minHeight:"630px"},"& h3":{marginBottom:"10px !important"},"& p":{width:"100%",color:"#fff",maxWidth:"310px",fontSize:"15px",fontWeight:"300","@media (max-width:590px)":{maxWidth:"250px",margin:"auto",fontSize:"16px"}}},container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:980px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},textContent:{"@media (max-width:590px)":{textAlign:"center"}},joyspaceTitle:{marginBottom:"40px",color:"#F9007B",fontWeight:"800 !important",fontSize:"38px"},headTitle:{margin:"0 0 10px 10px !important",color:"#c7c7c7",fontWeight:"400 !important",textTransform:"uppercase",letterSpacing:"2px",fontSize:"16px"},subTitle:{fontWeight:"600 !important"},learnMoreBtn:{padding:"6px 25px",marginTop:"30px",display:"inline-block",background:"#F9007B",textTransform:"uppercase",fontSize:"15px",letterSpacing:"1px",color:"#fff",cursor:"pointer",textAlign:"center",fontFamily:"Poppins, sans-serif",fontWeight:"500",lineHeight:"1.75",borderRadius:"5px","&:hover":{background:"#F9007B"}}}}))(function(e){var t=e.classes;return me?null:i.a.createElement("div",{id:"joyspace",className:t.joyspace},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.textContent},i.a.createElement(Oe.a,{variant:"h4",className:t.headTitle},"coming soon..."),i.a.createElement(Oe.a,{variant:"h1",className:t.joyspaceTitle},"Joyspace"),i.a.createElement(Oe.a,{variant:"h3",className:t.subTitle,color:"inherit"},"Beyond pools"),i.a.createElement(Oe.a,{component:"p",color:"inherit"},"JoySpace is a platform for renting or sharing all kind of unique private spaces from Tennis and Basketball courts to Home gyms and decked out backyard."),i.a.createElement(Oe.a,{variant:"button",className:t.learnMoreBtn,onClick:function(){window.open("http://joyspaceapp.com")}},"Learn more"))))});function Fn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Cn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"contactUs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"contactUsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactUs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:100,source:{body:"mutation contactUs($data: contactUsInput!) {\n  contactUs(data: $data) {\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Tn={speed:700,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplaySpeed:7e3,nextArrow:i.a.createElement(On,null),prevArrow:i.a.createElement(Rn,null),responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},Pn={speed:300,slidesToShow:1,slidesToScroll:1,dots:!0,autoplay:!1,nextArrow:i.a.createElement(On,null),prevArrow:i.a.createElement(Rn,null),responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},In=[{id:1,poolName:"Attractive pool in Burbank",city:"Los Angeles, California",url:"/pooldetails/2847",src:"https://s3.amazonaws.com/swimplyinc-prod/thumbnails/0ot4TK77QJPgEZNXdsANE6yD42BS4lcHKcl9HcN5.jpeg"},{id:2,poolName:"Oak Forest Oasis",city:"Houston, Texas",url:"/pooldetails/1416",src:"https://s3.amazonaws.com/swimplyinc-prod/thumbnails/VCdbnE4Nxn6YSwxJgBnxd2lehmOk0vLrqdHK2J7n.jpeg"},{id:3,poolName:"Lap Swim and Serenity",city:"Miami Beach, Florida",url:"/pooldetails/2963",src:"https://s3.amazonaws.com/swimplyinc-prod/thumbnails/2963-77079784571585227370.jpeg"},{id:4,poolName:"Private Oasis Among the Trees",city:"Glendale, California",url:"/pooldetails/3595",src:"https://s3.amazonaws.com/swimplyinc-prod/thumbnails/3595-416659096411590524934.jpeg"},{id:5,poolName:"Incredible Mediterranean Escape",city:"Los Angeles, California",url:"/pooldetails/2133",src:"https://s3.amazonaws.com/swimplyinc-prod/thumbnails/2133-cover14461631351569906662.jpeg"}],Dn=[{id:1,poolName:"Blue Waters",price:"$25/hour",url:"https://swimply.com/pooldetails/2362",src:"../img/Blue Waters Pool.jpeg"},{id:2,poolName:"Bali in Melbourne",price:"$50/hour",url:"https://swimply.com/pooldetails/2329",src:"../img/Bali in Melbourne Pool.jpeg"},{id:3,poolName:"Large Pool and Tennis Court!",price:"$80/hour",url:"https://www.swimply.com/pooldetails/2523",src:"../img/Large pool and tennis court!.jpeg"}];function On(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",right:"-3%",width:"40px",height:"40px",background:"url(..img/right-home.png)",backgroundPosition:" right",zIndex:"9",cursor:"pointer",opacity:"0.3",fontSize:"25px",backgroundSize:"cover",backgroundRepeat:" no-repeat"},onClick:a})}function Rn(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",left:"-3%",height:"40px",width:"40px",backgroundPosition:" 0 0",background:"url(..img/left-home.png)",zIndex:"9",cursor:"pointer",opacity:"0.3",fontSize:"25px",backgroundSize:"cover"},onClick:a})}var An=function(e){Object(h.a)(a,e);var t=Fn(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleInput=function(e){if("email"===e.target.name){var t,a=!0;zt(e.target.value)&&(a=!1),n.setState((t={},Object(Fe.a)(t,e.target.name,e.target.value),Object(Fe.a)(t,"valideEmail",a),t))}else n.setState(Object(Fe.a)({},e.target.name,e.target.value))},n.submitContactForm=function(e){var t=n.state,a=t.name,i=t.email,o=t.description,r=t.valideEmail;if(""!==a&&""!==i&&!1===r&&""!==o){n.setState({loading:!0});var s={name:a,email:i,description:o,user_id:ie.getAccessToken()?ie.getUserID():null};n.props.client.mutate({mutation:Cn,variables:{data:s}}).then(function(e){n.setState({errorMessage:"",successMessage:e.data.contactUs.message,loading:!1,submitForm:!1,valideEmail:!1,name:"",email:"",description:""})}).catch(function(e){var t=Gt(e);n.setState({errorMessage:t,successMessage:"",loading:!1})})}else n.setState({submitForm:!0})},n.redirectToAppStore=function(){window.open("https://apps.apple.com/us/app/swimply-book-beautiful-pools/id1472785554")},n.redirectToPlayStore=function(){window.open("https://play.google.com/store/apps/details?id=com.swimply.android")},n.state={poolImages:le?In:Dn,submitForm:!1,valideEmail:!0,name:"",email:"",description:"",errorMessage:"",successMessage:"",loading:!1},n.handleLoginModelOpen=n.handleLoginModelOpen.bind(Object(g.a)(n)),n.goToTop=n.goToTop.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.fixedSiderBar,!1)}},{key:"goToTop",value:function(){document.getElementById("mainbody").scrollIntoView({behavior:"smooth"})}},{key:"handleLoginModelOpen",value:function(e){var t=ie.getAccessToken(),a=ie.getUserRole(),n=this.props.history;null===t||""===t?(window.scrollTo(0,0),"signup"===e?window.headerComponent.handleModelOpen():(ie.setPreviousUrl("home_top"),ie.setIsPreviousUrl("yes"),window.headerComponent.handleLoginModelOpen())):(window.scrollTo(0,0),"signup"===e&&("Host"===a?n.push("hostprompt"):n.push("profile")))}},{key:"redirectToPoolDetails",value:function(e){if(/https/.test(e))window.location.href=e;else{var t=this.props.history;ie.setBackBtnLink("home"),t.push(e)}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.poolImages,o=a.loading;return i.a.createElement("div",null,!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.bgHome+" sliderClassNew"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.sliderImages},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Popular Spots"),i.a.createElement(_n.a,Tn,n.length>0&&n.map(function(a,n){return i.a.createElement("div",{key:n,onClick:e.redirectToPoolDetails.bind(e,a.url),className:t.poolDetailsImages},i.a.createElement("img",{alt:"",src:a.src}),i.a.createElement("div",{className:t.imageTextBlock},i.a.createElement(Oe.a,{component:"h2"},a.poolName),i.a.createElement(Oe.a,{component:"span"},a.city||a.price),i.a.createElement(Oe.a,{component:"p"},"See details"," ",i.a.createElement("img",{alt:"",src:window.location.origin+"/img/long-arrow.jpg"}))))})),i.a.createElement(Da.b,{onClick:this.props.redirectSearchPage},"Find Pools Near Me")))),me?null:i.a.createElement("div",{className:t.yoursDemand},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Yours, on demand"),i.a.createElement(Oe.a,{component:"p"},"Enjoy the luxury of a private pool whenever you feel like it."),i.a.createElement(lt.a,{container:!0,className:t.summerBlock,spacing:2},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("img",{alt:"",src:window.location.origin+(me?"/img/summer.png":"/img/cropped-home-new-banner.jpg")})),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement(Oe.a,{variant:"h1",className:t.headingHTwo},"A new way to Chill"),i.a.createElement(Oe.a,{component:"p"},"Owning  a pool can be expensive, enjoying one doesn\u2019t have to be. With ",me?"Shvimply":"Swimply",", you will have access to beautiful  Family Friendly pools all over the US and Australia.")))),i.a.createElement(lt.a,{container:!0,className:t.summerBlock+" "+t.submmerBlockReverece,spacing:2},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement(Oe.a,{variant:"h1",className:t.headingHTwo},"Celebrate"),i.a.createElement(Oe.a,{component:"p"},"Look out for Party Friendly pools that would love to host your event. Work out details with the host, invite your squad and you're all set."))),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/celebrate.png"}))),i.a.createElement(lt.a,{container:!0,className:t.summerBlock,spacing:2},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/enjoy.png"})),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement(Oe.a,{variant:"h1",className:t.headingHTwo},"And Escape."),i.a.createElement(Oe.a,{component:"p"},"Freestyling or me-styling, escape into a world of you. ",me?"Shvimply":"Swimply","\u2019s pools are entirely private and yours for the duration of the reservation. Enjoy!"),i.a.createElement(Da.b,{onClick:this.goToTop},"Get Started"))))),i.a.createElement("div",{className:t.container,id:"how_swimply_works"},i.a.createElement("div",{className:t.howWorks},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},me?"How Shvimply Works":"How Swimply Works"),i.a.createElement(Oe.a,{component:"p"},"It's as easy as asking directions. Just more secure and fun."),i.a.createElement(lt.a,{container:!0,className:t.howWorksContainer,spacing:2},i.a.createElement(lt.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/find-pool.jpg"}),i.a.createElement(Oe.a,{variant:"h3",className:t.headingHTwo},"Find your pool"),i.a.createElement(Oe.a,{component:"p"},"Request a pool (or two), get approved, then simply confirm. You will only be charged for the pool you confirm with. Pools with the"," ",i.a.createElement("img",{alt:"",src:window.location.origin+"/img/clock2.png"})," ","icon can be booked instantly."))),i.a.createElement(lt.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/chat-with-us.jpg"}),i.a.createElement(Oe.a,{variant:"h3",className:t.headingHTwo},"Chat with host"),i.a.createElement(Oe.a,{component:"p"},"Communicate easily and coordinate flawlessly through ",me?"Shvimply":"Swimply","chat, and enjoy data privacy and user protections."))),i.a.createElement(lt.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:t.yoursDemandContent},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/drive.jpg"}),i.a.createElement(Oe.a,{variant:"h3",className:t.headingHTwo},"Dive right in"),i.a.createElement(Oe.a,{component:"p"},"Upon confirmation, you will have access to everything you need to know including address, enter and exit info, and things like the Wi-Fi password. Enjoy!"))),i.a.createElement("div",{className:t.yoursDemandContent+" "+t.howWorksContainerBtn},i.a.createElement(Da.b,{onClick:this.goToTop},"Get Started"))))),i.a.createElement("div",{className:t.assets},i.a.createElement(lt.a,{container:!0,className:t.summerBlock,spacing:2},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.notJustPool})),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.assetsContent},i.a.createElement(Oe.a,{variant:"h3",className:t.headingHTwo},"Not just your pool, it\u2019s an asset"),i.a.createElement(Oe.a,{component:"p"},"Join thousands of ",me?"Shvimply":"Swimply"," pool owners earning an effortless income. Cover your operating expenses, cash in on the side, and make other families happy\u2014without compromising your own pool time. Join now and do a victory lap."),i.a.createElement(Da.b,{onClick:function(t){return e.handleLoginModelOpen("signup")}},"Sign up"))))),me?null:i.a.createElement("div",{className:t.testimonials},i.a.createElement("div",{className:t.container},i.a.createElement(Oe.a,{variant:"h1"},"Experience their joy for yourself"),i.a.createElement("div",{className:t.testmonialSlider},i.a.createElement(_n.a,Pn,i.a.createElement("div",{className:t.poolDetailsImages},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Review1.jpeg"}),i.a.createElement("div",{className:t.testimonialsContent},i.a.createElement(Oe.a,{variant:"h2"},"Amanda M."),i.a.createElement(Oe.a,{component:"p"},'"This is a perfect zen pool in the busy city! We live nearby and wanted to experience a day without all the people at public pools or hotels. What a treat! We had an amazing relaxing time in this beautiful backyard and saltwater pool. The pool was super clean and warm. Loved it!"'))),i.a.createElement("div",{className:t.poolDetailsImages},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Review2.jpeg"}),i.a.createElement("div",{className:t.testimonialsContent},i.a.createElement(Oe.a,{variant:"h2"},"Alyson H."),i.a.createElement(Oe.a,{component:"p"},'"The pool and grounds are absolutely gorgeous - we didn\u2019t want to leave! The charming pool house has a new kitchen, bathroom, shower - everything you could need, including a well-stocked fridge! The hosts were great to communicate with. I highly recommend!"'))),me?null:i.a.createElement("div",{className:t.poolDetailsImages},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Review3.png"}),i.a.createElement("div",{className:t.testimonialsContent},i.a.createElement(Oe.a,{variant:"h2"},"Cassandra H."),i.a.createElement(Oe.a,{component:"p"},'"The pool was so much fun! Such a great backyard to relax and a great host!! Will be booking again soon."'))),i.a.createElement("div",{className:t.poolDetailsImages},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Review4.jpeg"}),i.a.createElement("div",{className:t.testimonialsContent},i.a.createElement(Oe.a,{variant:"h2"},"Brian W."),i.a.createElement(Oe.a,{component:"p"},'"Was super happy with the pool. Very nice back yard and had plenty of tables and chairs which was nice. Very quiet as well which was great."'))))))),i.a.createElement(En,null))}}]),a}(i.a.Component);An.contextType=ua;var Bn=C()(Object(T.withStyles)(gn),je.a,b.b)(An),Mn=a(51),jn=a.n(Mn);function Ln(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"verifyEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EmailVerificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifyUserEmail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147,source:{body:"mutation verifyEmail($data:EmailVerificationInput!){\n  verifyUserEmail(data:$data){\n    status\n\taccess_token\n\trefresh_token\n\trole{\n\t\tname\n\t}\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},zn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAddress"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Coords"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[]}]}}],loc:{start:0,end:64,source:{body:"query getAddress($data: Coords!) {\n    getAddress(data: $data)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Un=function(e){Object(h.a)(a,e);var t=Ln(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).redirectSearchPage=function(){var e=n.props.history,t=n.state.geo_location;t?ie.setAddress(t):ie.setAddress(le?"Los Angeles, CA, USA":"Sydney NSW, Australia"),e.push("/search")},n.state={latitude:"",longitude:"",currentLocation:"",loading:!1,emailVerificationPopup:!1,verifySuccess:!1},n.closeVerifyPopup=n.closeVerifyPopup.bind(Object(g.a)(n)),n.getCurrentLocation=n.getCurrentLocation.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),(new Image).src=window.location.origin+"/img/leave_us_email_popup.jpg";var t=ie.getReferralIdStatus();void 0!==t&&null!==t&&"referred"===t&&(ie.removeReferralIdStatus(),window.headerComponent.handleSignup()),this.getCurrentLocation();var a=ie.getVerifyEmailId();if(void 0!==a&&null!==a&&""!==a){ie.removeVerifyEmailId(),this.setState({loading:!0});var n={token:a};this.props.client.mutate({mutation:Wn,variables:{data:n}}).then(function(t){"EMAIL_VERIFIED"===t.data.verifyUserEmail.status?(ie.setAccessToken(t.data.verifyUserEmail.access_token),ie.setRefreshToken(t.data.verifyUserEmail.refresh_token),ie.setUserRole(t.data.verifyUserEmail.role[0].name),window.headerComponent.handleLogin(),e.setState({emailVerificationPopup:!0,verifySuccess:!0,loading:!1})):e.setState({emailVerificationPopup:!0,verifySuccess:!1,loading:!1})}).catch(function(t){e.setState({emailVerificationPopup:!0,verifySuccess:!1,loading:!1})})}}},{key:"getCurrentLocation",value:function(){var e=this,t=window.navigator&&window.navigator.geolocation;t?t.getCurrentPosition(function(t){e.props.client.query({query:zn,variables:{data:{lat:parseFloat(t.coords.latitude),lng:parseFloat(t.coords.longitude)}},fetchPolicy:"network-only"}).then(function(t){var a=t.data.getAddress;e.setState({geo_location:a})}).catch(function(t){console.log("error",t.graphQLErrors),e.setState({geo_location:le?"Los Angeles, CA, USA":"Sydney NSW, Australia"})})},function(t){e.setState({geo_location:le?"Los Angeles, CA, USA":"Sydney NSW, Australia"})}):this.setState({geo_location:le?"Los Angeles, CA, USA":"Sydney NSW, Australia"})}},{key:"closeVerifyPopup",value:function(){this.setState({emailVerificationPopup:!1})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.emailVerificationPopup,o=t.verifySuccess;return i.a.createElement(Oe.a,{variant:"body1",component:"span",id:"mainbody"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",null,i.a.createElement(Sn,{redirectSearchPage:this.redirectSearchPage}),i.a.createElement("div",{className:e.discoverySection+" "+e.discoverySectionPadding},i.a.createElement(Bn,{redirectSearchPage:this.redirectSearchPage}))),i.a.createElement(Je.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,{className:e.calenderManegemetPop},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("div",{className:e.verifySucc},i.a.createElement("img",{className:e.verifySuccClose,src:"img/close-button.png",alt:"",onClick:this.closeVerifyPopup}),!0===o?i.a.createElement("img",{alt:"",src:"img/verified.png"}):i.a.createElement("img",{alt:"",src:"img/close.png"}),i.a.createElement(Oe.a,{variant:"h3"},!0===o?"Your email verified successfully.":"Your email verification failed."))))))}}]),a}(i.a.Component),Hn=Object(vn.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3}),Gn=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:980px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},headingHTwo:{"& span":{fontSize:"14px",float:"right",textTransform:"uppercase",cursor:"pointer",paddingRight:"0px","&:hover":{color:e.palette.common.blue},"@media (max-width:767px)":{position:"absolute",top:"20px",right:"14px"}},"& img":{paddingLeft:"5px",verticalLine:"middle"}},discoverySection:{position:"relative",padding:"50px 0","& h3":{fontWeight:"500",margin:"0 0 5px","& span":{float:"right",textTransform:"uppercase","& img":{paddingRight:10}}}},subtitleSpacing:{marginBottom:"30px",marginTop:"5px"},verifySucc:{textAlign:"center",padding:"25px 0","& img":{maxWidth:"90px",marginBottom:"25px"}},verifySuccClose:{width:"31px",position:"absolute",top:"4px",right:"6px",cursor:"pointer"},discoverySectionPadding:{padding:"0 0 50px"}}}),je.a,Hn,b.b)(Un),Yn=a(66),qn=a.n(Yn),Vn=a(96),$n=a.n(Vn),Qn=a(98),Kn=a.n(Qn),Jn=a(97),Zn=a.n(Jn);function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ei=function(e){Object(h.a)(a,e);var t=Xn(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={modalOpen:!1,loginModelOpen:!1,forgotPasswordModal:!1},n.redirectToFacebook=n.redirectToFacebook.bind(Object(g.a)(n)),n.handleSignup=n.handleSignup.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"openLoginDialog",value:function(){this.setState({modalOpen:!1,loginModelOpen:!0})}},{key:"handleSignup",value:function(){var e=ie.getAccessToken(),t=ie.getUserRole(),a=this.props.history;null===e||""===e?(window.scrollTo(0,0),this.setState({modalOpen:!0,loginModelOpen:!1})):"Host"===t?a.push("hostprompt"):a.push("profile")}},{key:"handleModelOpen",value:function(){this.setState({modalOpen:!0})}},{key:"handleModel",value:function(){this.setState({modalOpen:!1,profileModelOpen:!1,loginModelOpen:!1})}},{key:"handleSignUp",value:function(e,t,a,n){this.setState({modalOpen:!1})}},{key:"handleLogin",value:function(){this.setState({loginModelOpen:!1})}},{key:"handleLoginModelOpen",value:function(){this.setState({loginModelOpen:!0})}},{key:"handleSignupClose",value:function(e){this.setState({modalOpen:!1})}},{key:"handleForgotPassword",value:function(){this.setState({forgotPasswordModal:!0,loginModelOpen:!1})}},{key:"handleForgotPasswordCloseModal",value:function(){this.setState({forgotPasswordModal:!1})}},{key:"redirectToTwitter",value:function(){window.open("https://twitter.com/swimply")}},{key:"redirectToInstagram",value:function(){window.open("https://www.instagram.com/swimply.official")}},{key:"redirectToFacebook",value:function(){window.open("https://www.facebook.com/swimply.official")}},{key:"headMessaging",value:function(){switch(this.props.match.path){case"/listyourpool-2":return"Earn money effortlessly as a "+(me?"Shvimply":"Swimply")+" host";case"/listyourpool-3":return"List your pool & Earn";default:return"Finally, Let your pool pay for itself!"}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=this.state.forgotPasswordModal,o=Wt.isHost(a);return i.a.createElement("div",null,i.a.createElement("div",{className:t.listpoolBanner},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.bannerContent},i.a.createElement(Oe.a,{variant:"h3"},this.headMessaging()),i.a.createElement("p",null,"Your pool costs you money every year. Flip the switch with ",me?"Shvimply":"Swimply"," and have your pool earn you an effortless income as a ",me?"Shvimply":"Swimply"," host."),i.a.createElement(Oe.a,{variant:"button",className:t.bannerButton,onClick:this.handleSignup},"LIST YOUR POOL")))),i.a.createElement("div",{className:t.whyHosting},i.a.createElement("div",{className:t.container},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Why hosting on ",me?"Shvimply":"Swimply"," is kinda awesome."),i.a.createElement("img",{src:window.location.origin+"/img/listpool_side1.png",alt:"",className:t.listStar}),i.a.createElement(lt.a,{container:!0,className:t.root+" "+t.easyList,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.easyImage},i.a.createElement("img",{src:window.location.origin+"/img/listpool_free.png",alt:""}))),i.a.createElement(lt.a,{item:!0,xs:12,sm:6,className:t.easyContent},i.a.createElement("div",{className:t.whyHostCont},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Free and ",i.a.createElement("br",null),"Easy to List"),i.a.createElement("p",null,"It only takes 3-5 minutes to list on ",me?"Shvimply":"Swimply"," and it's completely free. Just upload a couple of pictures and details of your pool and how you want it run. We'll take care of the rest."),i.a.createElement(Oe.a,{variant:"button",className:t.bannerButton,onClick:this.handleSignup},"GET STARTED"))),i.a.createElement("img",{className:t.shadowImage,src:window.location.origin+"/img/shadowSection.png",alt:""}))),i.a.createElement("div",{className:t.container},i.a.createElement(lt.a,{container:!0,className:t.root+" "+t.easyList+" "+t.easyContentFlexMobile,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6,className:t.easyContent},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Your Pool.",i.a.createElement("br",null),"Your Rules."),i.a.createElement("p",null,"You love your Pool, so you control how you share it. With ",me?"Shvimply":"Swimply",", you're in full control of your availability, prices, pool rules, and whether or not to accept a given request. You're the boss."),i.a.createElement(Oe.a,{variant:"button",className:t.bannerButton,onClick:this.handleSignup},"GET STARTED")),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.easyImage},i.a.createElement("img",{src:window.location.origin+"/img/listpool_rules.png",alt:""}))))),i.a.createElement("img",{className:t.shadowImage2,src:window.location.origin+"/img/shadowSection2.png",alt:""}),i.a.createElement("div",{className:t.footBallSection},i.a.createElement("img",{src:window.location.origin+"/img/listpool_side2.png",alt:"",className:t.footBallSectionImg}),i.a.createElement("div",{className:t.container},i.a.createElement(lt.a,{container:!0,className:t.root+" "+t.easyList,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.easyImage},i.a.createElement("img",{src:window.location.origin+"/img/listpool_payments.png",alt:""}))),i.a.createElement(lt.a,{item:!0,xs:12,sm:6,className:t.easyContent},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"Guaranteed",i.a.createElement("br",null),"Payments"),i.a.createElement("p",null,"Guests are charged upfront through ",me?"Shvimply":"Swimply","'s secure payment system powered by Stripe. Your payout is directly deposited after each booking, minus our 15% service fee (it's how we keep the show running)."),i.a.createElement(Oe.a,{variant:"button",className:t.bannerButton,onClick:this.handleSignup},"GET STARTED")))))),i.a.createElement("div",{className:t.listpoolHost},i.a.createElement("div",{className:t.container+" wider"},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo+" "+t.HostHeading},"How to Host on ",me?"Shvimply":"Swimply"),i.a.createElement("div",{className:t.hostingContainer},i.a.createElement("div",{className:t.hostingInnerContainer},i.a.createElement("div",{className:t.hostingBlock+" "+t.one+" "+t.withArrow},i.a.createElement("span",{className:"icon-container"}),i.a.createElement("p",{className:"host-block-title"},i.a.createElement("span",{className:"host-block-number"},"01 ")," Create a listing "),i.a.createElement("p",{className:"host-block-content"},"Set your price, add photos and details, and we'll make your listing live and ready to be seen by millions of people looking for a quick relaxation.")),i.a.createElement("div",{className:t.hostingBlock+" "+t.two+" "+t.withArrow},i.a.createElement("span",{className:"icon-container"}),i.a.createElement("p",{className:"host-block-title"},i.a.createElement("span",{className:"host-block-number"},"02 ")," Accept reservations "),i.a.createElement("p",{className:"host-block-content"},"Message with guests and accept bookings through the ",me?"Shvimply":"Swimply"," platform. Once you confirm it's cool with you, and the guest confirms their coming, your guests will receive information on how to get there and how to enter and exit the pool area.")),i.a.createElement("div",{className:t.hostingBlock+" "+t.three},i.a.createElement("span",{className:"icon-container"}),i.a.createElement("p",{className:"host-block-title"},i.a.createElement("span",{className:"host-block-number"},"03 ")," Get Paid "),i.a.createElement("p",{className:"host-block-content"},"Guests are charged upfront through ",me?"Shvimply":"Swimply","'s secure payment system. Your payout is directly deposited after each booking, minus our 15% service fee, and is powered by Stripe.")))),i.a.createElement(Oe.a,{variant:"button",className:t.bannerButton+" "+t.hostButton,onClick:this.handleSignup},"START LISTING"))),i.a.createElement("div",{className:t.listpoolSecTwo},i.a.createElement("div",{className:t.container},i.a.createElement(lt.a,{container:!0,className:t.root+" "+t.easyList+" "+t.easyContentFlexMobile,spacing:24},i.a.createElement("img",{className:t.shadowImage1,src:window.location.origin+"/img/shadowSection.png",alt:""}),i.a.createElement(lt.a,{item:!0,xs:12,sm:6,className:t.gotBackContent},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo},"We've Got Your Back"),i.a.createElement("ul",{className:t.gotBacklist},i.a.createElement("li",null,i.a.createElement("span",null,"Built on trust")," ",i.a.createElement("br",null),me?"Shvimply":"Swimply"," guests add a profile photo, so you know who you're talking to. Hosts and guests also review each other after every booking to help future guests."),i.a.createElement("li",null,i.a.createElement("span",null,"Support on every booking")," ",i.a.createElement("br",null),"In the rare case something goes wrong, our Host Care Team is here to help. We're open every day of the year."))),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:t.gotBackImg},i.a.createElement("img",{src:window.location.origin+"/img/listpool_yourbank.jpg",alt:""})))))),i.a.createElement("div",{className:t.listpoolFaq},i.a.createElement("div",{className:t.container},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo+" "+t.faqHeading},"Frequently Asked Questions"),i.a.createElement($n.a,{className:t.faqPanel},i.a.createElement(Kn.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:t.faqSummary},i.a.createElement(Oe.a,{className:t.heading+" "+t.summaryHead},"How do I get paid?")),i.a.createElement(Zn.a,{className:t.contentTabMenu},i.a.createElement(Oe.a,null,"Guests are charged upfront through ",me?"Shvimply":"Swimply","'s secure payment system powered by Stripe. Your payout is directly deposited after each booking, minus our 15% service fee (it's how we keep the show running)."))),i.a.createElement($n.a,{className:t.faqPanel},i.a.createElement(Kn.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:t.faqSummary},i.a.createElement(Oe.a,{className:t.heading+" "+t.summaryHead},"Do I need to be home during the rental?")),i.a.createElement(Zn.a,{className:t.contentTabMenu},i.a.createElement(Oe.a,null,"Not at all, we give you the option to provide all the info your guests will need to help themselves. Only confirmed guests will see this info."))),i.a.createElement($n.a,{className:t.faqPanel},i.a.createElement(Kn.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:t.faqSummary},i.a.createElement(Oe.a,{className:t.heading+" "+t.summaryHead},"Can I be home during the rental?")),i.a.createElement(Zn.a,{className:t.contentTabMenu},i.a.createElement(Oe.a,null,"Of course, most of our hosts are."))),i.a.createElement($n.a,{className:t.faqPanel},i.a.createElement(Kn.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:t.faqSummary},i.a.createElement(Oe.a,{className:t.heading+" "+t.summaryHead},"DO I NEED TO PROVIDE A RESTROOM?")),i.a.createElement(Zn.a,{className:t.contentTabMenu},i.a.createElement(Oe.a,null,"Providing a restroom is entirely optional! Most hosts do provide a restroom as it allows them to charge more per hour and accept longer reservations. Some hosts happen to have a restroom outside specifically for the pool use which is cool, and some provide instructions for guests to use a side/back door to allow minimal access to the home. If you would like to provide a restroom, but don't want to allow guest access to your home, let us know and we can get a portable restroom brought to your location and maintained once a week with some of our pretty cool partnerships. Get in touch with our Host Care Team to learn more."))),i.a.createElement($n.a,{className:t.faqPanel},i.a.createElement(Kn.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:t.faqSummary},i.a.createElement(Oe.a,{className:t.heading+" "+t.summaryHead},"HOW DO I PRICE MY POOL?")),i.a.createElement(Zn.a,{className:t.contentTabMenu},i.a.createElement(Oe.a,null,"Ultimately, the choice is yours, but once you list, our Host Care Team is readily available to help assist with pricing your pool and hand over any other golden tips we may have. You can always start a bit lower and once you see what people are willing to pay, raise your rate."))))),i.a.createElement("div",{className:t.listpoolContact},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.ContactBg},i.a.createElement(Oe.a,{variant:"h2",className:t.headingHTwo+" "+t.contactHeading},"Get in touch with us"),i.a.createElement(lt.a,{container:!0,className:t.earnCards,spacing:5},i.a.createElement(lt.a,{item:!0,xs:6,sm:4},i.a.createElement(qn.a,{className:t.paper+" "+t.emailpaper},i.a.createElement("img",{src:window.location.origin+"/img/listpool_email.png",alt:""}),o?"HostCare@swimply.com":"info@swimply.com")),i.a.createElement(lt.a,{item:!0,xs:6,sm:3},i.a.createElement(qn.a,{className:t.paper+" "+t.phonepaper},i.a.createElement("img",{src:window.location.origin+"/img/listpool_phone.png",alt:""}),"212-202-0472")))))),i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:t.footer},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.footerMain},i.a.createElement("img",{width:"240",className:t.logoImg,src:me?window.location.origin+"/img/shvimplyImages/shvimply_logo_white.png":window.location.origin+"/img/Swimply-logo-white.png",alt:""}),i.a.createElement("ul",{className:t.pageLinks},i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/termsandconditions"},"Terms of use")),i.a.createElement("li",null,i.a.createElement(ze.a,{to:"/privacy"},"Privacy policy")),i.a.createElement("li",null,i.a.createElement("a",{href:o?"mailto:HostCare@swimply.com":"mailto:info@swimply.com"},"Contact US"))),i.a.createElement("p",null,"Swimply \xa92020. All Rights Reserved."))))),i.a.createElement(Je.a,{open:this.state.modalOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ma,{openLoginDialog:this.openLoginDialog.bind(this),page:"listYourPools",handleSignupClose:this.handleSignupClose.bind(this),handleSignUp:this.handleSignUp.bind(this)})),i.a.createElement(Je.a,{open:this.state.loginModelOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(ha,{handleSignup:this.handleSignup.bind(this),handleForgotPassword:this.handleForgotPassword.bind(this),handleLogin:this.handleLogin.bind(this)})),i.a.createElement(Je.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.dialogBoxContainer},i.a.createElement(Pa,{handleForgotPasswordCloseModal:this.handleForgotPasswordCloseModal.bind(this)})))}}]),a}(i.a.Component);var ti=C()(Object(T.withStyles)(function(e){return{dialogBoxContainer:{padding:"15px 22px","& h3":{padding:"15px 22px 15px"},"& > div > div:first-child":{maxHeight:"calc(100vh - 25px)",maxWidth:"450px",minWidth:"350px","@media (max-width:767px)":{minWidth:"330px",borderRadius:"10px"},"@media (max-width:360px)":{minWidth:"290px",borderRadius:"10px"}}},dialogBox:{minWidth:"280px","& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"},"@media (max-width:480px)":{minWidth:"200px"}},signupBtn:{marginBottom:"15px"},listpoolBanner:{position:"relative",minHeight:"100vh",background:"url(".concat(ve,") no-repeat"),padding:"50px 0 0",backgroundSize:"100%",backgroundPosition:"center top",width:"100%","@media (max-width:767px)":{minHeight:"inherit",display:"table",background:"url(../img/mobileBglist.png) no-repeat",backgroundSize:"contain"}},bannerContent:{position:"absolute",top:"30%",maxWidth:"500px","& h3":{color:"#1fc8e7",fontSize:"30px",lineHeight:"42px"},"& p":{color:"#404040",fontSize:"14px",fontFamily:"Poppins",fontWeight:"normal",lineHeight:"23px",maxWidth:"400px",left:0,right:0,margin:"auto",marginBottom:"25px",marginLeft:"0px"},"& button":{maxWidth:"120px"},"@media (max-width:767px)":{position:"relative",textAlign:"center",padding:"80px 0 120px",left:0,right:0,margin:"auto"}},bannerButton:{maxWidth:"120px","@media (max-width:767px)":{margin:"0 auto"}},headingHTwo:{color:"#22bfea",lineHeight:"50px",fontSize:"40px",textAlign:"center",maxWidth:"500px",margin:"0 auto",paddingBottom:"50px","@media (max-width:767px)":{fontSize:"26px",lineHeight:"30px"}},easyList:{position:"relative","& h2":{textAlign:"left",margin:"0",padding:"0",fontSize:"30px",lineHeight:"42px"},"& p":{fontSize:"14px",maxWidth:"420px",marginBottom:"20px"},"& img":{width:"100%",maxWidth:"450px"},"& button":{maxWidth:"120px"},"@media (max-width:767px)":{textAlign:"center","& h2":{textAlign:"center"}}},easyImage:{textAlign:"left",zIndex:"2",position:"relative"},easyContent:{display:"flex",flexDirection:"column",justifyContent:"center"},listpoolSecTwo:{padding:"50px 0","& img":{maxWidth:"none"}},gotBackContent:{paddingTop:"40px !important","& h2":{fontSize:"40px",marginBottom:"25px"}},gotBacklist:{listStyleType:"none","& li":{fontSize:"13px",paddingBottom:"25px",position:"relative","@media (max-width:767px)":{paddingLeft:"10px",textAlign:"left"}},"& li:before":{content:"url(../img/listpool_ul_icon.png)",position:"absolute",left:"-11%"},"& span":{fontWeight:"500"}},listpoolHost:{padding:"50px","@media (max-width:900px)":{padding:"15px 0","& h2":{fontSize:"42px",lineHeight:"45px"}},"@media (max-width: 767px)":{padding:"15px 0 50px"}},HostHeading:{maxWidth:"none",paddingBottom:"90px","@media (max-width:767px)":{paddingBottom:"30px"}},hostButton:{margin:"25px auto 0","@media (max-width:767px)":{margin:"0 auto 0"}},listpoolEarn:{padding:"50px 0",position:"relative","@media (max-width:767px)":{"& h2":{fontSize:"42px",lineHeight:"45px"}}},earnBlock:{background:"url(../img/listpool_bg1.png) no-repeat",width:"100%",padding:"0 0 0",position:"relative",minHeight:"680px",backgroundSize:"96%",display:"flex",flexDirection:"column",justifyContent:"center",paddingLeft:"40px","@media (max-width:980px)":{paddingLeft:"0",minHeight:"540px"},"@media (max-width:767px)":{paddingLeft:"0",minHeight:"250px"}},earnButton:{margin:"-90px auto 0",position:"relative",zIndex:"9","@media (max-width:767px)":{margin:"-30px auto 0"}},searchpoolContainer:{padding:"30px",maxWidth:"320px",width:"100%",position:"relative",overflow:"inherit","& h3":{fontWeight:"500",lineHeight:"30px",margin:"0 0 20px",fontSize:"24px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",padding:"15px",maxWidth:"300px",float:"none",margin:"10px auto 0"}},earnCards:{justifyContent:"center","@media (max-width:767px)":{"& > div":{maxWidth:"50%",flexBasis:"50%"}}},earnpaper:{padding:"40px 0px 40px 30px",margin:"0 40px 40px 0",borderRadius:"10px","& img":{width:"100%",borderRadius:"100%",verticalAlign:"middle"},"& p":{margin:"0",fontSize:"30px"},"@media (max-width:980px)":{margin:"0 20px 20px 0",padding:"35px 15px","& p":{fontSize:"16px",whiteSpace:"pre"}},"@media (max-width:767px)":{margin:"0 10px 10px 0",padding:"15px","& p":{fontSize:"14px",whiteSpace:"pre"}}},earnDetail:{display:"flex",justifyContent:"center",flexDirection:"column",paddingLeft:"25px","@media (max-width:767px)":{paddingLeft:"0"}},textBlue:{color:"#22bfea"},faqHeading:{maxWidth:"none"},listpoolFaq:{padding:"50px 0","@media (max-width:767px)":{padding:"00px 0 30px","& h2":{fontSize:"42px",lineHeight:"45px"}}},faqPanel:{marginBottom:"20px",boxShadow:"none","&:before":{backgroundColor:"transparent"}},faqSummary:{borderBottom:"4px solid #028db7",backgroundImage:"linear-gradient(#23d1f2, #01aee2)",borderRadius:"6px",minHeight:"50px !important","& > div":{margin:"0 !important"}},summaryHead:{color:"#fff",fontSize:"16px",lineHeight:"17px",display:"flex",alignItems:"center","&:before":{content:"url(../img/listpool_faq.png)",paddingRight:"15px"}},listpoolContact:{paddingTop:"50px","@media (max-width:767px)":{paddingTop:"0"}},ContactBg:{background:"url(../img/listpool_bg2.png) no-repeat",width:"100%",padding:"50px 0 0",position:"relative",minHeight:"380px",backgroundSize:"contain",display:"flex",justifyContent:"center",flexDirection:"column",maxWidth:"860px",margin:"0 auto","& > div > div":{maxWidth:"inherit",flexBasis:"auto"},"@media (max-width:767px)":{minHeight:"120px","& h2":{fontSize:"20px",margin:0,padding:0}}},contactHeading:{color:"#fff"},emailpaper:{padding:"20px 30px",marginRight:"30px",borderRadius:"10px",fontSize:"25px",fontWeight:"300",marginLeft:"-0","& img":{verticalAlign:"middle",paddingRight:"20px",maxWidth:"40px"},"@media (max-width:767px)":{fontSize:"13px",padding:"10px",marginRight:"10px","& img":{paddingRight:"6px",maxWidth:"20px"}}},phonepaper:{padding:"20px 30px",borderRadius:"10px",fontSize:"25px",fontWeight:"300","& img":{verticalAlign:"middle",paddingRight:"20px",maxHeight:"32px"},"@media (max-width:767px)":{fontSize:"13px",padding:"10px","& img":{paddingRight:"6px",maxWidth:"20px"}}},whyHosting:{position:"relative"},container:{maxWidth:"1000px",margin:"0 auto",width:"100%",fontFamily:"Poppins",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:980px)":{maxWidth:"700px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"&.wider":{maxWidth:"1040px","@media (max-width: 1000px)":{maxWidth:"100%",boxSizing:"border-box"},"@media (max-width: 767px)":{padding:0}}},footer:{background:"url(../img/listpool_footer.png) no-repeat",width:"100%",padding:"50px 0 0",position:"relative",minHeight:"220px",backgroundSize:"100%",marginTop:"100px","& ul":{listStyle:"none",paddingLeft:"0",marginBottom:"35px",textTransform:"uppercase",position:"relative","& li":{color:"#fff",cursor:"pointer",display:"inline-block",padding:"0 20px 0",borderRight:"1px solid #dadada",lineHeight:"13px",fontFamily:"Poppins","& a":{color:"#fff",textDecoration:"none"},"&:last-child":{borderRight:"0"}}},"@media (max-width:980px)":{minHeight:"40px",background:me?"url(../img/listpool_footer.png) no-repeat":"url(../img/mobileFooter.png) no-repeat",backgroundSize:" 100%",marginTop:"50px","& ul":{display:"none"},"& p":{display:"none"}}},footerMain:{textAlign:"center","@media (max-width:1200px)":{"&::before":{content:'""',position:"absolute",width:"200%",height:"70px",background:"#04c3f4",left:"-50%",right:"0",bottom:"-0",zIndex:"0"}},"@media (max-width:1000px)":{"&::before":{content:'""',position:"absolute",width:"200%",height:"100px",background:"#04c3f4",left:"-50%",right:"0",bottom:"-0",zIndex:"0"}},"@media (max-width:800px)":{"&::before":{width:"0%",height:"0"}},"& p":{color:"#fff",marginBottom:"0",position:"relative"},"@media (max-width:767px)":{"& img":{display:me?"unset":"none"}}},listStar:{position:"absolute",left:"0",top:"-140px",maxWidth:"150px","@media (max-width:767px)":{top:"-130px",maxWidth:"80px"}},whyHostCont:{paddingLeft:"65px",marginTop:"-120px","@media (max-width:767px)":{marginTop:"0",paddingLeft:"0"}},circleTwo:{left:"38.5%"},circleThree:{left:"68%"},shadowImage:{position:"absolute",bottom:"0",maxWidth:"100% !important",zIndex:"0","@media (max-width:767px)":{display:"none"}},shadowImage1:{marginTop:"-40px"},shadowImage2:{marginTop:"-380px"},contentTabMenu:{boxShadow:"0px 1px 7px 0px #ccc",paddingTop:"15px",paddingBottom:"15px"},footBallSection:{position:"relative"},footBallSectionImg:{position:"absolute",right:"0",bottom:"0",maxWidth:"100px","@media (max-width:767px)":{maxWidth:"50px"}},listpoolEarnImg:{position:"absolute",left:"0",bottom:"0",maxWidth:"150px","@media (max-width:767px)":{display:"none"}},easyContentFlexMobile:{"@media (max-width:767px)":{display:"flex",flexDirection:"column-reverse",padding:"30px 0"}},subHead:{fontSize:"16px",fontWeight:"500",display:"block",paddingBottom:"3px",paddingTop:"15px"},subheadPadding:{paddingTop:"0"},weGotBack:{padding:"0 15px",margin:"0","& li":{paddingBottom:"8px","& strong":{display:"block"}}},faqBox:{width:"calc(33.33% - 30px)",padding:"15px",display:"inline-block",textAlign:"center",verticalAlign:"top","@media (max-width:767px)":{width:"100%",padding:"0"}},faqCircle:{width:"230px",height:"230px",borderRadius:"50%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:" 0 0 8px 5px #eaeaea",margin:"0 auto","& p":{margin:"0",fontWeight:"200",fontSize:"30px",lineHeight:"33px",padding:"0 15px"},"& span":{display:"block",width:"45px",marginBottom:"10px",textAlign:"center",border:" 1px solid #ccc",borderRadius:" 50%",lineHeight:"45px",margin:"0 auto",fontWeight:"300"}},question:{fontWeight:"500"},answer:{fontWeight:"300"},qustionAndAnswers:{listStyle:"decimal",fontWeight:"500",margin:"0",padding:"0 15px","& li":{paddingBottom:"15px"}},hostingContainer:{width:"100%",height:"fit-content"},hostingInnerContainer:{display:"flex",justifyContent:"space-between",left:0,right:0,margin:"auto","@media (min-width: 1050px)":{maxWidth:"930px"},"@media (min-width: 1150px)":{maxWidth:"100%"},"@media (max-width: 767px)":{flexDirection:"column",alignItems:"center",padding:"0"}},hostingBlock:{display:"flex",flexDirection:"column",flex:1,alignItems:"center",textAlign:"center",padding:"0 10px",maxWidth:"300px","@media (max-width: 767px)":{padding:"20px 10px"},"& .icon-container":{width:"60px",height:"60px"},"& .host-block-title":{textAlign:"center",fontSize:"21px !important",fontWeight:600,"@media (max-width: 970px)":{fontSize:"19px"},"@media (max-width: 767px)":{fontSize:"21px"},"@media (max-width: 450px)":{margin:"10px 0"},"& .host-block-number":{color:"#25bfeb"}},"& .host-block-content":{fontSize:"17px"}},withArrow:{"&:after":{content:'""',position:"absolute",display:"block",width:"72%",height:"60px",top:"0px",right:"-36%",background:"url(../img/host-arrow.png) no-repeat center/contain","@media (min-width: 1150px)":{right:"-42%"},"@media (max-width: 767px)":{display:"none"}}},one:{"& .icon-container":{background:"url(../img/host-block-1.png) no-repeat center/contain"},position:"relative"},two:{"& .icon-container":{background:"url(../img/host-block-2.png) no-repeat center/contain"},position:"relative"},three:{"& .icon-container":{background:"url(../img/host-block-3.png) no-repeat center/contain"}},logoImg:{"@media (max-width: 980px)":{marginBottom:15,width:200},"@media (max-width: 500px)":{marginBottom:0,marginTop:-20,width:140}}}}),je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(ei,Object.assign({},t,e))}),ai=a(154),ni=a.n(ai),ii=a(56),oi=a.n(ii),ri=a(48),si=a.n(ri);function li(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var di=function(e){Object(h.a)(a,e);var t=li(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={adultCount:1,childrenCount:0,infantCount:0,timerRange:{}},n.increaseAdultCount=n.increaseAdultCount.bind(Object(g.a)(n)),n.decreaseAdultCount=n.decreaseAdultCount.bind(Object(g.a)(n)),n.increaseChildCount=n.increaseChildCount.bind(Object(g.a)(n)),n.descreseChildCount=n.descreseChildCount.bind(Object(g.a)(n)),n.increaseInfantCount=n.increaseInfantCount.bind(Object(g.a)(n)),n.decreaseInfantCount=n.decreaseInfantCount.bind(Object(g.a)(n)),n.handleGuestApply=n.handleGuestApply.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchFields,a=e.adultCountNew,n=e.childrenCountNew,i=e.infantCountNew;void 0!==t&&this.setState({adultCount:t.adultCount?parseInt(t.adultCount):a,childrenCount:t.childrenCount?parseInt(t.childrenCount):n,infantCount:t.infantCount?parseInt(t.infantCount):i,timerRange:t.timerRange})}},{key:"increaseAdultCount",value:function(){var e=this.state.adultCount;this.setState({adultCount:parseInt(e)+parseInt(1)})}},{key:"decreaseAdultCount",value:function(){var e=this.state.adultCount;e>0&&this.setState({adultCount:e-1})}},{key:"increaseChildCount",value:function(){var e=this.state.childrenCount;this.setState({childrenCount:parseInt(e)+parseInt(1)})}},{key:"descreseChildCount",value:function(){var e=this.state.childrenCount;e>0&&this.setState({childrenCount:e-1})}},{key:"increaseInfantCount",value:function(){var e=this.state.infantCount;this.setState({infantCount:parseInt(e)+parseInt(1)})}},{key:"decreaseInfantCount",value:function(){var e=this.state.infantCount;e>0&&this.setState({infantCount:e-1})}},{key:"handleGuestApply",value:function(){var e=this.state,t={adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount};this.props.handleGuestApply(t)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.updateBtn,n=e.poolDetails,o=this.state,r=o.adultCount,s=o.childrenCount,l=o.infantCount,d=!n||n&&n.guests_children_allowed,c=!n||n&&n.guests_infants_allowed;return i.a.createElement("div",{className:t.gueastDropdown},i.a.createElement("div",{className:t.gueastDropdownMain},i.a.createElement("div",{className:t.counter},i.a.createElement(Ae.a,{onClick:this.increaseAdultCount},"+"),i.a.createElement("p",{className:"count"},r),i.a.createElement(Ae.a,{onClick:this.decreaseAdultCount},"-"),i.a.createElement("div",{className:t.labelName},"Adults ",i.a.createElement("br",null),i.a.createElement("small",null,"\xa0"))),i.a.createElement("div",{className:"".concat(t.counter," ").concat(d?"":"disabled")},i.a.createElement(Ae.a,{disabled:!d,onClick:this.increaseChildCount},"+"),i.a.createElement("p",{className:"count"}," ",s," "),i.a.createElement(Ae.a,{disabled:!d,onClick:this.descreseChildCount},"-"),i.a.createElement("div",{className:t.labelName},"Children ",i.a.createElement("br",null),i.a.createElement("small",null,"(Ages 2-12)"))),i.a.createElement("div",{className:"".concat(t.counter," ").concat(c?"":"disabled")},i.a.createElement(Ae.a,{disabled:!c,onClick:this.increaseInfantCount},"+"),i.a.createElement("p",{className:"count"},"  ",l),i.a.createElement(Ae.a,{disabled:!c,onClick:this.decreaseInfantCount},"-"),i.a.createElement("div",{className:t.labelName},"Infants ",i.a.createElement("br",null),i.a.createElement("small",null,"(Under 2)")))),i.a.createElement("div",{className:t.buttonGuest},i.a.createElement(Ae.a,{className:t.cancelBtn,onClick:this.props.handleGuestCancel},"Cancel"),i.a.createElement(Ae.a,{onClick:this.handleGuestApply},!0===a?"Update":"Apply")))}}]),a}(i.a.Component),ci=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px"},gueastDropdown:{background:e.palette.common.white,boxShadow:e.shape.boxShadowGray,display:"table",width:"calc(100% - 30px)",padding:"10px 15px",position:"absolute",zIndex:"1",marginTop:"5px","@media (max-width: 880px)":{marginLeft:"-40px"},"@media (max-width: 767px)":{marginLeft:0}},gueastDropdownMain:{display:"flex",alignItems:"center",textAlign:"center",marginBottom:"25px"},counter:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center","&.disabled":{opacity:"0.6"},"& Button":{width:"20px",minWidth:"20px",height:"20px",borderRadius:"50%",padding:0,marginRight:0,boxShadow:"none",border:"none",cursor:"pointer","& span:first-child":{display:"table",left:"inherit",margin:"-2px 0 0 1px",paddingLeft:"inherit",position:"relative",right:"inherit",top:"inherit",width:"inherit"}},"& p":{width:"40px",padding:"5px",margin:"10px auto 6px",boxShadow:"0 0 5px #ccc",color:e.palette.common.black,fontWeight:"500","&.count":{margin:"10px 0"}}},labelName:{position:"relative",marginTop:"10px",textTransform:"uppercase",fontSize:"12px",fontWeight:"500",letterSpacing:"2px","& small":{textTransform:"initial"}},buttonGuest:{float:"right",marginTop:"-10px","& Button":{padding:"3px 15px",marginLeft:"5px",height:"30px",display:"inline-block","& span":{minWidth:"60px",position:"relative",left:"inherit",top:"inherit",height:"inherit",marginLeft:"0px",padding:"0px 0px"}},"& div":{display:"flex"}},cancelBtn:{background:"transparent","& span":{color:"#00afe3"},"&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)","& span":{color:e.palette.common.white}}}}}),je.a)(di),mi=a(57),ui=a.n(mi),pi=(a(814),a(38)),vi=a.n(pi),gi=a(59),hi=a.n(gi),fi=function(e){return{popupContainer:{maxWidth:"400px",overflowX:"hidden","& > a":{display:"block",color:e.palette.common.blue,marginBottom:"7px",textDecoration:"none"}},bigAvatar:{margin:0,width:120,height:120},bigAvatarError:{margin:0,width:120,height:120,border:"1px solid red"},EditProfilePopup:{position:"relative","& p":{color:e.palette.common.blue,fontSize:"12px",textAlign:"center",margin:"0",paddingTop:"8px",textTransform:"uppercase"},"& i":{position:"absolute",bottom:"30px",right:"0",zIndex:"9",cursor:"pointer"},display:"table",margin:"15px auto 12px"},textFieldTwo:{background:"#f3f5f5",fontSize:"12px",borderRadius:"5px",width:"100%","& > div":{padding:"10px 15px",fontSize:"14px"}},textFieldTwoError:{background:"#f3f5f5",fontSize:"12px",borderRadius:"5px",width:"100%","& > div":{padding:"10px 15px",fontSize:"14px"},"& fieldset":{border:"1px solid red !important"}},backButton:{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",paddingBottom:"5px","& i":{fontSize:"18px",verticalAlign:"middle",paddingRight:"2px",marginTop:"-2px"},"@media (max-width:767px)":{position:"absolute",width:"15px",height:"15px",overflow:"hidden",top:"13px",color:e.palette.common.black,"& i":{fontSize:"20px"}}},uploadInput:{"& input":{position:"absolute",top:"0",height:"100%",opacity:"0",cursor:"pointer",visibility:"hidden"},"& img":{cursor:"pointer"}},deletePopup:{"& span":{padding:"3px 20px"}},buttonsContainer:{margin:"40px 0 0"},okButton:{transition:"all 0.2s ease"},cancelButton:{background:"transparent",color:e.palette.common.blue,transition:"all 0.2s ease","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.9"}},subTitle:{marginBottom:"10px"}}};function ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var bi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},yi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xi=function(e){Object(h.a)(a,e);var t=ki(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getProfileDetails=function(){ie.getAccessToken()&&n.setState({loading:!0},Object(m.a)(c.a.mark(function e(){var t,a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.client.query({query:bi,fetchPolicy:"network-only"});case 3:t=e.sent,a=t.data.me,n.setState({profileImage:a.img_url||"",description:a.description||"",loading:!1},function(){n.setCompleteProfileText(a.img_url,a.description),ie.setUserID(a.id),ie.setUserCountry(a.country_code),ie.setSwimmerCountry(a.country_code_swimmer),ie.setLastPoolId(a.last_pool_id)}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i=Gt(e.t0),n.setState({loading:!1},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Unauthenticated."!==i){e.next=5;break}return e.next=3,n.props.refreshToken(n.props.history);case 3:"ok"===e.sent&&n.getProfileDetails();case 5:case"end":return e.stop()}},e)})));case 12:case"end":return e.stop()}},e,null,[[0,8]])})))},n.state={description:"",profileImage:"",showDescriptionError:!1,showProfileImageError:!1,showFormErrorMessage:!1,imageError:"",loading:!1,successMessage:"",profileFailError:"",isModify:!1,deleteAlert:!1,completeProfileText:""},n.setCoverImages=n.setCoverImages.bind(Object(g.a)(n)),n.handleDeleteProfileImage=n.handleDeleteProfileImage.bind(Object(g.a)(n)),n.handleDeleteProfileImageConfirm=n.handleDeleteProfileImageConfirm.bind(Object(g.a)(n)),n.closeAlertPopup=n.closeAlertPopup.bind(Object(g.a)(n)),n.handleInputs=n.handleInputs.bind(Object(g.a)(n)),n.submitHandler=n.submitHandler.bind(Object(g.a)(n)),n.triggerProfileImage=n.triggerProfileImage.bind(Object(g.a)(n)),n.cancel=n.cancel.bind(Object(g.a)(n)),n.setCompleteProfileText=n.setCompleteProfileText.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getProfileDetails()}},{key:"setCompleteProfileText",value:function(e,t){var a="";t=t||"",this.props.isDefaultInstantBooking?e||t&&!(t.length<15)?e?t.length<15&&(a="To complete your reservation, this host requires a Bio (min 15 characters). Show your good side!"):a="To complete your reservation, this host requires a Profile picture. Show your good side!":a="To complete your reservation, this host requires a Profile picture and Bio (min 15 characters). Show your good side!":e||t&&!(t.length<15)?e?t.length<15&&(a="Most hosts only approve reservations from guests with a bio (min 15 characters)."):a="Most hosts only approve reservations from guests with a profile picture.":a="Most hosts only approve reservations from guests with a profile picture and bio (min 15 characters).",this.setState({completeProfileText:a})}},{key:"triggerProfileImage",value:function(){this.refs.coverImage.click()}},{key:"setCoverImages",value:function(){var e=this.refs.coverImage.files[0],t=new FileReader;t.readAsDataURL(e);var a="";t.onloadend=function(n){var i=t.result,o=e.name,r=e.size/1024/1024;-1!==o.indexOf("png")||-1!==o.indexOf("PNG")?a="png":-1!==o.indexOf("jpg")||-1!==o.indexOf("jpeg")?a="jpg":-1===o.indexOf("gif")&&-1===o.indexOf("GIF")||(a="gif"),"jpg"!==a&&"png"!==a&&"gif"!==a||null===a||""===a||void 0===a?this.setState({imageError:"Uploaded file is not a valid image. Only JPG, PNG and GIF files are allowed.\t",profileImage:"",showProfileImageError:!0}):r<5?this.setState({profileImage:i,isModify:!0,imageError:"",showProfileImageError:!1}):this.setState({imageError:"Image size should be less than 5MB.",profileImage:"",showProfileImageError:!0})}.bind(this)}},{key:"handleDeleteProfileImage",value:function(){this.setState({deleteAlert:!0})}},{key:"handleDeleteProfileImageConfirm",value:function(){this.setState({profileImage:"",deleteAlert:!1})}},{key:"closeAlertPopup",value:function(){this.setState({deleteAlert:!1})}},{key:"handleInputs",value:function(e){this.setState(Object(Fe.a)({},e.target.name,e.target.value))}},{key:"validateDescription",value:function(){var e=this.state,t=e.description,a=e.showFormErrorMessage,n=!1;return(Ut(t)||t.length<15)&&(n=!0),this.setState({showDescriptionError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateProfileImage",value:function(){var e=this.state,t=e.profileImage,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showProfileImageError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"validateForm",value:function(){var e=!1;return this.validateDescription()||(e=!0),this.validateProfileImage()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"submitHandler",value:function(){var e=this,t=this.state,a=t.description,n=t.profileImage,i=t.isModify;if(this.validateForm()){this.setState({loading:!0});var o={description:a,image_url:n,isModify:i};this.props.client.mutate({mutation:yi,variables:{data:o}}).then(function(t){e.setState({loading:!1,successMessage:"Profile updated successfully."}),e.props.handlePopup(!1,!0),e.props.setButtonActiveCallback()}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({profileFailError:n,loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.submitHandler();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"cancel",value:function(){this.props.handlePopup(!1),this.props.setButtonActiveCallback()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.profileImage,n=t.description,o=t.profileFailError,r=t.showDescriptionError,s=t.showProfileImageError,l=t.loading,d=t.successMessage,c=t.imageError,m=t.completeProfileText;return i.a.createElement(Je.a,{keepMounted:!0,open:!0},i.a.createElement(tt.a,{className:e.popupContainer},i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===l?i.a.createElement(ut,{loading:l}):"",i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h2",className:e.subTitle},"Update Profile "),i.a.createElement(Oe.a,{variant:"subtitle1",component:"p"},m),i.a.createElement("div",{className:e.EditProfilePopup},i.a.createElement("div",{className:e.uploadInput},i.a.createElement(Na.a,{onClick:this.triggerProfileImage,alt:"",src:""===a?window.location.origin+"/img/profile-icon.png":a,className:!1===s?e.bigAvatar:e.bigAvatarError}),""===a?"":i.a.createElement("i",{className:"fa fa-trash",onClick:this.handleDeleteProfileImage}),i.a.createElement("input",{ref:"coverImage",type:"file",name:"coverImage",onChange:this.setCoverImages})),i.a.createElement("p",null,"Upload new photo")),i.a.createElement("div",null,""===c?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},c),""===d?"":i.a.createElement(Oe.a,{variant:"overline",component:"p"},d),""===o?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},o),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Tell us about yourself"),i.a.createElement(Xe.a,{id:"description",className:!1===r?e.textFieldTwo:e.textFieldTwoError,placeholder:"Min 15 characters",type:"text",name:"description",autoComplete:"",margin:"normal",variant:"outlined",multiline:!0,rows:4,rowsMax:4,onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:n,onChange:this.handleInputs})),i.a.createElement("div",{className:e.buttonsContainer},i.a.createElement(Oe.a,{variant:"button",className:e.okButton,onClick:this.submitHandler},"Save Changes"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelButton,onClick:this.cancel},"Cancel")))),i.a.createElement(Je.a,{open:this.state.deleteAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},"Are you sure you want to delete profile photo?")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleDeleteProfileImageConfirm,autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closeAlertPopup},"no"))))))}}]),a}(i.a.Component);var Ni=C()(Object(T.withStyles)(fi,{withTheme:!0}),b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(xi,Object.assign({},t,e))});function Si(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var wi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},_i=function(e){Object(h.a)(a,e);var t=Si(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).setButtonActiveCallback=function(){n.setState({disableSubmitButton:!1})},n.goToPaymentMethodScreen=function(){n.props.history.push({pathname:"/payment-method",state:{needGoBackAfterUpdate:n.props.needGoBackAfterUpdate}})},n.state={available:!1,instabooking:!1,showEditProfilePopup:!1,customerCanBook:!1,disableSubmitButton:!1},n.handleRequestReservation=n.handleRequestReservation.bind(Object(g.a)(n)),n.handleEditProfilePopup=n.handleEditProfilePopup.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){this.checkConditions();var e=this.props.customerInfo;this.setState({customerCanBook:e&&e.img_url&&e.description&&e.description.length>=15})}},{key:"componentWillReceiveProps",value:function(){this.checkConditions()}},{key:"handleEditProfilePopup",value:function(e,t){this.setState({showEditProfilePopup:e,customerCanBook:t}),t&&this.props.handleRequestReservation(this.state.instabooking)}},{key:"handleRequestReservation",value:function(){var e=this;this.setState({disableSubmitButton:!0});var t=this.props,a=t.from,n=t.poolDetails,i=ie.getAccessToken();"pool_details"===a?this.props.handleRequestBooking(n.id):void 0!==i&&null!==i&&""!==i?this.props.client.query({query:wi,fetchPolicy:"network-only"}).then(function(t){var a=t.data.me;e.setState({customerCanBook:a&&a.img_url&&a.description&&a.description.length>=15},function(){e.state.customerCanBook?(e.props.handleRequestReservation(e.state.instabooking),e.setState({disableSubmitButton:!1})):e.handleEditProfilePopup(!0)})}).catch(function(t){e.state.customerCanBook?(e.props.handleRequestReservation(),e.setState({disableSubmitButton:!1})):e.handleEditProfilePopup(!0)}):this.props.handleLoginModelOpen(this.setButtonActiveCallback)}},{key:"checkConditions",value:function(){var e=this.props,t=e.poolDetails,a=e.searchFields,n=a&&a.anyDate,i=a&&a.anytime,o=fe.find(function(e){return e.time_insert===t.available_from}).timeNumber,r=fe.find(function(e){return e.time_insert===t.available_to}).timeNumber;if(n)if(i)this.setState({available:!0});else{var s=!(a.timerRange.min>=r||a.timerRange.max<=o);this.setState({available:s})}else{var l=ie.getAvailableDate(),d=l?gt()(l):gt()(),c=gt()().startOf("day").isSame(gt()(d).startOf("day")),m=d.format("YYYY-MM-DD"),u=parseInt(ie.getTimerMin()),p=parseInt(ie.getTimerMax());if(u=u<o?o:u,p=p>r?r:p,c){var v=gt()().hours()+1;u=u<v?v:u}var g=Wt.getAvailableMonths(t.months),h=d.format("MM");if(g.includes(h))if(t.unavailable_dates&&t.unavailable_dates.length&&t.unavailable_dates.find(function(e){return e===m}))this.setState({available:!1});else{var f=gt()().add(t.advance_notice,"hours"),k=f.hour()<o?o:f.hour(),b=gt()(d).hour(u),y=f.isSame(b,"d");if(y&&(p>r?r:p)-k<2||!y&&f>b)this.setState({available:!1});else{var x=Wt.filterBookings(t.bookings,m),N=Wt.getBookingsTimes(x),S=Wt.handlePoolUnAvailabilities({poolUnAvailabilities:t.pool_unavailabilities,date:m,startTime:u,endTime:p,bookingTimes:N});this.setState({available:S})}}else this.setState({available:!1})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.from,o=e.poolDetails,r=e.cardLastFourDigit,s=e.cardBrand,l=e.isDefaultInstantBooking,d=e.preApprovedFlow,c=ie.getAccessToken(),m=this.state.available;return i.a.createElement(n.Fragment,null,i.a.createElement("div",null,"search"===a&&l?i.a.createElement("label",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/time.png"})," Book Instantly"):"","search"!==a||m?"":i.a.createElement("label",{className:t.notAvailable},"Not available for requested time"),"pool_details"===a?l?o.createdBy.stripe_id?i.a.createElement("div",{className:this.state.disableSubmitButton?t.disableBtn:""},i.a.createElement(Oe.a,{onClick:this.handleRequestReservation,variant:"button"},"Book Now")):i.a.createElement("div",{className:t.disableBtn},i.a.createElement(Oe.a,{variant:"button"},"Book Now"),i.a.createElement(Oe.a,{component:"div"},"No payment can be applied because payment profile for the host isn't configured yet. Please message your host.")):i.a.createElement(Oe.a,{onClick:this.handleRequestReservation,variant:"button"},"Request to Book"):"","payment"===a?l||d?o.createdBy.stripe_id?i.a.createElement("div",null,null!==c&&""!==c?""===r||null===r||void 0===r?i.a.createElement("div",{className:t.paymentMethodBtn+" "+t.choosePaymentBtn},i.a.createElement(Ae.a,{onClick:this.goToPaymentMethodScreen},"Choose a Payment Method ",i.a.createElement("i",{className:"fa fa-angle-right"}))):i.a.createElement("div",{className:t.paymentMethodBtn},s&&i.a.createElement(Ae.a,{onClick:this.goToPaymentMethodScreen},"MasterCard"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/mastercard.png"}):"","Visa"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/visa-card.png"}):"","American Express"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/american.png"}):"","Discover"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/discover.png"}):"","Diners Club"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/dinnerclub.png"}):"","JCB"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/jcb.png"}):"","UnionPay"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/union.png"}):"",i.a.createElement("div",{className:t.cardNumberDots},".... .... ....  ")," ",r," ",i.a.createElement("i",{className:"fa fa-angle-right"}))):i.a.createElement("div",{className:t.paymentMethodBtn+" "+t.choosePaymentBtn,onClick:this.props.handleLoginModelOpen},i.a.createElement(Ae.a,null,"Choose a Payment Method ",i.a.createElement("i",{className:"fa fa-angle-right"}))),""===this.props.errorMessage?"":i.a.createElement(Oe.a,{variant:"caption",className:t.caption,component:"p"},this.props.errorMessage),r?i.a.createElement("div",null,i.a.createElement("div",{onClick:this.handleRequestReservation,className:this.state.disableSubmitButton?t.disablePaymentBtn+" "+t.paymentDisableBtn:t.activeReservationBtn},i.a.createElement(Oe.a,{variant:"button"},"COMPLETE PURCHASE"))):i.a.createElement("div",{className:t.disablePaymentBtn+" "+t.paymentDisableBtn},i.a.createElement(Oe.a,{variant:"button"},"COMPLETE PURCHASE"))):i.a.createElement("div",null,i.a.createElement("div",{className:t.disablePaymentBtn},i.a.createElement(Oe.a,{component:"div"},"No payment can be applied because payment profile for the host isn't configured yet. Please message your host."),i.a.createElement(Oe.a,{variant:"button"},"COMPLETE PURCHASE"))):i.a.createElement("div",null,""===this.props.errorMessage?"":i.a.createElement(Oe.a,{variant:"caption",className:t.caption,component:"p"},this.props.errorMessage),i.a.createElement("div",{onClick:this.handleRequestReservation,className:this.state.disableSubmitButton?t.disablePaymentBtn+" "+t.paymentDisableBtn:t.activeReservationBtn},i.a.createElement(Oe.a,{variant:"button"},"REQUEST RESERVATION"))):""),this.state.showEditProfilePopup&&i.a.createElement(Ni,{setButtonActiveCallback:this.setButtonActiveCallback,handlePopup:this.handleEditProfilePopup,isDefaultInstantBooking:l}))}}]),a}(i.a.Component),Ei=C()(Object(T.withStyles)(function(e){return{notAvailable:{fontWeight:"500",color:e.palette.common.black,marginTop:"10px",display:"block"},activeReservationBtn:{marginTop:"25px"},disableBtn:{pointerEvents:"none","& span":{background:"#ccc"},"& span:hover":{background:"#ccc",cursor:"default"},"& div":{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",maxWidth:"255px",marginTop:"10px"}},disablePaymentBtn:{pointerEvents:"none","& span":{background:"#ccc"},"& span:hover":{background:"#ccc",cursor:"default"},"& div":{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",marginTop:"10px"}},paymentDisableBtn:{pointerEvents:"none","& span":{marginTop:"20px"}},paymentMethodBtn:{"& Button":{background:e.palette.common.transparent,width:"100%",padding:"10px",marginTop:"20px",boxShadow:"0 3px 3px #b1b0b0",textAlign:"left",display:"table",paddingLeft:"18px","& span":{color:e.palette.common.black,textTransform:"none",letterSpacing:"4.8px","& i":{float:"right",fontSize:"25px",marginTop:"-2px",position:"absolute",right:"11px",color:"#12bfea"},"& img":{maxWidth:"30px",verticalAlign:"middle",marginRight:"15px"}},"&:hover":{background:e.palette.common.transparent,"& span":{color:e.palette.common.black}}},"& a":{textDecoration:"none"}},cardNumberDots:{cursor:"pointer",color:e.palette.common.black,display:"inline-block",verticalAlign:"middle",fontSize:"25px",marginTop:"-17px",paddingRight:"6px",borderRadius:"50%",letterSpacing:"6px",marginBottom:"0"},caption:{margin:"15px 0 10px",maxWidth:"100%"},choosePaymentBtn:{"& button":{"& span":{letterSpacing:"0"}}}}}),b.b,je.a)(_i),Fi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendAnalytics"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AnalyticsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendAnalytics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:119,source:{body:"mutation sendAnalytics($data: AnalyticsInput!) {\n    sendAnalytics(data: $data){\n        status\n        message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ci=function(e,t){e.mutate({mutation:Fi,variables:{data:t}})},Ti=a(65),Pi=a.n(Ti);a(394);function Ii(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Di=function(e){Object(h.a)(a,e);var t=Ii(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={selectedDate:e.selectedDate?new Date(e.selectedDate):null},n.handleCalenderApply=n.handleCalenderApply.bind(Object(g.a)(n)),n.handleCalender=n.handleCalender.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleCalender",value:function(e,t){this.setState({selectedDate:e.date})}},{key:"handleCalenderApply",value:function(){var e=this.state.selectedDate,t=e||new Date;this.props.handleCalenderApply(t)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.updateBtn,n=this.state.selectedDate,o=new Date((new Date).setDate((new Date).getDate()));return i.a.createElement("div",{className:t.timerDropdown+" "+t.timerSet+" "+t.calenderView},i.a.createElement("div",null,i.a.createElement(Pi.a.Form,null,i.a.createElement(Pi.a.FormGroup,null,i.a.createElement("label",null,i.a.createElement(Pi.a.Calendar,{theme:"bootstrap",layout:"liquid",weeks:1,display:"inline",placeholder:"Please Select...",value:n,onDayChange:this.handleCalender,min:this.props.minDate||o,max:this.props.maxDate,invalid:this.props.invalidDates},i.a.createElement("input",{type:"hidden"}))))),i.a.createElement("div",{className:t.calenderBtn},i.a.createElement(Ae.a,{className:t.cancelBtn,onClick:this.props.handleCalenderCancel},"Cancel"),i.a.createElement(Ae.a,{onClick:this.handleCalenderApply},!0===a?"Update":"Apply"))))}}]),a}(i.a.Component),Oi=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px"},timerDropdown:{background:e.palette.common.white,boxShadow:e.shape.boxShadowGray,display:"table",width:"calc(100% - 30px)",padding:"10px 15px",position:"absolute",zIndex:"1"},timerSet:{width:"100%",maxWidth:"290px",margin:"83px auto 0",left:"0",right:"0",padding:"25px"},displayTimerRange:{display:"flex",padding:"15px","& div":{width:"50%",textAlign:"center","& div":{width:"100%",color:e.palette.common.black,fontSize:"16px",fontWeight:"500"}}},CheckboxBottm:{position:"relative","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},calenderBtn:{float:"right",display:"flex",marginTop:"-10px","& Button":{padding:"3px 15px",marginRight:"10px",height:"30px",display:"inline-block","& span":{minWidth:"60px"}},"& div":{"& span":{position:"relative",left:"inherit",top:"inherit",height:"inherit",marginLeft:"15px",padding:"3px 15px"}}},calenderView:{padding:"0 0 15px",maxWidth:"320px","& form":{background:"#fff !important",boxShadow:"none !important","& div":{background:e.palette.common.white,boxShadow:"none !important","@media (max-width: 850px)":{background:"transparent"}}}},cancelBtn:{background:"transparent","& span":{color:"#00afe3"},"&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)","& span":{color:e.palette.common.white}}}}}),je.a)(Di);function Ri(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ai=function(e){Object(h.a)(a,e);var t=Ri(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={selectedDate:new Date,startTime:null,endTime:null,minDate:gt()().format(),maxDate:gt()().add(1,"month").format(),timeDetails:fe,poolDetails:null,todayBookingTimes:[],modify:{date:new Date,startTime:null,endTime:null},minAvailableMonthIndex:gt()().month(),unAvailableMonths:[],invalidDates:[]},e.initialized=!1,e.updateAvailabilities=function(){var t=e.state,a=t.poolDetails,n=t.selectedDate,i=t.startFrom,o=t.endAt,r=t.isDefaultInstantBooking,s=t.startTime,l=t.endTime,d=ft.a.cloneDeep(fe);if(!n)return d=d.map(function(e){return e.disable=!0,e}),void e.setState({timeDetails:d,startTime:null,endTime:null,modify:{startTime:null,endTime:null}});var c=gt()(n).format("YYYY-MM-DD"),m=Wt.filterBookings(a.bookings,c),u=Wt.getBookingsTimes(m);e.setState({todayBookingTimes:u});for(var p=gt()(n).month()+1,v=e.state.unAvailableMonths.includes(p)||gt()(e.state.maxPoolDate)<gt()(n),g=gt()().add(a.advance_notice,"hours"),h=a.unavailable_dates.find(function(e){return gt()(e).isSame(gt()(n),"day")}),f=a.pool_unavailabilities.filter(function(e){return gt()(e.date).isSame(gt()(n),"day")}),k=0;k<e.state.timeDetails.length;k++){var b=ft.a.filter(f,{time:d[k].time_insert}),y=gt()(n).hours(fe[k].timeNumber),x=u.indexOf(fe[k].timeNumber);(v||b.length>=1||x>=0||d[k].timeNumber<i||d[k].timeNumber>o||h||y<g)&&(d[k].disable=!0),!d[k].disable&&r&&(d[k].instant=!0),(s||l)&&!d[k].disable&&d[k].timeNumber>=s&&d[k].timeNumber<=l&&(d[k].active=!0)}var N=(d=Wt.disableSingleAvailableTimeSlots(d)).filter(function(e){return!e.disable}).length;N>1?e.setState({timeDetails:d}):(1===N&&(d=d.map(function(e){return e.disable=!0,e})),e.setState({timeDetails:d,startTime:null,endTime:null,modify:{startTime:null,endTime:null}}))},e.handleParams=function(){var t=e.props,a=t.startTime,n=t.endTime,i=t.poolDetails,o=t.date,r=fe.find(function(t){return t.time_insert===e.props.poolDetails.available_from}).timeNumber,s=fe.find(function(t){return t.time_insert===e.props.poolDetails.available_to}).timeNumber;if(a=a&&a<r?r:a,n=n&&n>s?s:n,"/pooldetails"===e.props.fromPage&&a&&n){var l=Wt.formatTime(a),d=Wt.formatTime(n);ie.setStartTime(l),ie.setTimerMin(a),ie.setEndTime(d),ie.setTimerMax(n)}n&&n<=a&&(a=null,n=null);var c=e.state.startTime,m=e.state.endTime,u=Wt.filterBookings(i.bookings,gt()(o).format("YYYY-MM-DD")),p=Wt.getBookingsTimes(u),v=Wt.getAvailableStartEndTime({poolUnAvailabilities:i.pool_unavailabilities,date:gt()(o).format("YYYY-MM-DD"),startTime:a,endTime:n,bookingTimes:p});a=v.startTime,n=v.endTime;var g=e.getInvalidMonths(e.props.poolDetails),h=g.unAvailableMonths,f=g.invalidMonths,k=g.minAvailableMonthIndex;e.setState({poolDetails:e.props.poolDetails,isDefaultInstantBooking:e.props.isDefaultInstantBooking,minDate:gt()().format(),maxDate:gt()().add("year",1).format(),maxPoolDate:e.getMaxDate(e.props.poolDetails),minAvailableMonthIndex:k,unAvailableMonths:h,invalidMonths:f,startFrom:fe.find(function(t){return t.time_insert===e.props.poolDetails.available_from}).timeNumber,endAt:fe.find(function(t){return t.time_insert===e.props.poolDetails.available_to}).timeNumber,selectedDate:o,startTime:a,endTime:n,modify:{startTime:a,endTime:n}},function(){e.handleInvalidMonths(e.updateAvailabilities),(c!==e.state.startTime||m!==e.state.endTime)&&e.props.setTimeCallback})},e.getMaxDate=function(e){var t=e.availability_window;return gt()().add(t,"days").format()},e.getMinDate=function(e){var t=e.months,a=gt()().month(),n=t&&t.length?t[0].month_number-1:a;n=n<a?a:n;var i=gt()().set("month",n);return a===n?i.format():i.startOf("month").format()},e.getInvalidMonths=function(t){for(var a=t.months,n=gt()(e.state.minDate).month()+1,i=-1,o=[1,2,3,4,5,6,7,8,9,10,11,12],r=0;r<a.length;r++){var s=o.indexOf(a[r].month_number);-1!==s&&(-1===i&&a[r].month_number>=n&&(i=a[r].month_number-1),o.splice(s,1))}return{minAvailableMonthIndex:i,unAvailableMonths:o,invalidMonths:o.reduce(function(e,t){return e.push({start:gt()().month(t-1).startOf("month"),end:gt()().month(t-1).endOf("month")}),e.push({start:gt()().add("year",1).month(t-1).startOf("month"),end:gt()().add("year",1).month(t-1).endOf("month")}),e},[])}},e.handleInvalidMonths=function(t){var a=gt()(e.state.selectedDate).month();e.state.unAvailableMonths.includes(a+1)?e.setState({startTime:null,endTime:null,modify:{startTime:null,endTime:null}},t):t()},e.handleTimerCancel=function(){e.setState({modify:{startTime:e.state.startTime,endTime:e.state.endTime}},function(){e.props.handleTimerPopup()})},e.handleTimerApply=function(){e.setState({startTime:e.state.modify.startTime,endTime:e.state.modify.endTime},function(){e.props.handleApplyTime(e.state.modify)})},e.handleCalendarApply=function(t){e.setState({selectedDate:new Date(t)},function(){e.props.handleApplyDate(t),e.updateAvailabilities()})},e.getTimerPlaceholder=function(){var t=e.state.modify,a=t.startTime,n=t.endTime;if(a||n){if(a&&!n)return"Select end time";var i="";return i=n>12?24===n?"12:00 AM":n-12+":00 PM":12===n?n+":00 PM":n+":00 AM","".concat(a>12?a-12+":00 PM":12===a?a+":00 PM":0===a?"12:00 AM":a+":00 AM","-").concat(i)}return"Select start time"},e.clickTime=function(t,a){if(!t.disable){var n=e.state,i=n.timeDetails,o=n.modify,r=o.startTime,s=o.endTime;if(i=ft.a.cloneDeep(i),!r&&!s||s&&s){if(!i[a].disable){var l=fe[a].timeNumber;i[a].active=!0,i=e.updateActiveItems(i,l,null),e.setState({timeDetails:i,modify:_()(e.state.modify,{startTime:{$set:l},endTime:{$set:null}})})}}else if(r>fe[a].timeNumber){var d=fe[a].timeNumber;i[a].active=!0,i=e.updateActiveItems(i,d,null),e.setState({timeDetails:i,modify:_()(e.state.modify,{startTime:{$set:d},endTime:{$set:null}})})}else for(var c=fe.findIndex(function(e){return e.timeNumber===r});c<=a;c++){if(i[c].disable){var m=e.state.modify.startTime,u=fe[a].timeNumber;i=e.updateActiveItems(i,m,u),e.setState({timeDetails:i,modify:_()(e.state.modify,{endTime:{$set:u}})});break}var p=e.state.modify.startTime,v=fe[a].timeNumber;i[a].active=!0,i=e.updateActiveItems(i,p,v),c+1===a&&e.setState({timeDetails:i,modify:_()(e.state.modify,{endTime:{$set:v}})})}}},e.updateActiveItems=function(e,t,a){return e.map(function(e){return e.active=a&&e.timeNumber>=t&&e.timeNumber<=a||e.timeNumber===t,e.hovered=!1,e})},e.handleTimer=function(){e.setState({showCalendar:!1,showTimer:!e.state.showTimer,onFocusCalendar:!1,onFocusTimer:!e.state.showTimer})},e.onMouseEnter=function(t,a){var n=e.state,i=n.modify,o=i.startTime,r=i.endTime,s=n.timeDetails;if(o&&!r){s=ft.a.cloneDeep(s);for(var l=fe.findIndex(function(e){return e.timeNumber===o}),d=l;d<fe.length;d++)s[d].hovered=d<=a&&d!==l;e.setState({timeDetails:s})}},e.onMouseLeave=function(){var t=e.state,a=t.modify,n=a.startTime,i=a.endTime,o=t.timeDetails;if(n&&!i){o=ft.a.cloneDeep(o);for(var r=fe.findIndex(function(e){return e.timeNumber===n});r<fe.length;r++)o[r].hovered=!1;e.setState({timeDetails:o})}},e.getTimeItemClass=function(e){return"\n      ".concat(e.active?"active":"","\n      ").concat(e.disable?"disable":"","\n      ").concat(e.instant?"instant":"","\n      ").concat(e.hovered?"hovered":"","\n    ")},e.renderTimeItems=function(){return e.state.timeDetails.map(function(t,a){return i.a.createElement("li",{key:a,onMouseEnter:e.onMouseEnter.bind(Object(g.a)(e),t,a),className:e.getTimeItemClass(t),onClick:e.clickTime.bind(Object(g.a)(e),t,a)},t.time,t.disable?i.a.createElement("div",{className:"lineThrough"}):null)})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.poolDetails&&!this.initialized&&(this.initialized=!0,this.handleParams())}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.props.poolDetails&&(this.initialized=!0,this.handleParams())}},{key:"render",value:function(){var e=this.state,t=e.selectedDate,a=e.maxDate,n=e.minDate,o=e.modify,r=this.props,s=r.classes,l=r.timePopupCustomStyles,d=void 0===l?null:l,c=r.allDatesIsInvalid;return i.a.createElement("div",{className:s.container,onMouseLeave:this.onMouseLeave},i.a.createElement("div",{className:"".concat(s.inputItem," ").concat(s.relative," ").concat(s.paddingRight," date")},i.a.createElement("div",{className:"".concat(s.formInputBox," ").concat(this.props.showCalendar?"focus":"")},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Date"),i.a.createElement("div",{className:s.dropDownSelectTime,onClick:this.props.handleCalendarPopup},t&&!c?i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},t):"Select date"),i.a.createElement("span",{className:"icon"},i.a.createElement("img",{src:window.location.origin+"/img/calender-green2.png",alt:"calendar"}))),i.a.createElement("div",{className:s.calendar},this.props.showCalendar&&i.a.createElement(Oi,{selectedDate:t,maxDate:a,minDate:n,handleCalenderCancel:this.props.handleCalendarPopup,handleCalenderApply:this.handleCalendarApply,invalidDates:this.props.invalidDates,updateBtn:!0}))),i.a.createElement("div",{className:"".concat(s.inputItem," ").concat(s.relative," time")},i.a.createElement("div",{className:"".concat(s.formInputBox," ").concat(this.props.showTimer?"focus":"")},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Time"),i.a.createElement("div",{className:s.dropDownSelectTime,onClick:this.props.handleTimerPopup},this.getTimerPlaceholder()),i.a.createElement("span",{className:"icon"},i.a.createElement("img",{src:window.location.origin+"/img/timer.png",alt:"Timer"}))),this.props.showTimer&&i.a.createElement("div",{className:s.timeBlock,style:d},i.a.createElement("ul",{className:"time-block"},this.renderTimeItems(),i.a.createElement("div",{className:"timer-buttons"},i.a.createElement(Ae.a,{className:s.cancelBtn,onClick:this.handleTimerCancel},"Cancel"),i.a.createElement(Ae.a,{disabled:!o.startTime||!o.endTime,onClick:this.handleTimerApply},"Update"))))))}}]),a}(n.Component),Bi=C()(Object(T.withStyles)(function(e){return{container:{display:"flex",position:"relative","@media (max-width: 400px)":{flexDirection:"column"},"& *":{boxSizing:"border-box"}},inputItem:{"&.time":{width:"55%","@media (max-width: 1000px)":{width:"50%"},"@media (max-width: 850px)":{width:"55%"},"@media (max-width: 400px)":{maxWidth:"100%",width:"100%",padding:"0"}},"&.date":{width:"45%","@media (max-width: 1000px)":{width:"50%"},"@media (max-width: 850px)":{width:"45%"},"@media (max-width: 400px)":{maxWidth:"100%",width:"100%",padding:"0"}}},paddingRight:{paddingRight:"15px","@media (max-width: 400px)":{paddingRight:"0"}},relative:{position:"relative"},formInputBox:{position:"relative",marginBottom:"15px","& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px ",fontWeight:"normal"},"& .icon":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"},"&.focus":{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}}},dropDownSelectTime:{background:e.palette.common.white,color:e.palette.common.black,padding:"14px 15px 13px 35px",fontSize:"14px",fontWeight:"normal",whiteSpace:"pre",border:"1px solid #e8e8e8",overflow:"hidden"},timeBlock:{zIndex:"10",position:"absolute",top:"85px",right:"0",width:"100%",minWidth:"320px",maxWidth:"320px","@media (max-width: 360px)":{minWidth:"290px"},"& ul.time-block":{width:"100%",margin:"0",padding:"0",boxShadow:"0 0 3px #ccc",background:"#fff"},"& ul.time-block li":{display:"inline-block",height:"44px",width:"16.66666%",padding:5,border:"1px solid #eef0f1",cursor:"pointer",color:"#232323",fontSize:"12px",fontWeight:"600",textTransform:"lowercase",position:"relative","&.disable":{backgroundColor:"#edf0f0",color:"#e0e0e0",borderColor:"#e8e8e8",cursor:"not-allowed"},"& .lineThrough":{position:"absolute",top:0,bottom:0,left:"-6px",right:0,margin:"auto",zIndex:15,width:"125%",height:1,backgroundColor:"#d0cfcf",transform:"rotate(140deg)"},"&.active:not(.disable)":{backgroundColor:"#22bfea",color:"#fff",borderColor:"#5ed1f1"},"&.instant:not(.disable):not(.active)":{backgroundImage:"url(/img/time.png)",backgroundRepeat:"no-repeat",backgroundPosition:"bottom 2px right 5px",backgroundSize:"14px"},"&.hovered:not(.disable):not(.active)":{backgroundColor:"#e8e8e8"}},"& .timer-buttons":{display:"flex",justifyContent:"flex-end",padding:"15px",paddingBottom:"15px","& button[disabled]":{background:"#e8e8e8"},"& button:first-child":{background:"transparent",color:"#232323"},"& button:first-child span":{color:"#232323"},"& button":{marginLeft:"10px",padding:"3px 20px"}}},calendar:{position:"relative",paddingLeft:"10px",zIndex:"10","& > div":{margin:"0 !important"}}}}))(Ai);Ai.defaultProps={poolDetails:null,date:new Date,startTime:null,endTime:null,handleApplyDate:function(){},handleApplyTime:function(){},handleCalendarPopup:function(){},handleTimerPopup:function(){},showCalendar:!1,showTimer:!1,timePopupCustomStyles:null,isDefaultInstantBooking:!1,allDatesIsInvalid:!1};var Mi=function(e){return{toggleContainer:{position:"relative",display:"flex",alignItems:"center",width:"42px",height:"20px",borderRadius:"12px",background:"#efefef",border:" #d5d5d5",boxShadow:"1px 1px 6px #aaa",transition:"all 100ms ease-in-out",cursor:"pointer","&.toggled":{background:e.palette.common.blue,"& .toggle-slider-button":{left:"calc(100% - 19px)"},"&.check-mark-icon:before":{opacity:"1"}},"&.check-mark-icon:before":{content:"''",display:"inline-block",position:"absolute",left:"5px",width:"10px",height:"10x",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url('/img/commons/check-mark.png')",opacity:"0",transition:"all 100ms ease-in-out"},"& .toggle-slider-button":{position:"absolute",left:"1px",top:"1px",width:"18px",height:"18px",background:"#fff",border:"#d5d5d5",borderRadius:"50%",boxShadow:"1px 1px 6px #aaa",zIndex:"1",transition:"all 100ms ease-in-out"}}}};function ji(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Li=function(e){Object(h.a)(a,e);var t=ji(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.toggled,a=e.classes,n=e.onToggle,o=e.withCheckMark;return i.a.createElement("div",{onClick:n,className:"\n          ".concat(a.toggleContainer,"\n          ").concat(t?"toggled":"","\n          ").concat(o?"check-mark-icon":"","\n        ")},i.a.createElement("div",{className:"toggle-slider-button"}))}}]),a}(n.Component);Li.defaultProps={classes:{},toggled:!1,withCheckMark:!0,onToggle:function(){}};var Wi=C()(Object(T.withStyles)(Mi))(Li),zi=i.a.createContext({region:"us",setRegion:function(){}});function Ui(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Hi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"bookPoolMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BookPoolInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookPool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"booking_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"mutation bookPoolMutation($data:BookPoolInput!){\n    bookPool(data:$data){\n       status\n       booking_id\n       message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Gi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Yi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"verifyPromocode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"promoCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifyPromocode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"mutation verifyPromocode($data:promoCodeInput!){\n  verifyPromocode(data:$data){\n    off_type\n    percent_off\n    promo_code\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qi=fe.map(function(e){return e.hoverClass="",e}),Vi=function(e){Object(h.a)(a,e);var t=Ui(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getUnAvailableMonths=function(e){for(var t=e.months,a=[1,2,3,4,5,6,7,8,9,10,11,12],n=0;n<t.length;n++){var i=a.indexOf(t[n].month_number);-1!==i&&a.splice(i,1)}return a},n.getMaxDate=function(){var e=n.props.poolDetails.availability_window;return gt()().add(e,"days").format()},n.getMinDate=function(){var e=n.props.poolDetails.months,t=gt()(),a=t.month(),i=e&&e.length?e[0].month_number-1:a,o=gt()().set("month",i);return i>=a?a===i?o.format():o.startOf("month").format():t.format()},n.handlePromocode=function(e){n.setState({promocode:e.target.value})},n.applyPromocode=function(e){var t=n.state.promocode,a=ie.getAccessToken();if(void 0!==a&&""!==a&&null!==a){var i=n.state,o=i.startTime,r=i.endTime;o&&r?void 0!==t&&""!==t?n.props.client.mutate({mutation:Yi,variables:{data:{promocode:t}}}).then(function(e){n.setState({isPromocodeApplied:!0,appliedPromocode:t,promo_type:e.data.verifyPromocode.off_type,promo_percentage:e.data.verifyPromocode.percent_off,promoCodeError:""})}).catch(function(e){var t=Gt(e);n.setState({promoCodeError:t,isPromocodeApplied:!1,appliedPromocode:"",promo_type:"",promo_percentage:"",loading:!1})}):n.setState({promoCodeError:"Please enter promo code",isPromocodeApplied:!1,appliedPromocode:"",promo_type:"",promo_percentage:""}):n.setState({promoCodeError:"Please select start and end time",isPromocodeApplied:!1,appliedPromocode:"",promo_type:"",promo_percentage:""})}else window.headerComponent.handleLoginModelOpen()},n.getExtraGuestFee=function(){var e=n.props.poolDetails,t=n.state,a=t.adultCount,i=t.childrenCount,o=t.totalHours,r=t.startTime,s=t.endTime;o=r&&s?o:0;var l=a+i;return l>e.price_per_guest_min_capacity?(l-e.price_per_guest_min_capacity)*e.price_per_guest*o:0},n.handleTimerPopup=function(){n.setState({openGuest:!1,onFocusGuest:!1,calenderShow:!1,timerShow:!n.state.timerShow})},n.handleApplyDate=function(e){e=gt()(e).isBefore(gt()(n.state.firstAvailableDate),"day")?n.state.firstAvailableDate:e,e=n.state.allDatesIsInvalid?null:e,n.setState({selectedDate:e,calenderShow:!1},function(){n.handleCalenderApply(e)})},n.handleApplyTime=function(e){var t=e.startTime,a=e.endTime;n.setState({startTime:t,endTime:a,timeStart:t,timeEnd:a,timerShow:!1},function(){n.handleTimerApply()})},n.handleCalendarPopup=function(){n.setState({openGuest:!1,onFocusGuest:!1,calenderShow:!n.state.calenderShow,timerShow:!1})},n.handlePromoCodeInput=function(e){n.setState({showPromoCodeInput:e})},n.toggleApplyCredits=function(){n.setState({applyCredits:!n.state.applyCredits})},n.renderTotalIncludingCredits=function(e,t){var a=n.props.classes,o=n.state.customerInfo;e=+Number(e).toFixed(1),t=+Number(t).toFixed(1);var r=o&&o.referral_balance?o.referral_balance:0,s=r>=e?t:e-r,l=r>=e?e-t:r;return i.a.createElement("div",{className:a.totalIncludingCredits},i.a.createElement(Oe.a,{variant:"h4"},"Total",i.a.createElement("div",{className:"flex"},i.a.createElement("span",{className:"total"},"$ ",e.toFixed(2)),i.a.createElement("span",{className:"increase"},"- $ ",l.toFixed(2)))),i.a.createElement(Oe.a,{variant:"h3"},"Total ",i.a.createElement("span",null,"$ ",s.toFixed(2)," ",le?"USD":"")))},n.state={accessToken:"",selectedDate:new Date,openGuest:!1,timerShow:!1,calenderShow:!1,checkedInstantBooking:!1,startTime:"",endTime:"",adultCount:1,childrenCount:0,infantCount:0,modifySearch:!1,updateBtn:!0,searchFields:{},timerRangeMax:0,timerRangeMin:0,selectReason:"",availableDate:"",cardBrand:"",cardLastFourDigit:"",timeDetails:qi,defaultTime:qi,timeEnd:"",timeStart:"",onFocusCalender:!1,onFocusTimer:!1,onFocusGuest:!1,errorMessage:"",totalHours:0,loading:!1,isStartedBooking:!1,modify:{date:new Date,startTime:"",endTime:"",startRange:"",endRange:"",adultCount:1,childrenCount:0,infantCount:0,referral:!1,customerInfo:{}},promocode:"",promoCodeError:"",isPromocodeApplied:!1,appliedPromocode:"",promo_type:"",promo_percentage:"",isDefaultInstantBooking:!1,minDate:null,maxDate:null,bookingData:null,preApprovedFlow:!1,showPromoCodeInput:!1,applyCredits:!1,fromPage:null,selectedDateIsInvalid:!1,allDatesIsInvalid:!1,firstAvailableDate:null},n.timeStartBooking=null,n.sendAnalyticsData=n.sendAnalyticsData.bind(Object(g.a)(n)),n.handleCalenderCancel=n.handleCalenderCancel.bind(Object(g.a)(n)),n.handleGuestCancel=n.handleGuestCancel.bind(Object(g.a)(n)),n.handleTimer=n.handleTimer.bind(Object(g.a)(n)),n.handleTimerCancel=n.handleTimerCancel.bind(Object(g.a)(n)),n.handleTimerApply=n.handleTimerApply.bind(Object(g.a)(n)),n.handleSelectReason=n.handleSelectReason.bind(Object(g.a)(n)),n.handleRequestReservation=n.handleRequestReservation.bind(Object(g.a)(n)),n.clickTime=n.clickTime.bind(Object(g.a)(n)),n.handleLoginModelOpen=n.handleLoginModelOpen.bind(Object(g.a)(n)),n.setAccessToken=n.setAccessToken.bind(Object(g.a)(n)),n.getExtraGuestFee=n.getExtraGuestFee.bind(Object(g.a)(n)),n.updateAvalibilities=n.updateAvalibilities.bind(Object(g.a)(n)),window.setAccessToken=n.setAccessToken.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getAccessToken(),a=ie.getAvailableDate(),n=ie.getAdultCount(),i=ie.getChildCount(),o=ie.getInfantCount(),r=ie.getStartTime(),s=ie.getEndTime(),l=ie.getTimerMin(),d=ie.getTimerMax(),c=ie.getCardBrand(),m=ie.getCardLastFourDigit(),u=ie.getPaymentReason();null===u&&(u=""),""!==m&&null!==m||(m="");var p=(new Date).getHours();null==l&&p>=18&&(p=18),a=null===a?new Date:a;var v=new Date(a),g=v.getDate(),h=v.getUTCFullYear(),f=v.getMonth()+1,k=h+"-"+f+"-"+g,b=ui()(this.state.defaultTime),y=this.state.timeStart,x=this.state.timeEnd;b.map(function(t,a){return t.timeNumber===parseInt(l)?e.state.timeDetails[a].disable||(b[a].activeClass="active",y=t.timeNumber):t.timeNumber===parseInt(d)&&(e.state.timeDetails[a].disable||(b[a].activeClass="active",x=t.timeNumber)),e.setState({timeDetails:b,timeStart:y,timeEnd:x}),null});var N=new Date(a),S=this.props.location.state&&this.props.location.state.bookingData?JSON.parse(this.props.location.state.bookingData):null,w=this.props.location.state&&this.props.location.state.from?this.props.location.state.from:null,_=S&&8===S.booking_status;if(S){var E=gt()(S.date),F=qi.find(function(e){return e.time_insert===S.from}),C=qi.findIndex(function(e){return e.time_insert===S.to})+1,T=qi[C];r=F.displayFormattedTime,s=T.displayFormattedTime,y=F.timeNumber,x=T.timeNumber,l=F.timeNumber,d=T.timeNumber,n=S.adult_guests,i=S.children_guests,o=S.infant_guests,g=(v=new Date(E)).getDate(),k=(h=v.getUTCFullYear())+"-"+(f=v.getMonth()+1)+"-"+g}var P=qt(this.props.poolDetails,N),I=P.invalidDates,D=P.selectedDateIsInvalid,O=P.firstAvailableDate,R=this.getUnAvailableMonths(this.props.poolDetails),A=this.getMaxDate(),B=gt()(N).month()+1,M=R.includes(B)||gt()(A)<gt()(N);D&&(k="",N=null,r=null,s=null),this.setState({accessToken:null===t?"":t,minDate:gt()().format(),maxDate:gt()().add("year",1).format(),startTime:!r||M?"":r,endTime:!s||M?"":s,timerRangeMin:null===l?p+1:l,timerRangeMax:null===d?p+2:d,adultCount:null===n?1:parseInt(n),childrenCount:null===i?0:parseInt(i),infantCount:null===o?0:parseInt(o),timeStart:y,timeEnd:x,availableDate:k,searchFields:{adultCount:null===n?1:parseInt(n),childrenCount:null===i?0:parseInt(i),infantCount:null===o?0:parseInt(o)},cardBrand:c,cardLastFourDigit:m,totalHours:d-l,selectReason:u,defaultTimeSelection:r,allDatesIsInvalid:D&&!O,firstAvailableDate:O,bookingData:S,preApprovedFlow:_,unAvailableMonths:R,maxPoolDate:A,fromPage:w,invalidDates:I,selectedDateIsInvalid:D,selectedDate:N},function(){e.handleModifySearch(!0,"date")}),this.props.client.query({query:Gi,fetchPolicy:"network-only"}).then(function(t){e.setState({referral:t.data.me.awards,cardBrand:t.data.me.card_brand,cardLastFourDigit:t.data.me.card_last_four,customerInfo:t.data.me})}).catch(function(e){})}},{key:"componentDidUpdate",value:function(e){e.user!==this.props.user&&this.props.user&&!this.state.customerInfo&&this.setState({customerInfo:this.props.user})}},{key:"setAccessToken",value:function(){var e=this,t=ie.getAccessToken();this.setState({accessToken:t}),this.props.client.query({query:Gi,fetchPolicy:"network-only"}).then(function(t){e.setState({cardBrand:t.data.me.card_brand,cardLastFourDigit:t.data.me.card_last_four,customerInfo:t.data.me})}).catch(function(e){})}},{key:"handleLoginModelOpen",value:function(e){window.headerComponent.handleLoginModelOpen({callback:e})}},{key:"handleCalender",value:function(e){this.setState({calenderShow:!0===e,openGuest:!1,timerShow:!1,onFocusCalender:!0,onFocusTimer:!1,onFocusGuest:!1}),this.timeStartBooking||(this.timeStartBooking=new Date)}},{key:"updateAvalibilities",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.poolDetails,i=this.state,o=i.adultCount,r=i.childrenCount,s=i.modify,l=i.startTime,d=i.endTime,c=i.timeStart,m=i.timeEnd,u=i.selectedDateIsInvalid;t="modify"===e?ie.getAvailableDate():s.date,a&&(t=ie.getAvailableDate()||s.date);var p=ui()(qi);if(a&&u)return p=p.map(function(e){return e.disable=!0,e}),void this.setState({timeDetails:p,startTime:null,endTime:null,timeStart:null,timeEnd:null,defaultTime:p});t=null===t?(new Date).setHours(0,0,0,0):t;var v=new Date(t),g=v.getFullYear(),h=v.getMonth()+1;h=h<10?"0"+h:h;var f=v.getDate();v=g+"-"+h+"-"+(f=f<10?"0"+f:f);var k=gt()(t).month()+1,b=this.state.unAvailableMonths.includes(k)||gt()(this.state.maxPoolDate)<gt()(t),y=Wt.filterBookings(n.bookings,v),x=Wt.getBookingsTimes(y),N=l?qi.find(function(e){return e.displayFormattedTime===l}).timeNumber:null,S=d?qi.find(function(e){return e.displayFormattedTime===d}).timeNumber:null,w=p.find(function(e){return e.time_insert===n.available_from}).timeNumber,_=p.find(function(e){return e.time_insert===n.available_to}).timeNumber;S=S?S&&S>_?_:S:null,l=(N=N?N&&N<w?w:N:null)?qi.find(function(e){return e.timeNumber===N}).displayFormattedTime:null,d=S?qi.find(function(e){return e.timeNumber===S}).displayFormattedTime:null;var E=n.advance_notice,F=o+r,C=n.default_instant_booking&&n.instant_group_size>=F&&n.max_guests>=F;this.setState({isDefaultInstantBooking:C});var T=gt()().add(E,"hours");new Date(this.state.minDate)>new Date(T)&&(T=this.state.minDate);for(var P=0,I=0;I<qi.length;I++){var D=n.unavailable_dates?n.unavailable_dates.find(function(e){return gt()(e).isSame(gt()(t),"day")}):null,O=n.pool_unavailabilities.filter(function(e){return gt()(e.date).isSame(gt()(t),"day")}),R=ft.a.filter(O,{time:p[I].time_insert}),A=x.indexOf(p[I].timeNumber),B=gt()(t).hours(qi[I].timeNumber);b||R.length>=1||A>=0||p[I].timeNumber<w||p[I].timeNumber>_||D||B<T?p[I].disable=!0:P||(P=p[I].timeNumber),!p[I].disable&&C&&(p[I].instaBookingClass="insta_booking")}P>N&&(S-P>=1?(N=P,l=qi.find(function(e){return e.timeNumber===N}).displayFormattedTime):(N=null,S=null,l=null,d=null,c=null,m=null,p=p.map(function(e){return e.active=!1,e})));var M=Wt.getAvailableStartEndTime({poolUnAvailabilities:n.pool_unavailabilities,date:gt()(t).format("YYYY-MM-DD"),startTime:c,endTime:m,bookingTimes:x}),j=M.startTime,L=M.endTime;l=Wt.formatTime(j),d=Wt.formatTime(L),this.setState({startTime:l,endTime:d,timeStart:N,timeEnd:S,defaultTime:p,timeDetails:p})}},{key:"handleCalenderApply",value:function(e){var t=this,a=new Date(e),n=this.state.modify;n.date=a;var i=a.getDate(),o=a.getUTCFullYear()+"-"+(a.getMonth()+1)+"-"+i;ie.setAvailableDate(n.date);var r=!1;this.state.defaultTimeSelection||(r=!0),this.setState({calenderShow:!1,modify:n,onFocusCalender:!1,selectedDate:n.date,availableDate:o,modifySearch:r},function(){t.updateAvalibilities("date")})}},{key:"handleCalenderCancel",value:function(){var e=!1;this.state.defaultTimeSelection||(e=!0),this.setState({calenderShow:!1,onFocusCalender:!1,modifySearch:e})}},{key:"handleCount",value:function(e){var t=this.state,a=t.onFocusGuest,n=t.modify;this.setState({searchFields:{adultCount:n.adultCount,childrenCount:n.childrenCount,infantCount:n.infantCount},openGuest:!0===e,calenderShow:!1,timerShow:!1,onFocusGuest:!0!==a})}},{key:"handleTimer",value:function(e){var t=this.state,a=t.modify,n=t.defaultTime,i=t.timeDetails,o=t.timeStart,r=t.timeEnd;if(n=ui()(n),a.startTime&&a.endTime){var s=ui()(i);o=parseInt(a.startRange),r=parseInt(a.endRange);for(var l=qi.findIndex(function(e){return e.timeNumber===o}),d=qi.findIndex(function(e){return e.timeNumber===r}),c=parseInt(l);c<=parseInt(d);c++){if(s[c].disable){this.setState({timeDetails:n});break}n[c].activeClass="active",c===d&&this.setState({timeDetails:n})}}else this.setState({timeDetails:n}),o="",r="";this.setState({timeStart:o,timeEnd:r,timerShow:!e,onFocusTimer:!0,onFocusCalender:!1,onFocusGuest:!1,calenderShow:!1})}},{key:"handleTimerCancel",value:function(){var e=this,t=!1;this.state.defaultTimeSelection||(t=!0),this.setState({timerShow:!1,onFocusTimer:!1,timeStart:"",timeEnd:"",modifySearch:t},function(){return e.updateAvalibilities("modify")})}},{key:"handleGuestApply",value:function(e){var t=this.props.poolDetails,a=this.state.defaultTimeSelection,n=!1;null!==a&&""!==a||(n=!0);var i=this.state.modify;i.adultCount=e.adultCount,i.childrenCount=e.childrenCount,i.infantCount=e.infantCount,ie.setAdultCount(i.adultCount),ie.setChildCount(i.childrenCount),ie.setInfantCount(i.infantCount);var o=i.adultCount+i.childrenCount,r=t.default_instant_booking&&t.instant_group_size>=o&&t.max_guests>=o;this.setState({modify:i,openGuest:!1,onFocusGuest:!1,adultCount:i.adultCount,childrenCount:i.childrenCount,infantCount:i.infantCount,modifySearch:n,isDefaultInstantBooking:r})}},{key:"handleGuestCancel",value:function(){var e=!1;this.state.defaultTimeSelection||(e=!0),this.setState({openGuest:!1,onFocusGuest:!1,modifySearch:e})}},{key:"onSubmitSearchPool",value:function(){}},{key:"handleModifySearch",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modify",n=this.state,i=n.adultCount,o=n.childrenCount,r=n.infantCount,s=n.selectedDate,l=n.startTime,d=n.endTime,c=n.timerRangeMax,m=n.timerRangeMin,u={date:new Date(s),startTime:l,endTime:d,adultCount:i,childrenCount:o,infantCount:r,startRange:m,endRange:c};this.setState({modifySearch:!0,defaultTimeSelection:"",modify:u},function(){t.handleTimer(e),t.updateAvalibilities(a,e)}),this.timeStartBooking||(this.timeStartBooking=new Date)}},{key:"handleSelectReason",value:function(e){ie.setPaymentReason(e.target.value),this.setState({selectReason:e.target.value}),this.timeStartBooking||(this.timeStartBooking=new Date)}},{key:"handleRequestReservation",value:function(){var e=this,t=this.state,a=t.isDefaultInstantBooking,n=t.customerInfo,i=t.totalHours,o=t.availableDate,r=t.selectedDate,s=t.isPromocodeApplied,d=t.appliedPromocode,c=t.cardLastFourDigit,m=t.adultCount,u=t.childrenCount,p=t.infantCount,v=t.startTime,g=t.endTime,h=t.selectReason,f=t.preApprovedFlow,k=this.props,b=k.hourlyPrice,y=k.serviceCharge,x=this.state.defaultTimeSelection,N=!1;null!==x&&""!==x||(N=!0);var S=b*i;if(""!==c&&null!==c&&a&&h||!a&&h){var w=this.props,_=w.poolId,E=w.history,F=w.poolDetails;if(v&&g&&r){var C=ie.getTimerMin(),T=gt()(r).format("DD-MM-YYYY"),P=gt()(new Date).format("DD-MM-YYYY"),I=(new Date).getHours()+1,D=gt()(r).month()+1;if(this.state.unAvailableMonths.includes(D)||gt()(this.state.maxPoolDate)<gt()(r))this.setState({errorMessage:"Booking is not allowed for selected date."}),window.scrollTo(0,0);else if(T===P&&C<I)this.setState({errorMessage:"Booking is not allowed for selected time slots."}),window.scrollTo(0,0);else{var O="";O=a||f?"book_this_pool":"request_reservation",this.setState({errorMessage:"",loading:!0});var R="";!0===s&&(R=d);var A="search"===new URLSearchParams(this.props.history.location.search).get("from")&&ie.getAddress()||"",B={pool_id:parseInt(_),date:o,from:v,to:g,adult_guests:parseInt(m),children_guests:parseInt(u),infant_guests:parseInt(p),reason_for_booking:h||"",promo_code:R,useAward:this.state.applyCredits,search_address:A};this.state.bookingData&&this.state.bookingData.id&&(B.booking_id=this.state.bookingData.id),this.props.client.mutate({mutation:Hi,variables:{data:B}}).then(function(t){if(e.sendAnalyticsData(_,t.data.bookPool.booking_id),"BOOKING_SUCCESSFULL"===t.data.bookPool.status){var a={dataLayer:{transactionId:t.data.bookPool.booking_id,userID:n.id,poolID:_,date:gt()(r).format("YYYY-MM-DD"),hours:i,address:"long_name"!==F.street_number?F.street_number:"",city:F.city,state:F.state,zipcode:F.zip_code,hourlyPrice:b,totalPrice:S,serviceCharge:y,orderid:t.data.bookPool.booking_id,revenue:S,value:S,customerInfo:{firstName:n.firstname,lastname:n.lastname,userID:n.id,email:n.email}},dataLayerName:"PageDataLayer"};l.a.dataLayer(a),B.date=gt()(r).format("ddd, MMMM DD, YYYY"),B.status=O,ie.setPoolBookingStatus(JSON.stringify(B)),e.props.handleRequestReservation(t.data),e.setState({loading:!1}),E.push("/reservation-success")}else e.setState({errorMessage:t.data.bookPool.message,loading:!1,modifySearch:N}),window.scrollTo(0,0)}).catch(function(t){var a=Gt(t);e.setState({errorMessage:a,loading:!1,modifySearch:N})})}}else r?(this.setState({errorMessage:"Please check start and end time",modifySearch:N}),window.scrollTo(0,0)):(this.setState({errorMessage:"Please select date for booking",modifySearch:N}),window.scrollTo(0,0))}else v||g?h||(this.setState({errorMessage:"Please select reason for booking",modifySearch:N}),window.scrollTo(0,0)):(this.setState({errorMessage:"Please check start and end time",modifySearch:N}),window.scrollTo(0,0))}},{key:"sendAnalyticsData",value:function(e,t){if(!this.state.isDefaultInstantBooking){var a={timestamp:(new Date).toISOString(),event_type:"booking-finish",poolId:e,bookingId:t,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};Ci(this.props.client,a)}var n=new Date;if(this.timeStartBooking&&n){var i=n-this.timeStartBooking,o={timestamp:(new Date).toISOString(),event_type:"pool-time-spend",duration:i,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};Ci(this.props.client,o)}}},{key:"onMouseEnter",value:function(e){var t=this.state,a=t.timeStart,n=t.timeEnd,i=t.timeDetails;if(i=ui()(i),a&&!n){for(var o=qi.findIndex(function(e){return e.timeNumber===a}),r=o;r<qi.length;r++)i[r].hoverClass=r<=e&&r!==o?"hovered":"";this.setState({timeDetails:i})}}},{key:"clickTime",value:function(e){var t=this.state,a=t.timeStart,n=t.timeEnd,i=t.defaultTime,o=t.timeDetails;i=ui()(i);var r=ui()(o);if(""===a&&""===n||""!==a&&""!==n)r[e].disable||(i[e].activeClass="active",this.setState({timeStart:qi[e].timeNumber,timeEnd:"",timeDetails:i}));else{var s=a;if(s>qi[e].timeNumber)i[e].activeClass="active",this.setState({timeStart:qi[e].timeNumber,timeEnd:"",timeDetails:i});else for(var l=qi.findIndex(function(e){return e.timeNumber===s});l<=e;l++){if(r[l].disable){this.setState({timeEnd:qi[e].timeNumber,timeDetails:i});break}i[l].activeClass="active",l+1===e&&this.setState({timeEnd:qi[e].timeNumber,timeDetails:i})}}this.timeStartBooking||(this.timeStartBooking=new Date)}},{key:"handleTimerApply",value:function(){var e=this.state,t=e.modify,a=e.timeStart,n=e.timeEnd;if(""!==a){var i="";""!==a&&(i=(a=parseInt(a))>12?a-12+":00 PM":12===a?a+":00 PM":0===a?"12:00 AM":a+":00 AM");var o="";""!==(n=""===n?a:parseInt(n))&&(o=(n=parseInt(n))>12?24===n?"12:00 AM":n-12+":00 PM":12===n?n+":00 PM":n+":00 AM"),t.startTime=i,t.endTime=o,t.startRange=a,t.endRange=n,ie.setStartTime(t.startTime),ie.setEndTime(t.endTime),ie.setTimerMin(t.startRange),ie.setTimerMax(t.endRange);var r=this.state.defaultTimeSelection,s=!1;null!==r&&""!==r||(s=!0),this.setState({modify:t,timerShow:!1,onFocusTimer:!1,errorMessage:"",startTime:t.startTime,endTime:t.endTime,timerRangeMax:t.endRange,timerRangeMin:t.startRange,totalHours:parseInt(t.endRange)-parseInt(t.startRange),modifySearch:s})}else t.startTime="",t.endTime="",ie.setStartTime(t.startTime),ie.setEndTime(t.endTime),this.setState({startTime:t.startTime,endTime:t.endTime,modify:t,timerShow:!1,onFocusTimer:!1,modifySearch:!0})}},{key:"returnGuestText",value:function(e,t,a){var n="",i="";0===e?(n="",i=""):1===e?(n=e,i=0===t&&0===a?"Adult":"Adult,"):(n=e,i=0===t&&0===a?"Adults":"Adults,");var o="",r="";0===t?(o="",r=""):1===t?(o=t,r=0===a?"Children":"Children,"):(o=t,r=0===a?"Childrens":"Childrens,");var s="",l="";return 0===a?(s="",l=""):1===a?(s=a,l="Infant"):(s=a,l="Infants"),n+" "+i+" \xa0"+o+" "+r+" \xa0"+s+" "+l}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hourlyPrice,n=e.serviceCharge,o=e.poolDetails,r=e.referalDiscount,s=this.state,l=s.modify,d=s.loading,c=s.cardBrand,m=s.searchFields,u=s.selectReason,p=s.onFocusGuest,v=s.modifySearch,g=s.updateBtn,h=s.selectedDate,f=s.openGuest,k=s.calenderShow,b=s.adultCount,y=s.childrenCount,x=s.infantCount,N=s.timerShow,S=s.startTime,w=s.endTime,_=s.timeStart,E=s.timeEnd,F=s.cardLastFourDigit,C=s.totalHours,T=s.referral,P=s.promocode,I=s.promoCodeError,D=s.isPromocodeApplied,O=s.promo_type,R=s.promo_percentage,A=s.customerInfo,B=s.isDefaultInstantBooking,M=s.preApprovedFlow,j=s.fromPage,L=S&&w?S+" - "+w:"",W="";W=l.adultCount||l.childrenCount||l.infantCount?"":"Select guests";var z=this.returnGuestText(b,y,x),U=this.returnGuestText(l.adultCount,l.childrenCount,l.infantCount),H=S&&w?C:0,G=a*H,Y=G,q=0;!0===D&&((q="percent"===O?G/100*R:R)>=G?(G=0,q=Y):G-=q);var V="0.00";!0!==T&&"true"!==T||(V=(V=G/100*r).toFixed(2));var $=o.price_per_guest_enabled?this.getExtraGuestFee():0,Q=G+(n=G/100*n+$/100*n)-V+$;$=$.toFixed(2),G=parseFloat(G).toFixed(2),Y=parseFloat(Y).toFixed(2),q=parseFloat(q).toFixed(2),n=parseFloat(n).toFixed(2),Q=parseFloat(Q).toFixed(2);return i.a.createElement(ni.a,{className:t.searchpoolContainer},!0===d?i.a.createElement(ut,{loading:d}):"",!1===v?i.a.createElement("div",null,i.a.createElement("div",{className:t.paymentFormContainer},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Date and Time"),i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},h),i.a.createElement("br",null),L," ")),i.a.createElement("div",{className:t.paymentFormGuest},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Guests"),i.a.createElement("p",null,z,i.a.createElement("span",{onClick:this.handleModifySearch.bind(this,!v)}," MODIFY"))),i.a.createElement("div",{className:t.divider})):"",!0===v?i.a.createElement("div",null,i.a.createElement("div",{className:t.priceContainer},i.a.createElement("div",null,i.a.createElement("span",{className:"bold big"},"$",a," "),"per hour"),o.rating?i.a.createElement("div",null,i.a.createElement("img",{src:window.location.origin+"/img/icons/star.png",className:t.starIcon,alt:""}),i.a.createElement("span",{className:"bold"},+parseFloat(o.rating||0).toFixed(1)),i.a.createElement("span",{className:"light"},"/ 5")):null),i.a.createElement("div",null,o&&o.default_instant_booking?i.a.createElement("div",{className:t.cancellationPolicyBox,style:{paddingRight:0,marginRight:0,maxWidth:"unset",paddingBottom:0}},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/time.png"),width:19,height:19,alt:""}),i.a.createElement("div",null,i.a.createElement("h5",null,"Instant booking"),i.a.createElement("p",null,"This pool is pre approved for all reservations with up to ",o.instant_group_size," guests"))):null),i.a.createElement("div",{className:t.divider}),i.a.createElement(Bi,{poolDetails:o,date:this.state.selectedDate,startTime:_,endTime:E,handleApplyDate:this.handleApplyDate,handleApplyTime:this.handleApplyTime,handleCalendarPopup:this.handleCalendarPopup,handleTimerPopup:this.handleTimerPopup,showCalendar:k,showTimer:N,isDefaultInstantBooking:B,fromPage:j,invalidDates:this.state.invalidDates,allDatesIsInvalid:this.state.allDatesIsInvalid}),i.a.createElement("div",{className:t.formInputBox+" "+(!0===p?t.onFocusGuest:"")},i.a.createElement(Oe.a,{variant:"subtitle2",className:"light",component:"label"},"Who will be coming?"),i.a.createElement("div",{className:t.dropDownSelect,onClick:this.handleCount.bind(this,!0!==f)},W,U,i.a.createElement("i",{className:"fas fa-caret-down",style:{fontSize:15},"aria-hidden":"true"})),!0===f?i.a.createElement(ci,{poolDetails:o,updateBtn:g,searchFields:m,adultCountNew:l.adultCount,childrenCountNew:l.childrenCount,infantCountNew:l.infantCount,handleGuestCancel:this.handleGuestCancel,handleGuestApply:this.handleGuestApply.bind(this)}):"")):"",i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",className:"light",component:"label"},"Reason for Booking"),i.a.createElement(oi.a,{value:u,onChange:this.handleSelectReason,className:t.selectReason,displayEmpty:!0,MenuProps:{classes:{paper:t.dropdownStyle}}},i.a.createElement(si.a,{value:"",className:t.selectMenuPopup},"Select"),i.a.createElement(si.a,{value:"Family Swim",className:t.selectMenuPopup},"Family Swim"),i.a.createElement(si.a,{value:"Social Swim",className:t.selectMenuPopup},"Social Swim"),i.a.createElement(si.a,{value:"Health",className:t.selectMenuPopup},"Health"),i.a.createElement(si.a,{value:"Event",className:t.selectMenuPopup},"Event"),i.a.createElement(si.a,{value:"Swimming Lessons/Courses",className:t.selectMenuPopup},"Swimming Lessons/Courses"),i.a.createElement(si.a,{value:"Photo/Video Shoot",className:t.selectMenuPopup},"Photo/Video Shoot"),i.a.createElement(si.a,{value:"Other",className:t.selectMenuPopup},"Other"))),i.a.createElement("div",{className:t.divider}),i.a.createElement("div",{className:t.paymentDetails},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Payment Details"),i.a.createElement("p",{className:"bold"},"Once the host approves your request, you will be asked to confirm it. Only then will you be charged."),i.a.createElement("p",null,i.a.createElement("span",{style:{fontWeight:500,marginRight:5}},H&&H+".0")," hours x $",a,i.a.createElement("span",{className:"last"},"$",Y)),!0===D?i.a.createElement("p",{className:t.promocodeDiscount},"Promocode discount ",i.a.createElement("span",{className:"bold"},"-$",q)):"",i.a.createElement("p",null,"Service fee ",i.a.createElement("span",{className:"last"},"$",n)),"0.00"!==V?i.a.createElement("p",null,r,"% referral credit ",i.a.createElement("span",null,"-$",V)):""),o.price_per_guest_enabled&&i.a.createElement("div",{className:t.paymentDetails},i.a.createElement("p",null,"Extra guests fee: ",i.a.createElement("span",null,"$",$))),i.a.createElement("div",null,i.a.createElement("div",{onClick:this.handlePromoCodeInput.bind(this,!0),className:t.addPromoCodeButton},i.a.createElement("p",null,"Add promo code")),this.state.showPromoCodeInput&&i.a.createElement("div",{className:t.promocodeContainer},i.a.createElement(Xe.a,{className:"promocode-input",id:"promocode",placeholder:"Promo code",type:"text",name:"promocode",autoComplete:"",margin:"normal",variant:"outlined",value:P,onChange:this.handlePromocode}),i.a.createElement("div",{onClick:this.applyPromocode,className:"promocode-button"},i.a.createElement(Oe.a,{variant:"button"},"Apply")))),A&&A.referral_balance?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.divider}),i.a.createElement("div",{className:t.applyCreditsContainer},i.a.createElement("div",{className:"info"},i.a.createElement("p",null,"APPLY CREDITS"),i.a.createElement("p",{className:"credits"},"$ ",A.referral_balance)),i.a.createElement(Wi,{toggled:this.state.applyCredits,onToggle:this.toggleApplyCredits}))):null,i.a.createElement("div",{className:t.divider}),""!==I?i.a.createElement("p",{className:t.error},I):"",!0===D?i.a.createElement("p",{className:t.success},"Promocode applied succefully"):"",i.a.createElement("div",{className:t.totalValue},A&&A.referral_balance&&this.state.applyCredits?this.renderTotalIncludingCredits(Q,n):i.a.createElement(Oe.a,{variant:"h3"},"Total ",i.a.createElement("span",null,"$",Q," ",le?"USD":""))),i.a.createElement("div",null,o.id?i.a.createElement(Ei,{errorMessage:this.state.errorMessage,from:"payment",poolDetails:o,handleRequestReservation:this.handleRequestReservation,handleLoginModelOpen:this.handleLoginModelOpen,cardLastFourDigit:F,cardBrand:c,customerInfo:A,isDefaultInstantBooking:B,preApprovedFlow:M,needGoBackAfterUpdate:!0}):i.a.createElement("div",null,this.state.errorMessage?i.a.createElement(Oe.a,{variant:"caption",className:t.caption,component:"p"},this.state.errorMessage):null,i.a.createElement("div",{onClick:this.handleRequestReservation,className:t.activeReservationBtn},i.a.createElement(Oe.a,{variant:"button"},"REQUEST RESERVATION")))),o.cancellation_policy?i.a.createElement("div",null,i.a.createElement("div",{className:t.divider}),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Cancellation Policy"),i.a.createElement("div",{className:t.cancellationPolicyBox},i.a.createElement("i",{className:"far fa-thumbs-up"}),i.a.createElement("div",null,i.a.createElement("h5",null,o.cancellation_policy.title),i.a.createElement("p",null,o.cancellation_policy.description)))),i.a.createElement("div",{className:t.cancellationPolicyBox,style:{marginTop:0}},i.a.createElement("i",{className:"fa fa-exclamation-circle",style:{marginRight:10}}),i.a.createElement("div",null,i.a.createElement("p",null,"Service fee is not refundable")))):"")}}]),a}(i.a.Component);var $i=C()(Object(T.withStyles)(function(e){return{paymentFormGuest:{"& p":{marginBottom:"0","& span":{float:"right",color:e.palette.common.blue,cursor:"pointer",fontSize:"12px",fontWeight:"500","&:hover":{color:e.palette.common.black}}},"@media (max-width:850px)":{display:"inline-block","& p":{"& span":{display:"block",width:"100px",left:"14px",position:"absolute",paddingTop:"8px",marginTop:"15px"}}}},priceContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",color:e.palette.common.black,fontSize:18,"& .bold":{marginRight:4,fontWeight:500,color:e.palette.common.black},"& .light":{color:e.palette.common.darkgray,fontWeight:400},"& .big":{fontSize:28},"& img":{marginRight:7}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},searchpoolContainer:{padding:"25px",width:"100%",maxWidth:"500px",position:"relative",overflow:"inherit",border:"1px solid #f3f5f5",boxSizing:"border-box","& h3":{fontWeight:"500",lineHeight:"30px",margin:"0 0 20px"},"@media (max-width:1000px)":{padding:"15px"},"@media (max-width:850px)":{width:"calc(100% - 30px)",maxWidth:650,padding:"25px 15px",marginBottom:"50px",border:"none",boxShadow:"none",left:0,right:0,margin:"auto"},"@media (max-width:400px)":{boxSizing:"border-box",padding:"25px 15px",width:"100%",maxWidth:"100%"},"& h6":{color:e.palette.common.black,marginBottom:"15px",fontSize:"13px",fontWeight:"500"}},formInputBox:{position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontWeight:600,"&.light":{fontSize:12,fontWeight:300}},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px ",fontWeight:"normal"},"& span":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"}},formInputBoxPromocode:{"& .promocode-input":{width:"100%",height:"45px",margin:"0"},"& input":{padding:"12px",background:"white"},"& input:focus":{outline:"none",boxShadow:"0 0 2px #00ade2"},"& label + div":{display:"flex","& > div":{marginTop:"5px",border:"1px solid #23d1f2"},"& > div:last-child":{"& span":{height:"45px",filter:"none",margin:"0"}}}},onFocusCalender:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},onFocusTimer:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},textField:{position:"relative",width:"100%",margin:0},onFocusGuest:{"& > label + div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white,"& i":{transform:"rotate(180deg)"}},"& span":{filter:"grayscale(0)"},"& div > div":{"& Button":{marginBottom:"5px"}}},dropDownSelect:{background:e.palette.common.white,color:e.palette.common.black,padding:"14px 15px 13px 15px",fontWeight:"normal",border:"1px solid #e8e8e8","& i":{float:"right",fontSize:"22px",color:e.palette.common.darkgray}},dropDownSelectTime:{background:e.palette.common.white,color:e.palette.common.black,padding:"14px 15px 13px 35px",fontSize:"14px",fontWeight:"normal",whiteSpace:"pre",border:"1px solid #e8e8e8","& i":{float:"right",fontSize:"22px"}},selectReason:{width:"calc(100% - 30px)",padding:"9px 15px",fontSize:"14px",background:e.palette.common.white,border:"1px solid #e8e8e8","& i":{float:"right",fontSize:"22px",color:e.palette.common.darkgray},"&:before":{opacity:"0"},"&:after":{opacity:"0"},"& div > div":{"&:focus":{backgroundColor:"#fff"}}},CheckboxBottm:{position:"relative","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},dropDownSelectBlue:{background:"#00b6e7","& a":{textDecoration:"none"},"& span":{marginTop:"25px",background:"#00b6e7"}},labelInstantBook:{"& span:last-child":{paddingLeft:"20px"}},reasonBooking:{width:"calc(100% - 30px)",background:e.palette.common.gray,height:"45px",paddingLeft:"15px",paddingRight:"15px"},optional:{float:"right",color:"#ffa16b",textTransform:"capitalize",display:"inline-block",fontSize:"12px"},divider:{borderTop:"1px solid #e8e8e8",margin:"20px 0 25px",position:"relative",width:"100%","@media (max-width:850px)":{marginLeft:"-25px",marginRight:"-25px"}},paymentDetails:{"& p":{fontSize:"16px",marginBottom:"5px",color:"black",fontWeight:300},"& p.bold":{fontWeight:"bold"},"& span.last":{fontWeight:500,float:"right",color:e.palette.common.black},"& p:nth-child(2)":{fontSize:"13px",marginBottom:"10px",color:"#ccc",paddingTop:"10px",paddingBottom:"10px"}},cancelApplyBtn:{marginBottom:"15px",textAlign:"right","& Button:first-child":{background:e.palette.common.transparent,padding:"2px 15px","& span":{color:e.palette.common.blue}},"& Button:last-child":{background:e.palette.common.transparent,border:"2px solid #12bfea",padding:"0px 25px","& span":{color:e.palette.common.black}}},starIcon:{width:25,height:25,marginBottom:-5},selectMenuPopup:{fontSize:"12px",padding:"5px 15px"},paddingNoneright:{paddingRight:"0 !important"},defaultReservationBtn:{"& span":{background:"#ccc",marginTop:"25px"},"& span:hover":{background:"#ccc",cursor:"default"},"@media (max-width:850px)":{marginBottom:"50px"}},activeReservationBtn:{"& span":{borderRadius:0,padding:"10px 25px"}},totalValue:{marginBottom:"0px","& h3":{textTransform:"uppercase","& span":{float:"right"}}},totalIncludingCredits:{"& h4":{display:"flex",justifyContent:"space-between"},"& .flex":{display:"flex",flexDirection:"column",alignItems:"flex-end"},"& .increase":{color:e.palette.common.blue}},dropdownStyle:{borderRadius:"5%",backgroundColor:"#fff"},paymentFormContainer:{"@media (max-width:850px)":{display:"inline-block",marginRight:"35px",marginBottom:"15px",verticalAlign:"top"}},error:{margin:"15px 0",textAlign:"center",color:"red"},success:{color:"green"},active:{background:"red"},cancellationPolicyBox:{padding:"5px 15px 15px 2px",color:e.palette.common.black,marginTop:"15px",maxWidth:"300px",fontWeight:"300",fontSize:"13px",display:"flex",flexDirection:"row","& h5":{margin:"0",fontSize:"14px",fontWeight:"400",marginBottom:"5px"},"& p":{marginTop:"0",fontSize:"13px",color:e.palette.common.darkgray},"& i":{color:"#22bfea",fontSize:20,margin:"0 7px 0 0"},"& img":{margin:"0 7px 0 0"}},promocodeDiscount:{display:"flex",flexDirection:"row",justifyContent:"space-between","& .bold":{fontWeight:"500"}},promocodeContainer:{position:"relative",display:"flex",borderRadius:"30px",overflow:"hidden",boxSizing:"border-box","& *":{boxSizing:"border-box"},"& .promocode-input":{height:"45px",width:"100%",margin:"0",border:"1px solid #23d1f2",borderRight:"none",borderTopLeftRadius:"30px",borderBottomLeftRadius:"30px","& fieldset":{border:"none"},"& input":{padding:"5px 112px 5px 15px",height:"100%"},"& > div":{height:"100%"}},"& .promocode-button":{position:"absolute",right:"0",height:"45px",minWidth:"100px","& span":{height:"100%",borderRadius:"30px",padding:"10px 25px"}}},addPromoCodeButton:{display:"flex",alignItems:"center",maxWidth:"180px",margin:"15px 0 20px",cursor:"pointer","&:before":{content:"''",display:"inline-block",width:"20px",height:"20px",marginRight:"6px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url('/img/screens/pool-details/blue-plus-in-circle.png')"},"& p":{margin:"0",fontSize:"16px",fontWeight:"400",color:e.palette.common.blue}},applyCreditsContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between","& .info":{display:"flex",alignItems:"center","& p":{margin:"0",fontSize:"16px",fontWeight:"500",color:e.palette.common.black},"&:before":{content:"''",display:"inline-block",width:"20px",height:"20px",marginRight:"6px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url('/img/commons/swimply-bank.png')"},"& .credits":{marginLeft:"10px",color:e.palette.common.blue}}},caption:{margin:"10px 0"}}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(zi).region;return i.a.createElement(Vi,Object.assign({region:a},t,e))});function Qi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ki=function(e){Object(h.a)(a,e);var t=Qi(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.poolDetails;return i.a.createElement("div",{className:t.reviewContainer},i.a.createElement("ul",null,a.reviews&&a.reviews.length>0&&a.reviews.map(function(e,a){var n=gt.a.utc(e.created_at).toDate();n=gt()(n).local().format("MMMM YYYY");var o="";return o=e.commentedBy&&e.commentedBy.lastname?" "+e.commentedBy.lastname.charAt(0).toUpperCase()+".":".",i.a.createElement("li",{key:a,className:t.row},i.a.createElement("div",{className:t.reviewContent},i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:e.commentedBy&&e.commentedBy.img_url?e.commentedBy.img_url:window.location.origin+"/img/profile-icon.png"})),i.a.createElement(Oe.a,{variant:"h6"},i.a.createElement("div",{className:"column"},i.a.createElement("span",{className:"bold"},e.commentedBy?e.commentedBy.firstname:"",o),i.a.createElement("span",null,n)),i.a.createElement("div",{className:t.reviewRating},i.a.createElement("img",{src:window.location.origin+"/img/icons/star.png",alt:""}),i.a.createElement(Oe.a,{variant:"h4"},null===e.rating||""===e.rating?0:+parseFloat(e.rating).toFixed(1))))),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.comment}}))})))}}]),a}(i.a.Component),Ji=C()(Object(T.withStyles)(function(e){return{reviewContainer:{"& ul":{width:"100%",maxWidth:"100%",paddingLeft:0,display:"flex",flexDirection:"column",justifyContent:"space-between",flexWrap:"wrap","& li":{width:"100%",display:"flex",verticalAlign:"text-top",flexDirection:"column",marginBottom:"15px",flex:1,maxWidth:"500px",marginRight:25,"& figure":{margin:"0",paddingRight:"15px","& img":{borderRadius:"50%",height:"60px",width:"60px"}},"& p":{color:e.palette.common.darkgray,marginTop:5}}}},reviewContent:{width:"100%",display:"flex",flexDirection:"row","& h6":{marginBottom:"1px",fontWeight:"500",color:e.palette.common.black,fontSize:"14px",display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center","& .column":{display:"flex",flexDirection:"column","& span":{fontSize:15,fontWeight:200},"& .bold":{fontWeight:500,margin:"7px 0"}},"& img":{margin:"0 5px -3px",width:18,height:17},"& h4":{fontSize:17}}},similarContentBox:{position:"relative",overflow:"hidden",marginTop:"20px","& img":{width:"100%"}},similarListing:{borderBottom:"15px solid #1bccf0",paddingBottom:"30px","& Button":{position:"absolute",top:"10px",left:"0",borderRadius:0,fontSize:12,padding:"3px 15px","& sub":{fontSize:"9px",marginTop:"-3px",left:"5px",position:"relative",textTransform:"lowercase"}}},similarCaption:{position:"absolute",bottom:"0",color:e.palette.common.white,padding:"15px 15px 10px","& h3":{fontSize:"16px",color:e.palette.common.white},"& p":{margin:"0",fontSize:"12px",fontWeight:"100"}},reviewRating:{display:"flex",justifySelf:"flex-end"}}}),je.a)(Ki),Zi=a(119),Xi=a.n(Zi),eo=a(106),to=function(e){return{container:{position:"relative",marginRight:"17px","& .verified":{position:"absolute",left:"calc(100% - 16px)",bottom:"3px",display:"flex",alignItems:"center",color:e.palette.common.blue,fontSize:"13px",zIndex:"5","&:before":{content:"''",display:"inline-block",width:"18px",height:"20px",background:"url(/img/commons/verified-white-border.png) no-repeat center/contain"},"&.small":{left:"calc(100% - 14px)"},"&.small:before":{width:"16px",height:"18px"},"&.big":{left:"calc(100% - 18px)"},"&.big:before":{width:"20px",height:"22px"},"&.two-pluses":{left:"calc(100% - 20px)","&.small":{left:"calc(100% - 16px)"},"&.big":{left:"calc(100% - 24px)"}}}}}};function ao(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var no=function(e){Object(h.a)(a,e);var t=ao(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,n=e.containerClass,o=e.verifiedIconSize,r=Object(eo.a)(e,["classes","user","containerClass","verifiedIconSize"]),s=a&&a.roles&&"Host"===a.roles[0].name,l=a&&a.verifications&&a.verifications.length&&Wt.isVerified(a&&a.verifications,s,!0),d=a&&a.verifications&&a.verifications.length&&Wt.getVerifiedPluses(a&&a.verifications,s,!0);return i.a.createElement("div",{className:"".concat(t.container," ").concat(n)},l?i.a.createElement("div",{className:"verified ".concat(o," ").concat(2===d.length?"two-pluses":"")},d):null,i.a.createElement(Da.a,r))}}]),a}(n.Component);no.defaultProps={classes:{},verifications:[],user:{},containerClass:"",verifiedIconSize:""};var io=C()(Object(T.withStyles)(to))(no),oo=a(428),ro=a.n(oo),so={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveFavoritePool"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SaveFavoritePoolInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveFavoritePool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:133,source:{body:"mutation saveFavoritePool($data: SaveFavoritePoolInput!) {\n    saveFavoritePool(data: $data) {\n        status\n        message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},lo={cursor:"pointer",padding:"6px 16px",fontSize:"0.875rem",minWidth:"120px",textAlign:"center",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",lineHeight:"1.75",fontFamily:"Poppins, sans-seri",fontWeight:500,borderRadius:"4px",textTransform:"uppercase",border:0,outline:"none"},co=function(e){var t=e.isFavorite,a=e.classes,o=e.poolId,r=e.isBlue,s=e.isEditable,l=e.userRole,d=e.onFavoriteChange,u=e.client,p=e.user,v=e.refreshToken,g=e.history,h=e.poolStatus,f=e.handleShowFavPopup,k=e.updateUserFavorites,b=Object(n.useState)(t),y=Object(Ga.a)(b,2),x=y[0],N=y[1],S=Object(n.useState)(!1),w=Object(Ga.a)(S,2),_=w[0],E=w[1],F=Object(n.useState)(!1),C=Object(Ga.a)(F,2),T=C[0],P=C[1],I=Object(n.useRef)(),D=Object(n.useRef)(),O=de.replace("admin.","").replace("us.",""),R="".concat(O,"pooldetails/").concat(o);Object(n.useEffect)(function(){N(t)},[t]);var A=function(){var e=Object(m.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.mutate({mutation:so,variables:{data:{pool_id:o,favorite:t}}});case 3:e.next=13;break;case 5:if(e.prev=5,e.t0=e.catch(0),"Unauthenticated."!==Gt(e.t0)){e.next=13;break}return e.next=11,v();case 11:"logout"===e.sent?(ie.logout(),g.push("/")):A(t);case 13:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!s){e.next=12;break}return N(a=!x),d&&d(o),e.next=7,A(a);case 7:n=Object(pt.a)(p.favorites),(i=p.favorites.findIndex(function(e){return e===+o}))>=0?(p.favorites.splice(i,1),n=p.favorites):(p.favorites.push(+o),n=p.favorites),k(n),P(!1);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(e){e.stopPropagation();var t=e.target.getBoundingClientRect().top;E(!_),_||setTimeout(function(){t<=145&&D.current.classList.add("bottom"),D.current.classList.add("visible")},200)};return p?i.a.createElement("div",{className:a.icons},("swimmer"===l||"host"===l&&(1===h||5===h))&&i.a.createElement("div",{className:"share-container"},i.a.createElement("span",{className:"icon share ".concat(r?"blue":""),onClick:M}),_&&i.a.createElement(Da.c,{onClickAway:M},i.a.createElement("div",{className:"share-section",ref:D},i.a.createElement(Da.g,{ref:I,type:"text",fullWidth:!0,value:R}),i.a.createElement(Da.f,{variant:"outlined",onClick:function(){var e=document.createElement("input");e.value=R,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},i.a.createElement(ro.a,{color:"action",fontSize:"small"}))))),"swimmer"===l&&i.a.createElement("span",{className:"icon favorite ".concat(x?"active":""," ").concat(r?"blue":""),onClick:function(e){return f?function(e){e.stopPropagation(),P(!0)}(e):B(e)}}),i.a.createElement(Da.h,{open:f&&T,className:a.modal},i.a.createElement("div",{className:a.modalContainer},i.a.createElement(Da.j,{variant:"subheading"},"Are you sure you want to remove this pool from favorites?"),i.a.createElement("div",{className:a.buttonContainer},i.a.createElement("button",{type:"button",className:[a.cancelButton],onClick:function(){P(!1)}},"Cancel"),i.a.createElement("button",{type:"button",className:a.button,onClick:B},"Yes"))))):i.a.createElement("div",null)};co.defaultProps={classes:{},isFavorite:!1,isBlue:!1,isEditable:!0,onFavoriteChange:null,refreshToken:null,poolStatus:1,handleShowFavPopup:!1};var mo=C()(Object(T.withStyles)(function(e){return{icons:{display:"flex","& .icon":{width:"25px",height:"25px",display:"block",backgroundSize:"cover",cursor:"pointer","&.share":{backgroundImage:"url(../img/icons/share.png)","&.blue":{backgroundImage:"url(../img/icons/share-blue.png)"}},"&.favorite":{marginLeft:"20px",backgroundImage:"url(../img/icons/heart.png)","&.blue":{backgroundImage:"url(../img/icons/heart-blue.png)"},"&.active":{backgroundImage:"url(../img/icons/heart-filled.png)"}}},"& .share-container":{position:"relative"},"& .share-section":{padding:"15px",position:"absolute",background:"#fff",boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",borderRadius:"4px",right:"-15px",bottom:"35px",display:"flex",opacity:0,"@media (max-width:420px)":{right:"-60px"},"&.bottom":{bottom:"-85px"},"&.visible":{opacity:1},"& input":{width:"330px",flexShrink:1,"@media (max-width:420px)":{width:"260px"},"@media (max-width:370px)":{width:"220px",fontSize:"11px"}},"& button":{marginLeft:"15px","@media (max-width:380px)":{padding:"15px 5px"}}}},modal:{display:"flex",justifyContent:"center",alignItems:"center",outline:"none"},modalContainer:{padding:"25px",backgroundColor:e.palette.common.white,borderRadius:"4px",outline:"none"},buttonContainer:{marginTop:"30px",display:"flex",justifyContent:"space-around"},button:Object(u.a)({},lo,{backgroundColor:e.palette.primary.main,color:e.palette.common.white}),cancelButton:Object(u.a)({},lo,{color:e.palette.common.white,backgroundColor:e.palette.common.darkgray})}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(co,Object.assign({},t,e))});function uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}function po(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",right:"0",width:"32px",height:"32px",background:"url(../img/next.png)",backgroundSize:"25px",zIndex:"7",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onClick:a})}function vo(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",left:"0",width:"32px",height:"32px",background:"url(../img/prev.png)",backgroundSize:"25px",zIndex:"7",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onClick:a})}var go={"BBQ Grill":"outdoor_grill","Dining Table":"restaurant_menu","Lounge Chairs":"weekend","Large Pool area":"waves","Night Lighting":"wb_incandescent",Deck:"deck","Very sunny":"brightness_5","Swimming Lesson Friendly":"pool",WiFi:"wifi","Lunch Table":"restaurant","Handicap Access":"accessible_forward","Alcohol Friendly":"local_bar","Pet Friendly":"pets","Kiddie Pool":"child_care","Basketball Court":"sports_basketball","Large Shallow Area":"waves","Sitting area":"event_seat","Pool Party Friendly":"cake",Shade:"beach_access","Heated Pool":"whatshot",Sauna:"spa",TV:"tv"},ho={"Water Slide":"water-slide"},fo={"No Smoking":"no-smoking","No Loud Music":"no-loud-music","No Parties":"no-parties","No Pets":"no-pets","No Alcohol":"no-alcohol","No Food":"no-food","No Glass":"no-glass","No Diving":"no-diving"},ko=function(e){Object(h.a)(a,e);var t=uo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onScroll=function(){window.innerWidth>850&&n.paymentForm&&(window.scrollY>580?n.state.paymentFormIsFixed||(n.paymentForm.style.maxWidth=n.paymentForm.offsetWidth+"px",n.paymentForm.style.right=window.innerWidth-(n.paymentForm.offsetLeft+n.paymentForm.offsetWidth)+"px",n.setState({paymentFormIsFixed:!0})):n.state.paymentFormIsFixed&&(n.paymentForm.style.maxWidth="initial",n.paymentForm.style.right="initial",n.scrollContainer.scrollTop=0,n.setState({paymentFormIsFixed:!1})))},n.goToHostInfo=function(){n.props.poolDetails&&n.props.poolDetails.id&&n.props.history.push("/host-info/".concat(n.props.poolDetails.id))},n.handleAmenityIcon=function(e){return Object.keys(go).includes(e.name)?i.a.createElement("i",{className:"material-icons",style:{fontSize:29}},go[e.name]):Object.keys(ho).includes(e.name)?i.a.createElement("img",{src:window.location.origin+"/img/icons/"+e.name.toLowerCase().split(" ").join("-")+".svg",alt:""}):i.a.createElement("i",{className:e.icon,style:{fontSize:29}})},n.state={zoom:5,init:!0,paymentFormIsFixed:!1,isFavorite:n.props.poolDetails.isFavorite||!1},n.map=i.a.createRef(),n.circle=i.a.createRef(),n.handleMapIdle=n.handleMapIdle.bind(Object(g.a)(n)),n.chlorCheck=n.chlorCheck.bind(Object(g.a)(n)),n.idleCalled=!1,n.paymentForm=null,n.scrollContainer=null,n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1)}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,n=a.init;return a.isFavorite!==t.isFavorite||(this.props.serviceCharge!==e.serviceCharge||this.props.referalDiscount!==e.referalDiscount||this.state.paymentFormIsFixed!==t.paymentFormIsFixed||!0===n&&(void 0!==e.poolDetails.id&&this.setState({init:!1}),!0))}},{key:"redirectToConversions",value:function(){var e=ie.getAccessToken();if(null!==e&&""!==e){var t=this.props,a=t.poolDetails,n=t.history,i=t.user;i&&i.accept_chat_rules?n.push({pathname:"/contact-host/".concat(a.createdBy.id,"/pool/").concat(a.id),state:{fromPage:"/pooldetails"}}):n.push({pathname:"/chat-rules",state:{replaceTo:"/contact-host/".concat(a.createdBy.id,"/pool/").concat(a.id),fromPage:"/pooldetails"}})}else window.headerComponent.handleLoginModelOpen()}},{key:"handleMapIdle",value:function(){if(!this.idleCalled){var e=this.circle.current.getBounds();this.map.current.fitBounds(e),this.idleCalled=!0}}},{key:"chlorCheck",value:function(){var e=this.props.poolDetails;return!(void 0!==e.amenities&&e.amenities.length>0&&e.amenities.map(function(e){return e.name.toLowerCase()})||[]).includes("salt water")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.poolDetails,o=t.hourlyPrice,r=t.serviceCharge,s=t.referalDiscount,l=t.handleRequestReservation,d={speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!0,nextArrow:i.a.createElement(po,null),prevArrow:i.a.createElement(vo,null)},c=n.amenities&&n.amenities.filter(function(e){return e.active}),m=n.rules&&n.rules.filter(function(e){return e.active}),u=this.props.user&&n.createdBy&&n.createdBy.id===this.props.user.id,p=n.images&&n.images.slice().sort(function(e){return e.cover?0:-1});return i.a.createElement("div",{className:a.pooInfoContainer},i.a.createElement("div",{className:a.poolInfoInnerImg},i.a.createElement("div",null,i.a.createElement(_n.a,d,p&&p.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("img",{src:e.url,alt:""}),i.a.createElement(Xi.a,{smUp:!0},i.a.createElement("div",{className:"social-icons-absolute top right"},n.id?i.a.createElement(mo,{isFavorite:n.isFavorite,poolId:n.id,userRole:"swimmer"}):null)))}),p&&p.length<=0&&i.a.createElement("div",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/default-pool.png",style:{maxHeight:510}}),i.a.createElement(Xi.a,{smUp:!0},i.a.createElement("div",{className:"social-icons-absolute top right"},n.id?i.a.createElement(mo,{isFavorite:n.isFavorite,poolId:n.id,userRole:"swimmer"}):null)))))),i.a.createElement("div",{className:a.pageContent},i.a.createElement("div",{className:a.contentContainer},i.a.createElement("div",null,i.a.createElement("div",{className:"heading"},i.a.createElement(Oe.a,{variant:"h2"},n.title),i.a.createElement(Xi.a,{xsDown:!0},n.id?i.a.createElement(mo,{isFavorite:n.isFavorite,poolId:n.id,userRole:"swimmer",isBlue:!0}):null)),void 0!==n.id?i.a.createElement("p",null,""!==n.city&&null!==n.city?n.city+", ":""," ",""!==n.state&&null!==n.state?n.state+", ":""," ","00000"!==n.zip_code?""+n.zip_code:""):"",i.a.createElement("div",{className:"row"},i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/guests.png"),width:21,height:17,style:{marginBottom:-3},alt:""}),i.a.createElement("span",{className:"bold"},n.max_guests||"N/A"),"max guests"),i.a.createElement("span",null,this.chlorCheck()?i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/chlorine_pool.png"),width:21,height:17,alt:""}),i.a.createElement("span",{className:"bold"},"Chlorine pool")):i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/salt.png"),width:23,height:17,style:{marginBottom:-3},alt:""}),i.a.createElement("span",{className:"bold"},"Salt water")))),i.a.createElement("div",{onClick:this.goToHostInfo,className:"hosted-by-container"},i.a.createElement("div",{className:"row left host"},i.a.createElement(io,{className:a.profileIcon,src:n.createdBy&&n.createdBy.img_url?n.createdBy.img_url:window.location.origin+"/img/icons/large-duck-logo.png",alt:"Avatar",user:n&&n.createdBy}),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,"Hosted by",i.a.createElement("span",{style:{textTransform:"capitalize"},className:"bold"},n.createdBy&&n.createdBy.firstname?n.createdBy.firstname:"N/A")))),i.a.createElement("i",{className:"".concat(a.rightBlueArrow," fa fa-angle-right"),"aria-hidden":"true"}))),void 0!==n.pool_length&&""!==n.pool_length&&0!==n.pool_length&&void 0!==n.pool_width&&""!==n.pool_width&&0!==n.pool_width&&i.a.createElement("div",{className:a.poolInfoPara},"Pool Dimension",i.a.createElement("p",null,n.pool_length||0," x ",n.pool_width||0," ",le?"ft":"m")),void 0!==n.shallow_end&&""!==n.shallow_end&&0!==n.shallow_end&&void 0!==n.deep_end&&""!==n.deep_end&&0!==n.deep_end&&i.a.createElement("div",{className:a.poolInfoPara},"Depth of Pool",i.a.createElement("p",null,n.shallow_end||0," - ",n.deep_end||0," ",le?"ft":"m")),i.a.createElement("div",null,i.a.createElement("p",{className:"".concat(a.breakWord," gray"),dangerouslySetInnerHTML:{__html:n.description}})),i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/restroom_blue.png"),style:{margin:"0 5px -5px 0"},width:20,height:22,alt:""}),"Restroom"),i.a.createElement("p",{className:a.breakWord,dangerouslySetInnerHTML:{__html:n.restroom_description||"Rest room subject to availability, please contact me through "+(me?"Shvimply":"Swimply")+" chat"},style:{color:"#7b858b"}}))),i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.guests},i.a.createElement(Oe.a,{variant:"h4"},"Guests"),n&&n.default_instant_booking&&i.a.createElement("div",{className:"instant"},i.a.createElement("p",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/time.png"),width:19,height:19,alt:""}),"This pool is pre approved for all reservations with up to ",n.instant_group_size," guests")),i.a.createElement("div",{className:"info-list"},i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/guests.png"),width:21,height:16,alt:""}),"Maximum guests",i.a.createElement("span",{className:"bold"},n.max_guests||"N/A")),n.price_per_guest_enabled&&i.a.createElement("span",{className:"wider"},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/icons/additional_guest.png"),style:{marginRight:0},width:25,height:15,alt:""}),i.a.createElement("span",{className:"bold"},"$",n.price_per_guest||"0"),"per guest per hour after ",n.price_per_guest_min_capacity||"10"," guests"),i.a.createElement("span",null,i.a.createElement("img",{src:!0===n.guests_children_allowed?"".concat(window.location.origin,"/img/icons/allowed.png"):"".concat(window.location.origin,"/img/icons/not_allowed.png"),width:17,height:17,alt:""}),!0===n.guests_children_allowed?"Children allowed":"Children not allowed"),i.a.createElement("span",{className:"wider"},i.a.createElement("img",{src:!0===n.guests_infants_allowed?"".concat(window.location.origin,"/img/icons/allowed.png"):"".concat(window.location.origin,"/img/icons/not_allowed.png"),width:17,height:17,alt:""}),!0===n.guests_infants_allowed?"Infants allowed":"Infants not allowed"))),c&&c.length>0&&i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.amenities},i.a.createElement(Oe.a,{variant:"h4"},"Amenities"),i.a.createElement("div",{className:"amenities-list"},c&&c.map(function(t,a){return i.a.createElement("div",{key:a},e.handleAmenityIcon(t),t.name)})))),c&&c.length>0&&i.a.createElement("div",{className:a.additionalAmenities},i.a.createElement("div",{className:a.divider}),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"Amenities ",i.a.createElement("span",null,"+")),i.a.createElement("p",{className:a.breakWord,dangerouslySetInnerHTML:{__html:n.additional_amenities||"N/A"}}))),m&&m.length>0&&i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.rules},i.a.createElement(Oe.a,{variant:"h4"},"Host Rules"),m&&m.length>0&&i.a.createElement("div",{className:"rules-list"},m&&m.map(function(e,t){return i.a.createElement("div",{key:t},Object.keys(fo).includes(e.name)?i.a.createElement("div",{className:a.rulesItem},i.a.createElement("img",{src:window.location.origin+"/img/icons/"+e.name.toLowerCase().split(" ").join("-")+".svg",alt:""})):i.a.createElement("div",{className:a.rulesItem},i.a.createElement("i",{className:e.icon})),e.name)})))),""!==n.additional_rules&&null!==n.additional_rules&&i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.additionalRules},i.a.createElement(Oe.a,{variant:"h4"},i.a.createElement("img",{src:window.location.origin+"/img/icons/additional_rules.png",alt:""}),"Additional rules"),i.a.createElement("p",{className:a.breakWord,dangerouslySetInnerHTML:{__html:n.additional_rules}}))),n.privacy_policy?i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.privacy},i.a.createElement(Oe.a,{variant:"h4"},"Privacy"),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:n.privacy_policy.description}}))):"",i.a.createElement("div",{className:a.contactHostInfo},i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:"row",style:{maxWidth:"100%",alignItems:"center"}},i.a.createElement("div",{className:"row",style:{alignItems:"center"}},i.a.createElement(io,{className:a.profileIcon,src:n.createdBy&&n.createdBy.img_url?n.createdBy.img_url:window.location.origin+"/img/icons/large-duck-logo.png",alt:"Avatar",user:n&&n.createdBy}),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,"Hosted by",i.a.createElement("span",{style:{textTransform:"capitalize"},className:"bold"},n.createdBy&&n.createdBy.firstname?n.createdBy.firstname:"N/A")))),!u&&i.a.createElement("div",{className:a.contactHost},i.a.createElement("p",{onClick:this.redirectToConversions.bind(this)},"Contact host"))),i.a.createElement("div",{className:"advise"},i.a.createElement("span",{className:"title"},i.a.createElement("img",{alt:"",src:"".concat(window.location.origin,"/img/icons/light_bulb.png")}),"Always communicate through ",me?"Shvimply":"Swimply"),i.a.createElement("p",null,"To protect your payment, never transfer money or communicate outside ",me?"Shvimply":"Swimply"," website or app"))),null!==n.rating&&""!==n.rating&&0!==n.rating?i.a.createElement("div",null,i.a.createElement("div",{className:a.divider}),i.a.createElement("div",{className:a.reviewsSection},i.a.createElement(Oe.a,{variant:"h4"}," Reviews ",i.a.createElement("span",null," (",n.reviews&&n.reviews.length,")")),i.a.createElement(Ji,{poolDetails:n}))):i.a.createElement("br",null)),this.props.paymentForm&&Object.keys(n).length?i.a.createElement("div",{ref:function(t){return e.paymentForm=t},className:"".concat(a.formContainer," ").concat(a.mobileHide," ").concat(this.state.paymentFormIsFixed?"fixed":"")},i.a.createElement("div",{ref:function(t){return e.scrollContainer=t},className:"scroll-container"},i.a.createElement("div",{className:"inner-container"},i.a.createElement($i,{poolDetails:n,hourlyPrice:o,serviceCharge:r,referalDiscount:s,poolId:n.id,handleRequestReservation:l})))):null))}}]),a}(i.a.Component);var bo=C()(Object(T.withStyles)(function(e){return{poolInfoInner:{"& img":{"@media (max-width:850px)":{width:"100%"}},"& div > div > div:before":{display:"none"}},poolInfoInnerImg:{maxHeight:"510px",overflow:"hidden"},pageContent:{display:"flex",flexDirection:"row",marginTop:40},contentContainer:{width:"58%","& h2":{fontSize:27},"& p":{color:e.palette.common.black,"&.gray":{color:e.palette.common.darkgray}},"& span":{color:e.palette.common.black},"& .row":{display:"flex",flexDirection:"row",justifyContent:"space-between",maxWidth:300},"& .column":{display:"flex",flexDirection:"column"},"& .hosted-by-container":{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"15px 0",padding:"20px 10px 20px 0",borderTop:"1px solid #f2f2f2",borderBottom:"1px solid #f2f2f2",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{opacity:"0.8"}},"& .left":{alignItems:"center",justifyContent:"flex-start","&.host":{color:e.palette.common.black,fontSize:16}},"& .bold":{margin:"0 5px",fontWeight:600},"& h4":{fontSize:13,fontWeight:600,textTransform:"uppercase"},"& .heading":{display:"flex",justifyContent:"space-between"},"@media (max-width: 1100px)":{width:"55%"},"@media (max-width: 680px)":{width:"90%"},"@media (max-width: 500px)":{width:"100%"}},formContainer:{width:"42%",paddingLeft:"25px",boxSizing:"border-box","@media (max-width: 1100px)":{width:"45%",paddingLeft:"15px"},"@media (min-width: 850px)":{overflowX:"hidden","&.fixed":{position:"fixed",top:"0",height:"100vh",marginBottom:"50px","& .scroll-container":{width:"calc(100% + 10px)",height:"100vh",paddingRight:"30px",overflowY:"scroll"},"& .inner-container":{margin:"75px 12px 20px 0"}}}},poolInfoPara:{display:"inline-block",paddingRight:"45px",textTransform:"uppercase",fontSize:14,fontWeight:300,"& p":{textTransform:"none",color:e.palette.common.black,fontSize:"16px",fontWeight:"500",margin:"0 0 10px"}},divider:{borderTop:"1px solid #f2f2f2",margin:"25px 0"},amenities:{"& .amenities-list":{display:"flex",flexWrap:"wrap","@media (max-width: 375px)":{justifyContent:"space-between"},"& div":{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:115,textAlign:"center","@media (max-width: 375px)":{width:96},"& i, img":{padding:15,display:"flex",alignItems:"center",border:"1px solid #22bfea",borderRadius:"50%",color:"#22bfea",height:30,width:30,fontSize:23,justifyContent:"center",margin:"20px 0 7px"}}}},additionalAmenities:{"& span":{fontSize:16,fontWeight:600,color:"#22bfea",margin:"0 5px"},"& p":{color:e.palette.common.darkgray}},guests:{"& ul":{paddingLeft:"0",columns:"1",listStyle:"none",webkitColumns:"2",mozColumns:"2","& li":{padding:"5px","& span":{color:e.palette.common.black,fontWeight:"500",display:"inline-block",minWidth:"60px"}}},"& .instant":{border:"2px solid #00c8f0",display:"inline-block",margin:"20px 0 10px","& p":{color:e.palette.common.black,margin:"14px",display:"flex",fontSize:15},"& img":{marginRight:10}},"& .info-list":{display:"flex",flexWrap:"wrap",justifyContent:"space-between",maxWidth:500,"& > span":{color:e.palette.common.darkgray,display:"inline-flex",margin:"10px 0",width:180},"& img":{marginRight:5},"& .wider":{width:300}}},privacy:{"& h4":{marginBottom:"15px"},"& p":{marginTop:"0",marginBottom:"0",color:e.palette.common.darkgray,fontSize:14}},contactHostInfo:{"& .advise":{padding:"5px 10px",border:"2px solid #00c8f0",display:"inline-block",margin:"30px 0 0","& .title":{color:e.palette.common.black,margin:"14px",display:"flex",fontSize:15,fontWeight:500},"& p":{color:e.palette.common.darkgray,margin:"5px 14px 14px",display:"flex",fontSize:15},"& img":{width:16,height:21,margin:"0 10px -5px 0"}}},profileIcon:{borderRadius:"50%",width:55,height:55},locationMap:{"& h4":{marginBottom:"10px"}},reviewsSection:{"& h4":{"& span":{letterSpacing:2,fontWeight:400},"& img":{verticalAlign:"middle",paddingLeft:"15px"},"& div":{paddingLeft:"10px"}}},coverImage:{width:"100%",display:"block"},rules:{"& .rules-list":{display:"flex",flexWrap:"wrap","@media (max-width: 375px)":{justifyContent:"space-between"},"& > div":{display:"flex",marginTop:20,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:115,textAlign:"center","@media (max-width: 375px)":{width:96},"& img":{height:30,width:30},"& i":{height:30,width:30,color:"#fc5622",fontSize:25}}}},rulesItem:{padding:15,border:"1px solid #fc5622",borderRadius:"50%",marginBottom:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},additionalRules:{"& p":{fontSize:"14px",marginTop:"5px",color:e.palette.common.darkgray,overflowWrap:"break-word"},"& img":{margin:"0 5px -5px 0",width:20,height:20}},contactHost:{"& p":{color:"#22bfea",cursor:"pointer",fontSize:"15px",fontWeight:600,textTransform:"none",display:"inline-block",margin:"0px"}},breakWord:{overflowWrap:"break-word"},rightBlueArrow:{fontSize:"26px",color:e.palette.common.blue},mobileHide:{"@media (max-width: 850px)":{display:"none"}}}}),je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(ko,Object.assign({},t,e))});function yo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var xo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},No={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serviceCharge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76,source:{body:"query{\n    serviceCharge{\n        id\n        name\n        percentage\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},So=function(e){Object(h.a)(a,e);var t=yo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={poolDetails:[],booking:[],hourlyPrice:0,serviceCharge:0,referalDiscount:0,poolId:"",loading:!0},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;ie.removePaymentFromId(),window.scrollTo(0,0);var t=this.props.history,a=ie.getPoolId();if(a=parseInt(this.props.match.params.id),isNaN(a))t.push("/");else{this.setState({loading:!0,poolId:a}),this.props.client.query({query:xo,variables:{id:a},fetchPolicy:"network-only"}).then(function(n){null===n.data.pool?(ie.removePoolId(a),t.push("/")):(ie.setPoolId(a),1!==n.data.pool.status&&5!==n.data.pool.status&&t.push("/"),e.setState({poolDetails:n.data.pool,hourlyPrice:n.data.pool.hourly_price}))}).catch(function(e){});var n={id:parseInt(a),percentage:this.state.hourlyPrice};this.props.client.query({query:No,variables:n,fetchPolicy:"network-only"}).then(function(t){var n=t.data.serviceCharge.findIndex(function(e){return"service_fee"===e.name}),i=t.data.serviceCharge.findIndex(function(e){return"referral_credit"===e.name});e.setState({serviceCharge:t.data.serviceCharge[n].percentage,referalDiscount:t.data.serviceCharge[i].percentage,poolId:a,loading:!1})}).catch(function(t){e.setState({loading:!1})})}}},{key:"handleRequestReservation",value:function(e){this.props.history.push("/reservation-success")}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.poolDetails,o=t.hourlyPrice,r=t.serviceCharge,s=t.poolId,l=t.referalDiscount;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.paymentContainer},i.a.createElement("div",{className:e.mobileShow},i.a.createElement(ze.a,{to:"/pooldetails/"+s},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),i.a.createElement(Oe.a,{variant:"h2"},"Request a reservation")),i.a.createElement("div",{className:e.mobileHide},i.a.createElement(bo,{paymentForm:void 0!==n.id,poolDetails:n,from:"payment",hourlyPrice:o,serviceCharge:r,referalDiscount:l,poolId:s,handleRequestReservation:this.handleRequestReservation.bind(this)})),void 0!==n.id&&""!==n?i.a.createElement("div",{className:e.mobileShow},i.a.createElement($i,{poolDetails:n,hourlyPrice:o,serviceCharge:r,referalDiscount:l,poolId:s,handleRequestReservation:this.handleRequestReservation.bind(this)})):"")))}}]),a}(i.a.Component),wo=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"25px",boxSizing:"border-box","& font":{color:"#16c0ea",cursor:"pointer",marginBottom:"5px",display:"inline-block","&:hover":{color:e.palette.common.black},"@media (max-width:850px)":{width:"45px",height:"45px",fontSize:"30px",overflow:"hidden",paddingLeft:"15px",color:"#232323"}}},poolDetailsContainer:{},paymentContainer:{"& h2":{display:"block",fontSize:"33px",fontWeight:600,marginBottom:"20px","@media (max-width:850px)":{marginBottom:"0",paddingLeft:"15px"}},"& h3":{fontSize:"20px",marginBottom:"5px"},"& h4":{fontSize:"14px",marginBottom:"10px"},"& font":{color:"#16c0ea",cursor:"pointer",marginBottom:"5px",display:"inline-block","&:hover":{color:e.palette.common.black},"@media (max-width:850px)":{width:"45px",height:"45px",fontSize:"30px",overflow:"hidden",paddingLeft:"15px",color:"#232323"}},"@media (max-width:850px)":{position:"fixed",background:"#fff",zIndex:"99",left:"0",right:"0",top:"0",margin:"auto",width:"calc(100% - 0px)",height:"100%",overflow:"auto"}},mobileHide:{display:"block","@media (max-width:850px)":{display:"none"}},mobileShow:{display:"none","@media (max-width:850px)":{display:"block"}}}}),je.a,b.b)(So),_o=a(77),Eo=a.n(_o),Fo=function(e){return{placeholderContainer:{maxWidth:"1170px",padding:"0 20px",margin:"0 auto","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width: 1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},link:{marginLeft:"5px",color:e.palette.common.blue,cursor:"pointer"},logout:{float:"right",marginLeft:"15px","@media (max-width: 500px)":{display:"block",float:"initial",margin:"0 0 10px 0"}}}};var Co=C()(Object(T.withStyles)(Fo,{withTheme:!0}),je.a)(function(e){var t=e.poolCountryCode,a=e.history,n=e.classes,o=e.withLogout,r=e.user,s=e.currentPoolId,l=Lt.find(function(e){return t.toLowerCase()===e.code}),d=l?l.displayName:"Australian";return i.a.createElement(Da.j,{variant:"body1",component:"div",style:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:8,paddingTop:"15%"}},i.a.createElement("div",{className:n.placeholderContainer},i.a.createElement("p",null,o&&i.a.createElement("span",{className:"".concat(n.link," ").concat(n.logout),onClick:function(){ie.logout(),a.push("/")}},"LOG OUT"),"You are an ",d," ",r,", do you want to",i.a.createElement(Ya,null,i.a.createElement("span",{className:n.link,onClick:function(){"Australian"===d?a.replace("/au/search"):a.replace("/search"),a.push("/pooldetails/".concat(s))}},"switch to the ",d," website?")))))});function To(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Po={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Io={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"countryCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pool_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pool_id"},value:{kind:"Variable",name:{kind:"Name",value:"pool_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:124,source:{body:"query countryCode($pool_id: Int) {\n  countryCode(pool_id: $pool_id){\n    id\n    country_code\n    country_code_swimmer\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Do={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serviceCharge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76,source:{body:"query{\n    serviceCharge{\n        id\n        name\n        percentage\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Oo=function(e){Object(h.a)(a,e);var t=To(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleServiceCharge=Object(m.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.client.query({query:Do,variables:{id:parseInt(n.state.poolDetails.id),percentage:n.state.hourlyPrice},fetchPolicy:"network-only"});case 3:t=e.sent,a=t.data.serviceCharge,n.setState({serviceCharge:a.find(function(e){return"service_fee"===e.name}).percentage,referralDiscount:a.find(function(e){return"referral_credit"===e.name}).percentage}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({loading:!1});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),n.handleRequestReservation=function(){n.props.history.push("/reservation-success")},n.state={poolDetails:{},loading:!1,hourlyPrice:0,serviceCharge:0,referralDiscount:0,selecetedDate:new Date,instantBook:!1,accessToken:"",isFixed:!1,showSwimmerPlaceholder:!1,currentPoolId:"",poolCountryCode:"US",userRole:""},n.handleRequestBooking=n.handleRequestBooking.bind(Object(g.a)(n)),n.fixedSiderBar=n.fixedSiderBar.bind(Object(g.a)(n)),n.checkSwitchNeeded=n.checkSwitchNeeded.bind(Object(g.a)(n)),n.removeOnMouseLeave=n.removeOnMouseLeave.bind(Object(g.a)(n)),n.showEmailCapturePopup=n.showEmailCapturePopup.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"fixedSiderBar",value:function(){window.scrollY;window.scrollY>140?this.setState({isFixed:!0}):this.setState({isFixed:!1})}},{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("mouseleave",this.removeOnMouseLeave),setTimeout(function(){e.showEmailCapturePopup()},1e4);var t=this.props.match.params.id,a={timestamp:(new Date).toISOString(),event_type:"visit-pool-page",poolId:t,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};this.checkSwitchNeeded(t),Ci(this.props.client,a),ie.removePaymentReason();var n=this.props.history;window.scrollTo(0,0),window.addEventListener("scroll",this.fixedSiderBar,!1);var i=ie.getAvailableDate(),o=ie.getInstantBooking(),r=ie.getStartTime(),s=ie.getEndTime(),l=ie.getAccessToken(),d=parseInt(t);isNaN(d)?n.push("/"):(ie.setPoolId(d),this.setState({loading:!0,accessToken:l}),this.props.client.query({query:Po,variables:{id:d},fetchPolicy:"network-only"}).then(function(t){if(null!==t.data.pool){1!==t.data.pool.status&&5!==t.data.pool.status&&n.push("/");var a=ie.getUserRole()||"Swimmer",l=Object(u.a)({},t.data.pool);l.isFavorite=e.props.user&&e.props.user.favorites.indexOf(+l.id)>=0,e.setState({poolDetails:l,hourlyPrice:t.data.pool.hourly_price,loading:!1,selecetedDate:i,instantBook:o,startTime:r,endTime:s,userRole:a},function(){e.handleServiceCharge()})}else n.push("/")}).catch(function(t){e.setState({loading:!1})}))}},{key:"showEmailCapturePopup",value:function(){ie.getAccessToken()||localStorage.getItem("popupShowed")||(this.context.showPopupCallback(),document.body.removeEventListener("mouseleave",this.removeOnMouseLeave))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.fixedSiderBar,!1),document.body.removeEventListener("mouseleave",this.removeOnMouseLeave),this.showEmailCapturePopup()}},{key:"removeOnMouseLeave",value:function(){this.showEmailCapturePopup()}},{key:"checkSwitchNeeded",value:function(e){var t=this;this.props.client.query({query:Io,variables:{pool_id:e}}).then(function(a){var n=a.data.countryCode.country_code||"";Mt.test(n)===le||t.setState({showSwimmerPlaceholder:!0,currentPoolId:e,poolCountryCode:n})}).catch(function(e){console.error(e)})}},{key:"redirectToBack",value:function(){var e=this.props.history,t=ie.getBackBtnLink(),a="";"messages"===t?(a="/conversations",ie.setBackBtnLink("pool-details")):a="reservation"===t?"Host"===ie.getUserRole()?"/host-reservation":"/my-reservation":"home"===t?"/":"au/search"===t?"/au/search":"/search",e.push(a)}},{key:"handleRequestBooking",value:function(e){var t=this.props.history,a=this.state.poolDetails,n=ie.getAvailableDate();n=null!==n&&void 0!==n?gt()(n).format("YYYY-MM-DD"):"",l.a.dataLayer({dataLayer:{poolID:a.id,date:n,address:"long_name"!==a.street_number?a.street_number:"",city:a.city,state:a.state,zipcode:a.zip_code,hourlyPrice:a.hourly_price,amenities:a.amenities,rules:a.rules,basic:{size:a.shallow_end,depth:a.deep_end,privacy:a.privacy_policy}},events:{poolPageView:"poolPageView"}}),t.push("/payment/"+e)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.poolDetails,o=a.loading,r=a.hourlyPrice,s=a.startTime,l=a.endTime,d=a.referralDiscount,c=a.serviceCharge,m="";return m=n.default_instant_booking?"Book Now":""!==s&&""!==l?"pool_availability":"Check Availability",this.state.showSwimmerPlaceholder?i.a.createElement(Co,{poolCountryCode:this.state.poolCountryCode,currentPoolId:this.state.currentPoolId,user:"swimmer"}):i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",null,i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.poolDetailsMainNew},i.a.createElement(bo,{poolDetails:n,handleRequestBooking:this.handleRequestBooking,handleRequestReservation:this.handleRequestReservation,status:m,userRole:this.state.userRole,paymentForm:!0,hourlyPrice:r,referalDiscount:d,serviceCharge:c})),i.a.createElement("div",{className:t.rightPoolDetails},i.a.createElement("font",null,i.a.createElement("span",null,"$",r," "),"per hour",i.a.createElement(Oe.a,{component:"div"},null!==n.rating&&""!==n.rating&&0!==n.rating?i.a.createElement(Eo.a,{rating:null===n.rating||""===n.rating?0:n.rating,changeRating:this.changeRating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"18px",starSpacing:"1px"}):"")),i.a.createElement("div",{className:t.dropDownSelectBlue},"pool_availability"===m&&void 0!==n.id?i.a.createElement(Ei,{from:"pool_details",poolDetails:n,isDefaultInstantBooking:n.default_instant_booking,handleRequestBooking:this.handleRequestBooking}):i.a.createElement(Oe.a,{variant:"button",onClick:function(){return e.handleRequestBooking(n.id)}},"pool_availability"===m?"Request to Book":m))))))}}]),a}(i.a.Component);Oo.contextType=ua;var Ro=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 25px",boxSizing:"border-box","@media (max-width:400px)":{padding:"0 15px"}},perHour:{float:"right",padding:"0px","& span":{fontWeight:"500",fontSize:"20px",color:e.palette.common.black,verticalAlign:"middle",paddingRight:"10px"},"& p":{marginTop:"0"},"& img":{paddingTop:"7px"},"@media (max-width:850px)":{width:"100%","& p":{marginBottom:"0"}}},rightPoolDetails:{display:"none",fontSize:"20px",lineHeight:"35px",paddingLeft:"15px","@media(max-width:850px)":{display:"block"},"& font":{"& span":{color:"#232323",fontSize:"30px",fontWeight:"500",paddingRight:"15px",verticalAlign:"middle"},"@media(max-width:850px)":{fontSize:"14px","& span":{color:" #232323",fontSize:"20px",fontWeight:"500",paddingRight:"6px",verticalAlign:"middle"}}},"& p":{marginTop:"0px",marginBottom:"15px"},"& p:last-child":{fontSize:"14px",textTransform:"uppercase",color:e.palette.common.blue,cursor:"pointer"},"& > span":{fontSize:"30px",fontWeight:"500",paddingRight:"15px",color:e.palette.common.black,verticalAlign:"middle"},"& > div span":{width:"auto",display:"inline-block",padding:"8px 25px",marginBottom:"10px",borderRadius:"5px",textTransform:"inherit"},loderdiv:{width:"100%",height:"100%",position:"fixed",background:"#fbfbfb",zIndex:"99",top:"0",display:"flex",alignItems:"center","& div":{margin:"0 auto"}},"@media (max-width:850px)":{width:"100%",bottom:0,zIndex:999,position:"fixed",overflow:"hidden",boxShadow:"0 0 5px #ccc",background:"#fff",padding:"15px 15px 35px",boxSizing:"border-box",left:0,"& > div span":{position:"absolute",top:"20px",right:"26px"},"& p":{marginBottom:"0"}}},poolDetailsMainNew:{padding:"40px 0 120px"},additionalFees:{fontSize:"14px","& p":{marginBottom:"8px"},"& p:last-child":{color:"inherit",fontSize:"14px",textTransform:"none",cursor:"auto"}},additionalFeesPrice:{fontSize:"14px !important",paddingRight:"6px !important"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(zi).region,a=Object(n.useContext)(Jt);return i.a.createElement(Oo,Object.assign({region:t},a,e))}),Ao=a(213),Bo=a.n(Ao),Mo=a(104),jo=a.n(Mo);a(396);function Lo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Wo=function(e){Object(h.a)(a,e);var t=Lo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={adultCount:1,childrenCount:0,infantCount:0,startPrice:15,endPrice:200,budget:{low:15,high:200},filterAmenities:[],selectedAmenities:[],checkedInstantBooking:!1},n.increaseAdultCount=n.increaseAdultCount.bind(Object(g.a)(n)),n.decreaseAdultCount=n.decreaseAdultCount.bind(Object(g.a)(n)),n.increaseChildCount=n.increaseChildCount.bind(Object(g.a)(n)),n.descreseChildCount=n.descreseChildCount.bind(Object(g.a)(n)),n.increaseInfantCount=n.increaseInfantCount.bind(Object(g.a)(n)),n.decreaseInfantCount=n.decreaseInfantCount.bind(Object(g.a)(n)),n.handleFiltersApply=n.handleFiltersApply.bind(Object(g.a)(n)),n.handleAmenities=n.handleAmenities.bind(Object(g.a)(n)),n.handleBudget=n.handleBudget.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=[],t=/\r?\n|\r/g;e=this.context.allAmenities.filter(function(e){return e.name.replace(t,""),It.includes(e.name.toLowerCase())});var a=[];["Diving Board","Heated Pool","Restroom","BBQ Grill","Pet Friendly","Hot Tub"].map(function(t){e.map(function(e){t===e.name&&(a=[].concat(Object(pt.a)(a),[e]))})}),a.splice(2,0,{id:"restroom",name:"Restroom"}),this.setState({filterAmenities:a,selectedAmenities:this.props.selectedAmenities})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.searchFields,a=e.adultCountNew,n=e.childrenCountNew,i=e.infantCountNew,o=e.budget,r=e.selectedAmenities;void 0!==t&&this.setState({adultCount:t.adultCount?parseInt(t.adultCount):a,childrenCount:t.childrenCount?parseInt(t.childrenCount):n,infantCount:t.infantCount?parseInt(t.infantCount):i,budget:t.budget?t.budget:o,startPrice:t.budget&&t.budget.low?t.budget.low:o.low,endPrice:t.budget&&t.budget.high?t.budget.high:o.high,checkedInstantBooking:!0===t.checkedInstantBooking||"true"===t.checkedInstantBooking,selectedAmenities:t.amenities&&t.amenities.length?t.amenities:r||[]})}},{key:"handleBudget",value:function(e){this.setState({startPrice:e.min,endPrice:e.max,budget:{low:e.min,high:e.max}})}},{key:"handleInstantBooking",value:function(e){this.setState({checkedInstantBooking:e.target.checked}),ie.setInstantBooking(e.target.checked)}},{key:"increaseAdultCount",value:function(){var e=this.state.adultCount;this.setState({adultCount:parseInt(e)+parseInt(1)})}},{key:"decreaseAdultCount",value:function(){var e=this.state.adultCount;e>0&&this.setState({adultCount:e-1})}},{key:"increaseChildCount",value:function(){var e=this.state.childrenCount;this.setState({childrenCount:parseInt(e)+parseInt(1)})}},{key:"descreseChildCount",value:function(){var e=this.state.childrenCount;e>0&&this.setState({childrenCount:e-1})}},{key:"increaseInfantCount",value:function(){var e=this.state.infantCount;this.setState({infantCount:parseInt(e)+parseInt(1)})}},{key:"decreaseInfantCount",value:function(){var e=this.state.infantCount;e>0&&this.setState({infantCount:e-1})}},{key:"handleFiltersApply",value:function(){var e=this.state,t={adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount,startPrice:e.startPrice,endPrice:e.endPrice,budget:e.budget,selectedAmenities:e.selectedAmenities,checkedInstantBooking:e.checkedInstantBooking};this.props.handleFiltersApply(t)}},{key:"handleAmenities",value:function(e){var t=[];t=this.state.selectedAmenities.includes(e)?this.state.selectedAmenities.filter(function(t){return t!==e}):[].concat(Object(pt.a)(this.state.selectedAmenities),[e]),this.setState({selectedAmenities:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.updateBtn,o=this.state,r=o.adultCount,s=o.childrenCount,l=o.infantCount,d=o.filterAmenities,c=o.selectedAmenities,m=o.checkedInstantBooking,u=o.budget,p=o.startPrice,v=o.endPrice,g=window.location.origin+"/img/filterIcons/Check-Checked.png",h={DivingBoard:window.location.origin+"/img/filterIcons/diving-board.png",HeatedPool:window.location.origin+"/img/filterIcons/heated-pool.png",Restroom:window.location.origin+"/img/filterIcons/restroom.png",BBQGrill:window.location.origin+"/img/filterIcons/bbq-grill.png",PetFriendly:window.location.origin+"/img/filterIcons/pet-friendly.png",HotTub:window.location.origin+"/img/filterIcons/hot-tub.png"};return i.a.createElement("div",{className:a.gueastDropdown},i.a.createElement("h3",{className:a.title},"Filters"),i.a.createElement("span",{className:a.filterTitle},"Budget"),i.a.createElement("div",{className:a.timerSet},i.a.createElement("div",{className:a.displayPriceRange},i.a.createElement("div",null,i.a.createElement("div",{className:a.displayColor},"$",p)),i.a.createElement("div",null,i.a.createElement("div",{className:a.displayColor},"$",v))),i.a.createElement("div",{className:"range-container"},i.a.createElement(jo.a,{maxValue:200,minValue:15,value:{min:u.low,max:u.high},formatLabel:function(e){return""},step:5,onChange:this.handleBudget}))),i.a.createElement("span",{className:a.filterTitle},"Amenities"),i.a.createElement("div",{className:a.amenitiesContainer},d.map(function(t,n){var o=t.name.replace(" ","");return i.a.createElement("div",{className:a.filterAmenitiesItem+" "+a[o],key:t.name+n,onClick:e.handleAmenities.bind(null,t.id)},i.a.createElement("img",{alt:"",src:h[o],style:{width:25,height:25,marginBottom:5}}),i.a.createElement("span",{style:{fontSize:13}},t.name),c.includes(t.id)?i.a.createElement("img",{alt:"",src:g,style:{width:15,height:15,position:"absolute",top:8,right:8}}):null)})),i.a.createElement("span",{className:a.filterTitle},"Guests"),i.a.createElement("div",{className:a.gueastDropdownMain},i.a.createElement("div",{className:a.counter},i.a.createElement(Ae.a,{onClick:this.increaseAdultCount},"+"),i.a.createElement("p",null,r),i.a.createElement(Ae.a,{onClick:this.decreaseAdultCount},"-"),i.a.createElement("div",{className:a.labelName},"Adults ",i.a.createElement("br",null),i.a.createElement("small",null,"\xa0"))),i.a.createElement("div",{className:a.counter},i.a.createElement(Ae.a,{onClick:this.increaseChildCount},"+"),i.a.createElement("p",null," ",s," "),i.a.createElement(Ae.a,{onClick:this.descreseChildCount},"-"),i.a.createElement("div",{className:a.labelName},"Children ",i.a.createElement("br",null),i.a.createElement("small",null,"(Ages 2-12)"))),i.a.createElement("div",{className:a.counter},i.a.createElement(Ae.a,{onClick:this.increaseInfantCount},"+"),i.a.createElement("p",null,"  ",l),i.a.createElement(Ae.a,{onClick:this.decreaseInfantCount},"-"),i.a.createElement("div",{className:a.labelName},"Infants ",i.a.createElement("br",null),i.a.createElement("small",null,"(Under 2)")))),i.a.createElement("div",{className:a.CheckboxBottm},i.a.createElement(ot.a,{className:a.labelInstantBook,control:i.a.createElement(nt.a,{checked:m,onChange:this.handleInstantBooking.bind(this),disableRipple:!0,value:"instabooking",classes:{root:a.checkBox,checked:a.checked}}),label:"Instant Booking"}),i.a.createElement("img",{src:window.location.origin+"/img/time.png",alt:""})),i.a.createElement("div",{className:a.buttonGuest},i.a.createElement(Ae.a,{className:a.cancelBtn,onClick:this.props.handleFiltersCancel},"Cancel"),i.a.createElement(Ae.a,{onClick:this.handleFiltersApply},!0===n?"Update":"Apply")))}}]),a}(i.a.Component);Wo.contextType=ua;var zo=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px"},gueastDropdown:{background:e.palette.common.white,boxShadow:e.shape.boxShadowGray,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px 15px",position:"absolute",zIndex:"8",marginTop:"5px","@media (max-width: 880px)":{marginLeft:"-40px"},"@media (max-width: 767px)":{marginLeft:0,right:0},"@media (max-width: 340px)":{right:-5}},gueastDropdownMain:{display:"flex",textAlign:"center",marginBottom:"25px",alignItems:"flex-start",justifyContent:"stretch",width:"100%"},displayPriceRange:{display:"flex",width:"110%",marginLeft:"-5%",justifyContent:"space-between",margin:"8px 0","& div":{textAlign:"center","& div ":{width:"100%",color:e.palette.common.black,fontSize:"16px",fontWeight:"500"}}},displayColor:{background:"transparent !important"},title:{fontSize:17,color:"black",fontWeight:500,alignSelf:"center",margin:"10px 0 0",fontFamily:'"Poppins", sans-serif'},filterTitle:{fontSize:15,color:"black",alignSelf:"flex-start",margin:"20px 0 10px"},amenitiesContainer:{display:"flex",alignSelf:"center",flexDirection:"row",alignItems:"center",overflow:"hidden",flexWrap:"wrap",justifyContent:"center",alignContent:"center",border:"0.2px solid #e8e8e8",boxSizing:"border-box"},filterAmenitiesItem:{cursor:"pointer",display:"flex",flexDirection:"column",position:"relative",flex:"auto",width:"32%",alignItems:"center",justifyContent:"center",border:"0.2px solid #e8e8e8",padding:"15px 0"},timerSet:{width:"84%",maxWidth:"268px",left:"0",right:"0","& > .range-container > div > div  > div":{background:"#00a6e2"},"& > div > div > div > span > div":{background:e.palette.common.white,borderColor:e.palette.common.white,boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"}},counter:{width:"100%",position:"relative","& Button":{width:"25px",minWidth:"25px",height:"25px",borderRadius:"50%",padding:0,marginRight:0,boxShadow:"none",border:"0.2px solid #e8e8e8",cursor:"pointer",color:"#00a6e2",backgroundColor:"white",background:"white","& span":{textAlign:"center",fontSize:18,color:"#00a6e2",lineHeight:0,marginRight:-2}},"& p":{maxWidth:"40px",padding:"5px",margin:"10px auto 6px",color:e.palette.common.black,fontWeight:"400"}},labelName:{position:"relative",marginTop:"10px",fontSize:"12px",fontWeight:"400",letterSpacing:"0.3px","& small":{fontSize:"11px"}},CheckboxBottm:{alignSelf:"flex-start",position:"relative",margin:"0 0 25px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},labelInstantBook:{"& span + span":{paddingLeft:"20px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},buttonGuest:{float:"right",marginTop:"-10px",marginBottom:"10px",display:"flex",justifyContent:"space-evenly","& Button":{padding:"3px 15px",marginLeft:"5px",height:"30px",display:"inline-block","& span":{minWidth:"60px",position:"relative",left:"inherit",top:"inherit",height:"inherit",marginLeft:"0px",padding:"0px 0px"}},"& div":{display:"flex"}},cancelBtn:{background:"transparent","& span":{color:"#00afe3"},"&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)","& span":{color:e.palette.common.white}}}}}),je.a)(function(e){var t=Object(n.useContext)(zi).region;return i.a.createElement(Wo,Object.assign({region:t},e))});function Uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ho=function(e){Object(h.a)(a,e);var t=Uo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={timerRange:{min:16,max:20},checkedFlexibleTime:!0,startTime:"",endTime:"",adultCount:"",childrenCount:"",infantCount:""},n.handleFlexibleTime=n.handleFlexibleTime.bind(Object(g.a)(n)),n.handleTimerRange=n.handleTimerRange.bind(Object(g.a)(n)),n.handleTimerApply=n.handleTimerApply.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.searchFields,t=this.state.timerRange;if(void 0!==e){var a=!0===e.checkedFlexibleTime||"true"===e.checkedFlexibleTime,n="",i=e.timerRange?e.timerRange.min:t.min,o=e.timerRange?e.timerRange.max:t.max;i<7&&(o=(i=7)+1),n=i>12?i-12+":00 PM":12===i?i+":00 PM":i+":00 AM";var r="";r=o>12?o-12+":00 PM":12===o?o+":00 PM":o+":00 AM",this.setState({timerRange:{min:i,max:o},checkedFlexibleTime:a,startTime:e.startTime||n,endTime:e.endTime||r,adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount})}}},{key:"handleTimerRange",value:function(e){var t="";t=e.min>12?e.min-12+":00 PM":12===e.min?e.min+":00 PM":0===e.min?"12:00 AM":e.min+":00 AM";var a="";a=e.max>12?"".concat(e.max-12,":00 ").concat(e.max-12===12?"AM":"PM"):12===e.max?e.max+":00 PM":e.max+":00 AM",this.setState({startTime:t}),this.setState({endTime:a}),this.setState({timerRange:e})}},{key:"handleFlexibleTime",value:function(e){this.setState({checkedFlexibleTime:e.target.checked})}},{key:"handleTimerApply",value:function(){var e=this.state,t=e.timerRange,a=e.checkedFlexibleTime,n=e.startTime,i=e.endTime,o=e.adultCount,r=e.childrenCount,s=e.infantCount,l="",d="",c={timerRange:t,checkedFlexibleTime:a,startTime:l=""===n?t.min>=12?t.min+":00 PM":t.min+":00 AM":n,endTime:d=""===i?t.max>=12?t.max+":00 PM":t.max+":00 AM":i,adultCount:o,childrenCount:r,infantCount:s};this.setState({startTime:l,endTime:d}),this.props.handleTimerApply(c)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.updateBtn,n=this.state,o=n.timerRange,r=n.checkedFlexibleTime,s=n.startTime,l=n.endTime;return i.a.createElement("div",{className:t.timerDropdown+" "+t.timerSet},i.a.createElement("div",null,i.a.createElement(jo.a,{maxValue:24,minValue:7,value:o,formatLabel:function(e){return""},step:1,onChange:this.handleTimerRange}),i.a.createElement("p",{className:t.text},"Between"),i.a.createElement("div",{className:t.displayTimerRange},i.a.createElement("div",null,i.a.createElement("div",{className:t.displayColor},s)),i.a.createElement("div",{className:t.hypenSymbol},"-"),i.a.createElement("div",null,i.a.createElement("div",{className:t.displayColor},l))),i.a.createElement("div",{className:t.checkboxBottom},i.a.createElement(ot.a,{control:i.a.createElement(nt.a,{checked:r,onChange:this.handleFlexibleTime,value:"FlexibleTime",classes:{root:t.checkBox,checked:t.checked}}),label:"I'm flexible by a couple hours!"}))),i.a.createElement("div",{className:t.buttonTimer},i.a.createElement("div",null,i.a.createElement(Ae.a,{className:t.cancelBtn,onClick:this.props.handleTimerCancel},"Cancel"),i.a.createElement(Ae.a,{onClick:this.handleTimerApply},!0===a?"Update":"Apply"))))}}]),a}(i.a.Component),Go=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px"},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},timerDropdown:{background:e.palette.common.white,boxShadow:e.shape.boxShadowGray,display:"table",width:"calc(100% - 30px)",padding:"10px 15px",position:"absolute",zIndex:"1"},timerSet:{width:"100%",maxWidth:"268px",margin:"83px auto 0",left:"0",right:"0",padding:"26px","@media (max-width:767px)":{margin:"155px auto 0"},"& > div > div > div  > div":{background:"#00a6e2"},"& > div > div > div > span > div":{background:e.palette.common.white,borderColor:e.palette.common.white,boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"}},displayTimerRange:{display:"flex",padding:"0 15px 15px","& div":{width:"50%",textAlign:"center","& div ":{width:"100%",color:e.palette.common.black,fontSize:"16px",fontWeight:"500"}}},checkboxBottom:{position:"relative",background:"#f9f9f9",padding:"2px",textAlign:"left",margin:"0 -25px",paddingLeft:"35px","& input":{position:"absolute !important"},"& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"},"& label":{fontSize:"13px","& > span":{textTransform:"none",padding:"5px 2px"}},"@media (max-width:767px)":{background:"#fff"}},buttonTimer:{float:"right",marginTop:"15px",marginRight:"-9px","& Button":{padding:"3px 15px",marginLeft:"5px",height:"30px",display:"inline-block","& span":{minWidth:"60px",position:"relative",left:"inherit",top:"inherit",height:"inherit",marginLeft:"0px",padding:"0px 0px"}},"& div":{display:"flex"}},cancelBtn:{background:e.palette.common.transparent,"& span":{color:"#00afe3"},"&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)","& span":{color:e.palette.common.white}}},displayColor:{background:"transparent !important"},hypenSymbol:{fontSize:"16px",color:"#888484",paddingTop:"11px"},text:{margin:"10px 0 0",textAlign:"center",fontSize:"14px",color:e.palette.common.darkgray}}}),je.a)(Ho);function Yo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var qo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPoolPaginatedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"datas"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"count"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchPoolPaginated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"datas"}}},{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"Variable",name:{kind:"Name",value:"count"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasMorePages"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1197,source:{body:"query searchPoolPaginatedQuery($datas:SearchInput!, $count:Int!, $page: Int){\n    searchPoolPaginated(data:$datas, count:$count, page:$page){\n        data {\n            id\n            title\n            months{\n                month_number\n                is_available\n            }\n            description\n            distance\n            rating\n            instant_booking\n            default_instant_booking\n            images {\n                url\n                cover\n            }\n            state\n            city\n            zip_code\n            hourly_price\n            bookings{\n                date\n                from\n                to\n                status\n            }\n            pool_unavailabilities{\n                date\n                time\n            }\n            unavailable_dates\n            pool_instant{\n                date\n                time\n            }\n            advance_notice\n            available_from\n            available_to\n        },\n        paginatorInfo {\n            count,\n            currentPage\n            firstItem,\n            hasMorePages,\n            lastItem,\n            lastPage\n            perPage,\n            total\n        }\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vo=function(e){Object(h.a)(a,e);var t=Yo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).returnSuffix=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0<=parseInt(e)+t&&parseInt(e)+t<12?":00 AM":24>parseInt(e)+t&&parseInt(e)+t>=12?":00 PM":36>parseInt(e)+t&&parseInt(e)+t>=24?":00 AM":-12<=parseInt(e)+t&&parseInt(e)+t<0?":00 PM":void 0},n.handleActiveFilters=function(){return n.state.checkedInstantBooking||n.state.selectedAmenities&&n.state.selectedAmenities.length||1!==n.state.adultCount||0!==n.state.childrenCount||0!==n.state.infantCount||15!==n.state.startPrice||200!==n.state.endPrice},n.state={selectedDate:new Date,availableDate:"",openGuest:!1,locationPopup:!1,timerShow:!1,calenderShow:!1,checkedInstantBooking:!1,startTime:"",endTime:"",adultCount:1,childrenCount:0,infantCount:0,currentLocation:"",address:"",latitude:"",longitude:"",timerRange:{min:2,max:10},updateBtn:!0,onFocusGoogle:!1,onFocusCalender:!1,onFocusTimer:!1,onFocusGuest:!1,showFilters:!1,selectedAmenities:[],startPrice:15,endPrice:200,budget:{low:15,high:200},searchFields:{checkedInstantBooking:!1,checkedFlexibleTime:!1,startTime:"",endTime:"",timerRange:{min:2,max:10},startPrice:15,childrenCount:0,infantCount:0,amenities:[],endPrice:200,adultCount:1,budget:{low:15,high:200},available_date:(new Date).toISOString(),anytime:!1,anyDate:!1},showSearchLocationError:!1,showFormErrorMessage:!1,page:1,limit:4,searchOptions:null,minDate:gt()().format(),maxDate:gt()().add("year",1).format()},n.handleCalenderCancel=n.handleCalenderCancel.bind(Object(g.a)(n)),n.handleTimerCancel=n.handleTimerCancel.bind(Object(g.a)(n)),n.handleFiltersCancel=n.handleFiltersCancel.bind(Object(g.a)(n)),n.handleInstantBooking=n.handleInstantBooking.bind(Object(g.a)(n)),n.modifySearchResult=n.modifySearchResult.bind(Object(g.a)(n)),n.handleSearchLocation=n.handleSearchLocation.bind(Object(g.a)(n)),n.handleClearText=n.handleClearText.bind(Object(g.a)(n)),n.onFocusGooglePlces=n.onFocusGooglePlces.bind(Object(g.a)(n)),n.onBlurFocusOut=n.onBlurFocusOut.bind(Object(g.a)(n)),n.checkDate=n.checkDate.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setSearchOptions();var e=this.props.searchFields;e.adultCount=1;var t="true"===e.checkedInstantBooking||!0===e.checkedInstantBooking,a="true"===e.checkedFlexibleTime||!0===e.checkedFlexibleTime,n=new Date(e.available_date||this.state.selectedDate);n.getDate()||(n=new Date);var i=this.checkDate(n);i&&(n=i),e=this.checkInitialTime(e);var o=n.getDate(),r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+o;this.setState({adultCount:parseInt(e.adultCount),childrenCount:parseInt(e.childrenCount),infantCount:parseInt(e.infantCount),startTime:e.startTime,endTime:e.endTime,currentLocation:e.address,checkedInstantBooking:t,checkedFlexibleTime:a,availableDate:r,selectedDate:n,amenities:e.amenities,timerRange:{min:e.timerRange.min,max:e.timerRange.max},budget:{low:e.budget.low,high:e.budget.high},searchFields:Object(u.a)({},e)})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props.searchFields;n&&Object.keys(n).length&&!ft.a.isEqual(n,e.searchFields)&&this.setState({adultCount:parseInt(n.adultCount),childrenCount:parseInt(n.childrenCount),infantCount:parseInt(n.infantCount),currentLocation:n.address,checkedInstantBooking:!!n.checkedInstantBooking,startPrice:n.budget.low,endPrice:n.budget.high,amenities:n.amenities,budget:{low:n.budget.low,high:n.budget.high},searchFields:n,selectedAmenities:n.amenities})}},{key:"setSearchOptions",value:function(){this.setState({searchOptions:{componentRestrictions:{country:le?Dt:"au"}}})}},{key:"checkInitialTime",value:function(e){if(e.anytime)return e;var t=new Date,a=new Date(e.available_date).getDate(),n=t.getHours(),i=t.getDate(),o=e.timerRange.min,r=e.timerRange.max;return(a===i&&o<n+2||o<7||n>=22)&&(e.anytime=!0,r=24,o=7),r>=24&&(r=24),e.startTime=o>12?o-12+":00 PM":12===o?o+":00 PM":o+":00 AM",e.endTime=r>12?r-12+":00 PM":12===r?r+":00 PM":r+":00 AM",e.timerRange.max=r,e.timerRange.min=o,e}},{key:"checkDate",value:function(e){if(new Date(e).getDate()===(new Date).getDate()&&new Date(e).getMonth()===(new Date).getMonth()){if((new Date).getHours()>=22){var t=new Date(e);return t.setDate(t.getDate()+1),this.setState({selectedDate:t}),t}}else if(new Date(e).getDate()<(new Date).getDate()&&new Date(e).getMonth()===(new Date).getMonth()){var a=new Date(e);return a.setDate(a.getDate()+1),this.setState({selectedDate:a}),a}return null}},{key:"onFocusGooglePlces",value:function(){this.setState({onFocusGoogle:!0})}},{key:"onBlurFocusOut",value:function(){this.setState({onFocusGoogle:!1,onFocusCalender:!1,onFocusTimer:!1});var e=this.state,t=e.currentLocation,a=e.showFormErrorMessage,n=!1;return Ut(t)&&(n=!0),this.setState({showSearchLocationError:!0===n,showFormErrorMessage:!0===a&&!1}),!0!==n}},{key:"handleClearText",value:function(){this.setState({currentLocation:"",address:"",locationPopup:!1})}},{key:"handleSearchLocation",value:function(e){this.setState({currentLocation:e,address:e,locationPopup:!0,calenderShow:!1,timerShow:!1,openGuest:!1}),ie.setAddress(e)}},{key:"handleCalender",value:function(e){this.setState({calenderShow:!0===e,openGuest:!1,timerShow:!1,locationPopup:!1,onFocusCalender:!0,onFocusTimer:!1,onFocusGuest:!1})}},{key:"handleCalenderApply",value:function(e){var t,a=this.checkDate(e),n=(t=a?new Date(a):new Date(e)).getDate(),i=t.getUTCFullYear(),o=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],r=i+"-"+(t.getMonth()+1)+"-"+n;this.setState({calenderShow:!1,selectedDate:o+" "+n+", "+i,availableDate:r,onFocusCalender:!1,searchFields:Object(u.a)({},this.state.searchFields,{anyDate:!1})}),ie.setAvailableDate(t)}},{key:"handleCalenderCancel",value:function(e){this.setState({calenderShow:!0===e,openGuest:!1,timerShow:!1,onFocusCalender:!0,onFocusTimer:!1,onFocusGuest:!1})}},{key:"handleTimer",value:function(e){this.setState({timerShow:!0===e,calenderShow:!1,openGuest:!1,locationPopup:!1,onFocusTimer:!0,onFocusCalender:!1,onFocusGuest:!1})}},{key:"handleTimerApply",value:function(e){var t=this.state.selectedDate;if(new Date(t).getDate()===(new Date).getDate()&&new Date(t).getMonth()===(new Date).getMonth()){var a=(new Date).getHours();if(e.startTime<a+1&&(e.endTime=a+3+this.returnSuffix(a,3),e.startTime=a+1+this.returnSuffix(a,1),e.timerRange.max=a+3,e.timerRange.min=a+1),(new Date).getHours()>=22){var n=new Date(this.state.selectedDate);n.setDate(n.getDate()+1),this.setState({selectedDate:n}),e.endTime=9+this.returnSuffix(9),e.startTime=7+this.returnSuffix(7),e.timerRange.max=9,e.timerRange.min=7}}var i=this.state.searchFields,o=i.startTime,r=i.endTime,s=i.anytime;s=s&&e.startTime===o&&e.endTime===r,this.setState({timerShow:!1,checkedFlexibleTime:e.checkedFlexibleTime,startTime:e.startTime,endTime:e.endTime,timerRange:e.timerRange,onFocusTimer:!1,searchFields:{checkedFlexibleTime:e.checkedFlexibleTime,startTime:e.startTime,endTime:e.endTime,timerRange:{min:e.timerRange.min,max:e.timerRange.max},adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount,anyDate:this.state.searchFields.anyDate,anytime:s}})}},{key:"handleTimerCancel",value:function(){this.setState({timerShow:!1,onFocusTimer:!1})}},{key:"handleCount",value:function(e){var t=this.state.onFocusGuest;this.setState({openGuest:!0===e,calenderShow:!1,timerShow:!1,onFocusGuest:!0!==t,locationPopup:!1})}},{key:"handleFilters",value:function(){this.setState({timerShow:!1,calenderShow:!1,openGuest:!1,locationPopup:!1,onFocusTimer:!1,onFocusCalender:!1,onFocusGuest:!this.state.onFocusGuest,showFilters:!this.state.showFilters})}},{key:"handleFiltersApply",value:function(e){var t=this;this.setState({showFilters:!1,onFocusGuest:!1,selectedAmenities:e.selectedAmenities,adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount,startPrice:e.budget.low,endPrice:e.budget.high,checkedInstantBooking:e.checkedInstantBooking,searchFields:{adultCount:e.adultCount,childrenCount:e.childrenCount,infantCount:e.infantCount,amenities:e.selectedAmenities,checkedInstantBooking:e.checkedInstantBooking,startPrice:e.startPrice,endPrice:e.endPrice,budget:{low:e.budget.low,high:e.budget.high},anytime:this.state.searchFields.anytime,anyDate:this.state.searchFields.anyDate}},function(){t.modifySearchResult()})}},{key:"handleFiltersCancel",value:function(){this.setState({showFilters:!1})}},{key:"handleInstantBooking",value:function(e){this.setState({checkedInstantBooking:e.target.checked}),ie.setInstantBooking(e.target.checked)}},{key:"validateForm",value:function(){var e=!1;return this.onBlurFocusOut()||(e=!0),this.setState({showFormErrorMessage:!0===e}),!0!==e}},{key:"modifySearchResult",value:function(){var e=this;if(this.validateForm()){var t=this.state,a=t.currentLocation,n=t.checkedInstantBooking,i=t.adultCount,o=t.childrenCount,r=t.checkedFlexibleTime,s=t.timerRange,l=t.infantCount,d=t.availableDate,c=t.startTime,m=t.endTime,u=t.startPrice,p=t.endPrice,v=t.selectedAmenities,g=a.split(",").reverse(),h={timestamp:(new Date).toISOString(),event_type:"manual-search",fullAddress:a,country:g[0],city:g[le?2:1],weekDay:this.state.searchFields.anyDate?"Anytime":gt()(d).format("dddd"),startTime:this.state.searchFields.anytime?"7:00 AM":c,endTime:this.state.searchFields.anytime?"12:00 AM":m,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};Ci(this.props.client,h),ie.setAdultCount(i),ie.setChildCount(o),ie.setInfantCount(l),ie.setFlexibleHours(r),ie.setStartTime(c),ie.setEndTime(m),ie.setTimerMin(s.min),ie.setTimerMax(s.max),ie.setStartPrice(u),ie.setEndPrice(p),ie.setAmenities(v);var f=a,k=d,b=c,y=m,x=i,N=o,S=l,w=n,_=v,E=u,F=p;this.props.emptySearchResult();var C={address:f,available_date:k,startTime:b,endTime:y,adultCount:x,childrenCount:N,infantCount:S,checkedInstantBooking:w,checkedFlexibleTime:r,timerRange:{min:s.min,max:s.max},startPrice:E,endPrice:F,budget:{low:E,high:F},amenities:_,anytime:this.state.searchFields.anytime,anyDate:this.state.searchFields.anyDate},T=this.state,P=T.limit,I=T.page,D=_.includes("restroom"),O=_.filter(function(e){return"restroom"!==e});O=O.map(function(e){return parseInt(e)}),this.props.client.query({query:qo,variables:{datas:{address:f,available_date:this.state.searchFields.anyDate?"":k,available_time_from:this.state.searchFields.anytime&&this.state.searchFields.anyDate?"":b,available_time_to:this.state.searchFields.anytime&&this.state.searchFields.anyDate?"":y,adult:x,children:N,infants:S,instant_booking:w,flexible_hours:r,budget:{low:u,high:p},amenities:O,restroom:D},count:P,page:I},fetchPolicy:"network-only"}).then(function(t){e.props.modifySearchResult(t.data.searchPoolPaginated.data,C,t.data.searchPoolPaginated.paginatorInfo.total,!0,"onSearchClick")}).catch(function(t){e.props.turnOffLoading()})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.searchFields,o=a.locationPopup,r=a.onFocusGuest,s=a.onFocusTimer,l=a.guestUpdatedData,d=a.onFocusCalender,c=a.onFocusGoogle,m=a.updateBtn,u=a.currentLocation,p=a.selectedDate,v=a.calenderShow,g=a.adultCount,h=a.childrenCount,f=a.infantCount,k=a.timerShow,b=a.timer,y=a.startTime,x=a.endTime,N=a.checkedInstantBooking,S=a.selectedAmenities,w=a.showSearchLocationError,_=a.startPrice,E=a.endPrice,F=a.budget,C=new Date(p),T=C.getDate(),P=C.getFullYear(),I=["January","February","March","April","May","June","July","August","September","October","November","December"][C.getMonth()],D=""!==p?I+" "+T+", "+P:p,O=le?["Miami Beach, Florida","Houston, Texas","Los Angeles, California","Brooklyn, New York","Phoenix, Arizona"]:["New South Wales, Sidney","Victoria, Melbourne","Queensland, Brisbane","South Australia, Adelaide"];return i.a.createElement("div",null,this.state.showFilters&&i.a.createElement("div",{className:t.underlay,onClick:function(e){e.preventDefault(),e.stopPropagation()}}),i.a.createElement("div",{className:t.resultFormMain},i.a.createElement("div",{className:t.searchResultContainer},i.a.createElement("div",{className:t.formInputBox+" "+t.searchLocationBox+" "+(!0===c?t.onFocusGoogle:"")},i.a.createElement(fn.a,{value:u,onChange:this.handleSearchLocation,onSelect:this.handleSelect,onBlur:this.onBlurFocusOut,debounce:1e3,shouldFetchSuggestions:u.length>=2},function(a){var n=a.getInputProps,r=a.suggestions,s=a.getSuggestionItemProps,l=a.loading;return i.a.createElement("div",{className:!1===w?"":t.divErrorMessage},i.a.createElement("input",Object.assign({},n({placeholder:le?"Los Angeles":"Sydney",className:"location-search-input"}),{onFocus:e.onFocusGooglePlces,onBlur:e.onBlurFocusOut})),""===u&&!0===c&&i.a.createElement("ul",{className:"autocomplete-dropdown-container"},O.map(function(a){return i.a.createElement("li",{className:t.popularDestnation,onMouseDown:function(){return e.handleSearchLocation(a)}},i.a.createElement("font",null,a))})),!0!==o?"":i.a.createElement("ul",{className:"autocomplete-dropdown-container"},l&&i.a.createElement("div",{className:t.loadinAuto},"Loading..."),r.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#fff",cursor:"pointer"};return i.a.createElement("li",s(e,{className:t,style:a}),i.a.createElement("font",null,e.description))})))}),i.a.createElement("span",null,i.a.createElement("img",{src:window.location.origin+"/img/search-green.png",alt:""})),i.a.createElement("div",{className:t.clearText,onClick:this.handleClearText},"CLEAR")),i.a.createElement("div",{className:t.formInputBox+" "+(!0===d?t.onFocusCalender:"")},i.a.createElement("div",{className:t.dropDownSelectTime,onClick:this.handleCalender.bind(this,!0!==v)},n.anyDate?"Anytime":D),i.a.createElement("span",{className:t.cursorPointer},i.a.createElement("img",{src:window.location.origin+"/img/calender-green2.png",alt:""})),!0===v?i.a.createElement("div",{className:t.calenderPopupMain},i.a.createElement(Oi,{selectedDate:p,anytime:n.anytime,updateBtn:m,maxDate:this.state.maxDate,handleCalenderCancel:this.handleCalenderCancel,handleCalenderApply:this.handleCalenderApply.bind(this)})):""),i.a.createElement("div",{className:t.formInputBox+" "+(!0===s?t.onFocusTimer:"")},i.a.createElement("div",{className:t.dropDownSelectTime,onClick:this.handleTimer.bind(this,!0!==k)},n.anytime?"Anytime":y&&x?y+" - "+x:"Select Time"),i.a.createElement("span",{className:t.cursorPointer},i.a.createElement("img",{src:window.location.origin+"/img/timer.png",alt:""})),0===b?"":b,!0===k?i.a.createElement("div",{className:t.timerPopup},i.a.createElement(Go,{updateBtn:m,searchFields:n,handleTimerCancel:this.handleTimerCancel,handleTimerApply:this.handleTimerApply.bind(this)})):""),i.a.createElement("div",{className:t.formIconBox+" "+(!0===r?t.onFocusGuest:"")},i.a.createElement("div",{className:t.dropDownSelect,onClick:this.handleFilters.bind(this)},"Filters",i.a.createElement("i",{className:"fa fa-angle-down","aria-hidden":"true"})),i.a.createElement("span",{className:"filter-icon ".concat(this.handleActiveFilters()?"active":"")},i.a.createElement("i",{class:"fas fa-sliders-h"})),this.state.showFilters?i.a.createElement(zo,{selectedAmenities:S,guestUpdatedData:l,updateBtn:m,searchFields:n,adultCountNew:g,childrenCountNew:h,infantCountNew:f,handleFiltersCancel:this.handleFiltersCancel,handleFiltersApply:this.handleFiltersApply.bind(this),checkedInstantBooking:N,budget:F,startPrice:_,endPrice:E}):null),i.a.createElement("div",{className:t.dropDownSelectBlue,onClick:this.modifySearchResult},i.a.createElement(ze.a,{to:"/search"},i.a.createElement(Oe.a,{variant:"button"},"Search"))))))}}]),a}(i.a.Component),$o=C()(Object(T.withStyles)(function(e){return{resultFormMain:{paddingTop:"40px","@media (max-width:767px)":{paddingTop:"20px"}},searchResultContainer:{display:"flex",flexWrap:"wrap",flexFlow:"row wrap","& > div:nth-child(2)":{width:"14%","@media (max-width:767px)":{display:" inline-block",width:"calc(50% - 7px)",marginRight:" 7px"}},"& > div:nth-child(3)":{width:"17%","@media (max-width:767px)":{display:" inline-block",width:"calc(50% - 7px)",marginLeft:" 7px",marginRight:" 0px"}},alignItems:"center","@media (max-width:767px)":{width:"100%"}},formInputBox:{position:"relative",marginRight:"15px",marginBottom:"0",width:"16%",zIndex:8,"@media (max-width:767px)":{width:"100%",marginBottom:"15px",marginRight:0,zIndex:"unset"},"& fieldset":{opacity:0},"& label":{textTransform:"uppercase",paddingBottom:"2px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"11px 35px ",fontWeight:"normal","&:focus":{outline:"none",boxShadow:e.shape.boxShadow}},"& span":{position:"absolute",top:"0",bottom:"0",margin:"auto",height:"21px",left:"9px",filter:"grayscale(1)"},"& > div > div:last-child":{minWidth:"320px",textAlign:"right","@media (max-width:767px)":{minWidth:"270px"}}},searchLocationBox:{width:"26%","& input":{paddingRight:"65px",width:"calc(100% - 100px)",fontSize:"13px",border:"none",fontFamily:"inherit",borderRadius:"5px",color:"#949494"},"& ul":{listStyle:"none",background:e.palette.common.white,paddingLeft:0,width:"calc(100% + 70px)",position:"absolute",zIndex:"1",display:"block",top:"35px",boxShadow:" 0 0 3px #ccc",maxHeight:"150px",overflow:"auto"},"& li":{padding:"7px 15px",width:"calc(100% - 30px)",display:"block",fontSize:"12px",overflow:"hidden",color:e.palette.common.black},"@media (max-width:767px)":{width:"100%"}},clearText:{fontSize:"13px",float:"right",position:"absolute",textAlign:"right",color:"#949494",width:"auto",top:"12px",right:"15px",cursor:"pointer","& hover":{color:"green"}},textField:{position:"relative",width:"100%",margin:0},dropDownSelect:{background:e.palette.common.gray,color:"#939393",padding:"11px 35px 11px 35px",borderRadius:"5px",fontWeight:"normal",whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis","& i":{float:"right",fontSize:"22px",position:"absolute",right:"10px",top:"10px"}},dropDownSelectTime:{background:e.palette.common.gray,color:"#939393",padding:"11px 15px 11px 35px",fontSize:"13px",height:"20px",borderRadius:"5px",fontWeight:"normal",whiteSpace:"pre",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer","& i":{float:"right",fontSize:"22px",cursor:"pointer"}},CheckboxBottm:{position:"relative",marginTop:"10px","& img":{position:"absolute",top:"14px",bottom:"0",left:"28px",width:"18px"}},formIconBox:{position:"relative",marginRight:"15px",marginBottom:"0",width:"auto",fontSize:15,zIndex:8,"@media (max-width: 767px)":{width:"100%",margin:"0 0 15px",zIndex:"unset"},"& > div > div:last-child":{minWidth:"320px","@media (max-width:767px)":{minWidth:"270px"}},"& .filter-icon":{position:"absolute",top:12,left:9,"&.active:after":{content:"''",position:"absolute",top:"-2px",right:"-5px",display:"inline-block",width:"10px",height:"10px",borderRadius:"50%",background:"red"}}},dropDownSelectBlue:{flex:1,marginRight:"10px",zIndex:8,"& a":{textDecoration:"none",display:"flex","@media (max-width:767px)":{display:"unset"}},"& span":{width:"100%",background:e.palette.common.transparent,border:"2px solid #1db6e5",marginTop:"0px",color:e.palette.common.black,padding:"7px 25px","@media (max-width:767px)":{width:"auto"}},"@media (max-width:767px)":{marginRight:0,zIndex:"unset"}},labelInstantBook:{"& span + span":{paddingLeft:"20px"}},checkBox:{color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},timerPopup:{"& > div":{marginTop:"5px",minWidth:"300px","& label":{paddingLeft:"0"},"& span":{position:"relative",left:"inherit",top:"inherit",height:"inherit",marginLeft:"0px",padding:"0px 0px"}}},calenderPopupMain:{"& > div":{marginTop:"5px",minWidth:"350px","& span":{position:"relative",left:"inherit",top:"inherit",marginLeft:"0px",padding:"0px 0px"}}},searchLocationPlaces:{width:"calc(100% - 70px)"},onFocusGoogle:{"& input":{color:e.palette.common.black},"& span":{filter:"grayscale(0)"}},onFocusCalender:{"& > div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black},"& span":{filter:"grayscale(0)"}},onFocusTimer:{"& > div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black},"& span":{filter:"grayscale(0)"},"& > div > div > div > div":{},"& > div:last-child > div":{left:"-160px"}},onFocusGuest:{"& > div:first-child":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,"& i":{transform:"rotate(180deg)"}},"& span":{filter:"grayscale(0)"}},underlay:{position:"fixed",width:"100%",height:"100%",backgroundColor:"white",opacity:.7,pointerEvents:"none",top:0,bottom:0,left:0,right:0,zIndex:8},loadinAuto:{padding:"15px 15px 5px",color:e.palette.common.black},divErrorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"},"& input:focus":{boxShadow:"none"}},timerSet:{"@media (max-width:767px)":{left:"-160px"}},popularDestnation:{backgroundColor:"#ffffff",cursor:"pointer","&:hover":{backgroundColor:"rgb(250, 250, 250)"}},cursorPointer:{cursor:"pointer"}}}),je.a,b.b)(Vo);function Qo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}function Ko(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",right:"10px",width:"32px",background:"url(../img/next.png)",backgroundPosition:" right",zIndex:"9",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"25px",backgroundRepeat:" no-repeat"},onClick:a})}function Jo(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",left:"10px",width:"32px",backgroundPosition:" 0 0",background:"url(../img/prev.png)",zIndex:"7",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"25px"},onClick:a})}var Zo=function(e){Object(h.a)(a,e);var t=Qo(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.redirectToPoolDetails=n.redirectToPoolDetails.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"redirectToPoolDetails",value:function(e){var t=this.props.history;ie.setBackBtnLink("search");var a=ie.getAvailableDate();a=null!==a&&void 0!==a?gt()(a).format("YYYY-MM-DD"):"",l.a.dataLayer({dataLayer:{poolID:e,date:a,location:ie.getAddress()},events:{poolPageView:"poolPageView"}}),t.push("/pooldetails/".concat(e,"?from=search")),ie.removeMessageReceiverId()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.searchResults,o=t.searchFields,r=t.loading,s={speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!1,nextArrow:i.a.createElement(Ko,null),prevArrow:i.a.createElement(Jo,null)},l=this.props,d=l.showDistance,c=l.noData,m=l.showDefaultInstantBooking,u=l.withSocialIcons,p=Wt.isUsRegion(this.props.region);return i.a.createElement("div",null,n.map(function(t,n){var r=t.images&&t.images.slice().sort(function(e){return e.cover?-1:0});return i.a.createElement(lt.a,{container:!0,spacing:24,className:a.searchResultsContainer,key:"pool-".concat(t.id)},i.a.createElement(lt.a,{item:!0,xs:12,sm:7},i.a.createElement("div",{className:a.resultMain},i.a.createElement("div",{className:"social-icons-absolute top right"},u&&i.a.createElement(mo,{isFavorite:t.isFavorite,poolId:t.id,userRole:"swimmer",onFavoriteChange:e.props.onFavoriteChange,handleShowFavPopup:e.props.showFavPopup})),i.a.createElement(_n.a,s,r.length>0&&r.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("img",{alt:"",src:e.url}))}),r.length<=0&&i.a.createElement("div",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/default-pool.png"}))))),i.a.createElement(lt.a,{item:!0,xs:12,sm:5},i.a.createElement("div",{className:a.leftSideCol},i.a.createElement(Oe.a,{variant:"h2"},t.title),i.a.createElement(Oe.a,{variant:"h4"},""!==t.city&&null!==t.city?t.city+", ":""," ",""!==t.state&&null!==t.state?t.state+", ":""," ","00000"!==t.zip_code?""+t.zip_code:"",d&&i.a.createElement("div",null,t.distance.toFixed(2)," ",p?"miles":"kilometres")),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.description}}),o&&""!==o.startTime&&""!==o.endTime?i.a.createElement(Ei,{from:"search",poolDetails:t,isDefaultInstantBooking:t.default_instant_booking,searchFields:o}):"",m&&t.default_instant_booking&&i.a.createElement("label",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/time.png"})," Book Instantly"),i.a.createElement("div",{className:a.perHour},i.a.createElement("span",null,"$",t.hourly_price?t.hourly_price:0," "),"per hour",i.a.createElement("div",{className:a.showRating},null!==t.rating&&""!==t.rating&&0!==t.rating&&i.a.createElement(Eo.a,{rating:null===t.rating||""===t.rating?0:t.rating,changeRating:e.changeRating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px"}))),i.a.createElement("div",{className:a.moreDetailsBtn,onClick:e.redirectToPoolDetails.bind(e,t.id)},i.a.createElement(Oe.a,{variant:"button"},"More Details")))))}),0!==n.length||r?"":i.a.createElement("div",{className:a.noResult},c||i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h3"},"Doesn't seem like there is anything available then"),i.a.createElement("p",null,"Try modifying your search"),i.a.createElement("div",{className:a.noResultSendMessage},i.a.createElement("p",null,"We may not have any pools in your area. Let us lend a hand."),i.a.createElement("p",null,"Can\u2019t find a pool?",i.a.createElement("a",{href:"#/",onClick:function(t){t&&(t.preventDefault(),t.stopPropagation()),e.props.showPopupCallback()}},"Click here"))))))}}]),a}(i.a.Component);Zo.defaultProps={onFavoriteChange:null,showDistance:!0,showDefaultInstantBooking:!1,showFavPopup:!1,withSocialIcons:!1};var Xo=C()(Object(T.withStyles)(function(e){return{searchResultsContainer:{marginBottom:"25px",display:"flex",alignItems:"flex-start","@media (max-width:767px)":{display:"block"}},resultMain:{position:"relative","& img":{width:"100%",borderRadius:"10px"}},leftSideCol:{"& h2":{marginBottom:"15px",fontSize:"25px"},"& p":{paddingBottom:"5px",marginBottom:"0px"},"& h4":{marginTop:"0px",marginBottom:"20px",fontWeight:"400",color:"#7b858b","& div":{marginTop:"10px",color:"#ccc"}},"& img":{verticalAlign:"middle",marginRight:"5px"},"& a":{textDecoration:"none"},"@media (max-width:767px)":{position:"relative","& h2":{fontSize:"18px",marginBottom:"5px",paddingRight:"60px"},"& h4":{fontSize:"14px",fontWeight:"300","& div":{position:"absolute",top:0,marginTop:" 0px !important",right:0,color:"#232323 !important",fontWeight:"500"}}}},perHour:{fontSize:"16px",paddingTop:"20px","& span":{fontWeight:"500",fontSize:"20px",color:e.palette.common.black,verticalAlign:"middle",paddingRight:"10px"},"& p":{marginTop:"0"},"@media (max-width:767px)":{display:"inline-block"}},moreDetailsBtn:{maxWidth:"160px","& span":{padding:"6px 25px",fontWeight:"300"},"@media (max-width:767px)":{display:"inline-block",verticalAlign:"text-bottom",marginLeft:"25px","& span":{padding:"12px 25px"}}},noResult:{"& p":{marginTop:"5px"},"& > div":{marginTop:"25px","& p":{marginTop:"2px",fontSize:"12px",marginBottom:"0px"},"& p:last-child a":{marginLeft:"6px",color:"#1db6e5",textDecoration:"none",cursor:"pointer"}}},noAvailableLabel:{fontWeight:"500",color:e.palette.common.black},showRating:{paddingBottom:"5px"}}}),je.a)(function(e){var t=Object(n.useContext)(zi).region;return i.a.createElement(Zo,Object.assign({region:t},e))});function er(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var tr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePopupUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserPopupInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePopupUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96,source:{body:"mutation savePopupUser($data: UserPopupInput!) {\n  savePopupUser(data: $data) {\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ar=function(e){Object(h.a)(a,e);var t=er(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={userEmail:"",userPhone:"",sending:!1},n.handleInput=n.handleInput.bind(Object(g.a)(n)),n.handleIfnoSubmit=n.handleIfnoSubmit.bind(Object(g.a)(n)),n.showFieldsOrMakeRequest=n.showFieldsOrMakeRequest.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(Fe.a)({},e.target.name,e.target.value))}},{key:"showFieldsOrMakeRequest",value:function(){localStorage.getItem("swimply::access_token")&&localStorage.getItem("swimply::email")?this.handleIfnoSubmit():this.setState({showInputs:!0})}},{key:"handleIfnoSubmit",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),this.state.sending||this.setState({sending:!0},Object(m.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.userEmail||localStorage.getItem("swimply::email"),n=a.state.userPhone,!t){e.next=6;break}return e.next=5,a.props.client.mutate({mutation:tr,variables:{data:{email:t,phone:n,user_id:localStorage.getItem("swimply::user_id")||"",full_address:a.props.userSearchedAddress}}});case 5:a.props.hidePopupCallback();case 6:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Je.a,{disableRestoreFocus:!0,open:this.props.showPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.dialogBoxContainer},i.a.createElement("div",{className:e.box},i.a.createElement(Oe.a,{className:e.infoSection,component:"p"},this.state.showInputs?"How would you like to be notified?":"Hey! Would you like us to notify you when a new pool signs up in your area?"),i.a.createElement(tt.a,{className:e.dialogBox},i.a.createElement("div",{className:e.userInfoForm},i.a.createElement("div",{className:e.roundedBtnContainer,onClick:this.showFieldsOrMakeRequest},i.a.createElement(Ae.a,{className:"".concat(e.roundedBtn," bigRounded ").concat(this.state.showInputs&&"hidden")},"Yes! Keep me in the loop",i.a.createElement("span",{className:"bellIcon"})))),this.state.showInputs?i.a.createElement("form",{onSubmit:this.handleIfnoSubmit,className:e.userInfoForm},i.a.createElement("div",{className:e.formInputContainer},i.a.createElement("input",{type:"email",required:!0,value:this.state.userEmail,placeholder:"email",name:"userEmail",onChange:this.handleInput,className:e.formInput})),i.a.createElement("div",{className:e.formInputContainer},i.a.createElement("input",{type:"text",value:this.state.userPhone,placeholder:"phone number (optional)",name:"userPhone",onChange:this.handleInput,className:e.formInput})),i.a.createElement(Ae.a,{className:e.roundedBtn,type:"submit"},"Done")):null,i.a.createElement("div",{className:e.userInfoForm},i.a.createElement("div",{className:e.skipBtnContainer},i.a.createElement(Ae.a,{className:e.skipBtn,onClick:this.props.hidePopupCallback},"Skip"))))))}}]),a}(n.Component),nr=C()(Object(T.withStyles)(function(e){return{formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px","& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},dialogBoxContainer:{padding:"15px 22px 15px",display:"flex",justifyContent:"center","& h3":{padding:"15px 22px 15px"},"& .MuiDialog-paperWidthSm-176":{minWidth:"300px"},"& div.MuiDialog-paperWidthSm-169":{minWidth:"300px",top:0,bottom:0,left:0,right:0,margin:"auto",borderRadius:"10px"},"& div div":{borderRadius:"10px"}},box:{background:"#00b6e7",top:0,bottom:0,left:0,right:0,margin:"auto",minWidth:"300px",maxWidth:"320px",borderRadius:"10px","& div":{borderRadius:10}},dialogBox:{minWidth:"280px",paddingTop:"25px",boxSizing:"border-box","@media (max-width:480px)":{minWidth:"200px"},"& > label":{marginBottom:"15px"},"& a":{textDecoration:"none"}},infoSection:{width:"95%",textAlign:"center",padding:"25px 15px 0",color:"white",fontSize:"17px",lineHeight:1.5,boxSizing:"border-box"},userInfoForm:{display:"flex",flexDirection:"column",alignItems:"center"},roundedBtn:{borderRadius:3,textTransform:"none",background:"white",margin:"10px 0",padding:"8px 16px","&.bigRounded":{borderRadius:23,padding:"8px 24px","@media all and (max-width: 360px)":{padding:"8px 15px"},"& .bellIcon":{width:"16px",height:"16px",marginLeft:"15px",background:"url(/img/bell.png) no-repeat center/contain"}},"& span":{color:"#00b6e7",fontSize:"15px"},"&:hover":{background:"white",opacity:.9},"&.hidden":{display:"none"}},formInputContainer:{width:"100%",margin:"5px 0",display:"flex",justifyContent:"center"},formInput:{width:"85%",outline:"none",background:"transparent",border:"none",borderBottom:"1px solid rgba(255, 255, 255, 0.8)",padding:"10px",boxSizing:"border-box",fontSize:"16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.8)"}},skipBtn:{background:"transparent",color:"white",textTransform:"none"}}}),b.b)(ar);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var or={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPoolPaginatedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"datas"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"count"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchPoolPaginated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"datas"}}},{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"Variable",name:{kind:"Name",value:"count"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasMorePages"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1197,source:{body:"query searchPoolPaginatedQuery($datas:SearchInput!, $count:Int!, $page: Int){\n    searchPoolPaginated(data:$datas, count:$count, page:$page){\n        data {\n            id\n            title\n            months{\n                month_number\n                is_available\n            }\n            description\n            distance\n            rating\n            instant_booking\n            default_instant_booking\n            images {\n                url\n                cover\n            }\n            state\n            city\n            zip_code\n            hourly_price\n            bookings{\n                date\n                from\n                to\n                status\n            }\n            pool_unavailabilities{\n                date\n                time\n            }\n            unavailable_dates\n            pool_instant{\n                date\n                time\n            }\n            advance_notice\n            available_from\n            available_to\n        },\n        paginatorInfo {\n            count,\n            currentPage\n            firstItem,\n            hasMorePages,\n            lastItem,\n            lastPage\n            perPage,\n            total\n        }\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},rr=function(e){Object(h.a)(a,e);var t=ir(a);function a(e){var n;Object(p.a)(this,a),(n=t.call(this,e)).returnSuffix=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0<=parseInt(e)+t&&parseInt(e)+t<12?":00 AM":24>parseInt(e)+t&&parseInt(e)+t>=12?":00 PM":36>parseInt(e)+t&&parseInt(e)+t>=24?":00 AM":-12<=parseInt(e)+t&&parseInt(e)+t<0?":00 PM":void 0};var i=function(e,t){t||(t=window.location.href),e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("address");return i?(ie.setAddress(i),window.location.href=window.location.origin+window.location.pathname):ie.getAddress()||ie.setAddress(le?"Los Angeles, CA, USA":"Sydney NSW, Australia"),n.state={address:le?"Los Angeles, CA, USA":"Sydney NSW, Australia",available_date:"",available_time_from:"",available_time_to:"",searchFields:{},searchResultsCount:0,searchResults:[],loading:!0,limit:10,page:1,maxPage:1,isLoadingMore:!1,showSaveSearchPopup:!1,currentPoolId:"",showSwimmerPlaceholder:!1},n.timerId=null,n.loadMore=n.loadMore.bind(Object(g.a)(n)),n.getItems=n.getItems.bind(Object(g.a)(n)),n.hidePopupCallback=n.hidePopupCallback.bind(Object(g.a)(n)),n.showPopupCallback=n.showPopupCallback.bind(Object(g.a)(n)),n.toggleLoaderCallback=n.toggleLoaderCallback.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=this;ie.removeStartTime(),ie.removeEndTime(),ie.removeAvailableDate(),window.scrollTo(0,0),ie.setPoolSearchPage(1);var t=ie.getAddress()||"";this.getItems(!0).then(function(a){var n=a&&a.data&&a.data.searchPoolPaginated||{},i=n.data?n.data.map(function(t){return t.isFavorite=e.props.user&&e.props.user.favorites.indexOf(+t.id)>=0,t}):[];e.setState({searchResultsCount:n.paginatorInfo&&n.paginatorInfo.total||0,searchResults:i,loading:!1},function(){var a=t.replace(/,/g,""),n=localStorage.getItem("searched_zip_codes")&&localStorage.getItem("searched_zip_codes").split(",");0===e.state.searchResultsCount?n&&!n.includes(a)?(n.push(a),localStorage.setItem("searched_zip_codes",n),e.setState({showSaveSearchPopup:!0})):n||(localStorage.setItem("searched_zip_codes",[a]),e.setState({showSaveSearchPopup:!0})):n&&!n.includes(a)?(n.push(a),localStorage.setItem("searched_zip_codes",n),e.timerId=setTimeout(function(){e.setState({showSaveSearchPopup:!0})},1e4)):n||(localStorage.setItem("searched_zip_codes",[a]),e.timerId=setTimeout(function(){e.setState({showSaveSearchPopup:!0})},1e4))})});var a=t.split(",").reverse(),n={timestamp:(new Date).toISOString(),event_type:"initial-search",fullAddress:t,country:a[0],city:a[le?2:1]||"",weekDay:gt()(this.getAvailableDate()).format("dddd"),startTime:ie.getStartTime(),endTime:ie.getEndTime(),platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};Ci(this.props.client,n)}},{key:"getAvailableDate",value:function(){var e=ie.getAvailableDate();e=null===e?new Date:e;var t=new Date(e),a=t.getDate(),n=t.getFullYear(),i=t.getMonth()+1;return i=i<10?"0".concat(i):i,"".concat(n,"-").concat(i,"-").concat(a)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerId)}},{key:"getItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=ie.getAddress()||"",n=ie.getFlexibleHours(),i=ie.getInstantBooking(),o=ie.getAdultCount()||1,r=ie.getChildCount()||0,s=ie.getInfantCount()||0,l=ie.getTimerMin(),d=ie.getTimerMax(),c=ie.getStartTime()||"",m=ie.getEndTime()||"",u=ie.checkAvailableDate()||"",p=((new Date).getHours(),ie.getAmenities()||[]),v=ie.getStartPrice()||15,g=ie.getEndPrice()||200,h=t?!c:!!this.state.searchFields.anytime,f=t?!u:!!this.state.searchFields.anyDate;u=this.getAvailableDate(),null===l||(l=parseInt(l),d=parseInt(d));var k={address:a,available_date:u,checkedFlexibleTime:n="true"===n,checkedInstantBooking:i="true"===i,adultCount:o,childrenCount:r,infantCount:s,timerRange:{min:h?7:l,max:h?24:d},amenities:p,budget:{low:v,high:g},endTime:h?"12:00 AM":m,startTime:h?"7:00 AM":c,anytime:h,anyDate:f};parseInt(k.startTime)>12&&(parseInt(k.startTime)>=24?k.startTime="10:00 PM":k.startTime=parseInt(k.startTime)-12+":00 PM"),parseInt(k.endTime)>12&&(parseInt(k.endTime)>=24?k.endTime="12:00 AM":k.endTime=parseInt(k.endTime)-12+":00 PM"),this.setState({searchFields:k,loading:t});var b=ie.getPoolSearchPage();c||(c=k.startTime),m||(m=k.endTime);var y=p.includes("restroom");return p=(p=p.filter(function(e){return"restroom"!==e})).map(function(e){return parseInt(e)}),this.props.client.query({query:or,variables:{datas:{address:a,available_date:k.anyDate?"":u,available_time_from:k.anytime&&k.anyDate?"":c,available_time_to:k.anytime&&k.anyDate?"":m,adult:o,children:r,infants:s,instant_booking:i,flexible_hours:n,budget:{low:v,high:g},amenities:p,restroom:y},count:4,page:b||1},fetchPolicy:"network-only"}).then(function(t){return b||(b=1),b<=t.data.searchPoolPaginated.paginatorInfo.lastPage&&(ie.setPoolSearchPage(b+1),e.setState({page:b+1,maxPage:t.data.searchPoolPaginated.paginatorInfo.lastPage})),e.setState({loading:!1}),t}).catch(function(t){e.setState({loading:!1})})}},{key:"modifySearchResult",value:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=ie.getAddress()||"";i&&(ie.setPoolSearchPage(2),this.setState({page:2})),this.setState({searchResultsCount:a,searchResults:e,searchFields:t,loading:!1},function(){if(o){var e=r.replace(/,/g,""),t=localStorage.getItem("searched_zip_codes")&&localStorage.getItem("searched_zip_codes").split(",");0===n.state.searchResultsCount?t&&!t.includes(e)?(t.push(e),localStorage.setItem("searched_zip_codes",t),n.setState({showSaveSearchPopup:!0})):t||(localStorage.setItem("searched_zip_codes",[e]),n.setState({showSaveSearchPopup:!0})):t&&!t.includes(e)?(t.push(e),localStorage.setItem("searched_zip_codes",t),n.timerId=setTimeout(function(){n.setState({showSaveSearchPopup:!0})},1e4)):t||(localStorage.setItem("searched_zip_codes",[e]),n.timerId=setTimeout(function(){n.setState({showSaveSearchPopup:!0})},1e4))}})}},{key:"emptySearchResult",value:function(){this.setState({searchFields:{},searchResultsCount:0,searchResults:[],loading:!0})}},{key:"turnOffLoading",value:function(){this.setState({loading:!1})}},{key:"loadMore",value:function(){var e=this;this.setState({isLoadingMore:!0}),this.getItems().then(function(t){var a=e.state,n=a.searchResults,i=a.searchFields;setTimeout(function(){e.setState({isLoadingMore:!1})},500);var o=t&&t.data&&t.data.searchPoolPaginated?t.data.searchPoolPaginated:{},r=o.data?o.data.map(function(t){return t.isFavorite=e.props.user&&e.props.user.favorites.indexOf(+t.id)>=0,t}):[];e.modifySearchResult([].concat(Object(pt.a)(n),Object(pt.a)(r||[])),i,o.paginatorInfo?o.paginatorInfo.total:0)})}},{key:"hidePopupCallback",value:function(){this.setState({showSaveSearchPopup:!1})}},{key:"showPopupCallback",value:function(){this.setState({showSaveSearchPopup:!0})}},{key:"toggleLoaderCallback",value:function(e){this.setState({loading:e,isLoadingMore:e})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.searchResultsCount,n=t.searchResults,o=t.searchFields,r=t.loading,s=t.isLoadingMore,l=t.page,d=t.maxPage;return this.state.showSwimmerPlaceholder?i.a.createElement(Co,{currentPoolId:this.state.currentPoolId,user:"swimmer"}):i.a.createElement("div",null,i.a.createElement(nr,{userSearchedAddress:o.address,showPopup:this.state.showSaveSearchPopup,hidePopupCallback:this.hidePopupCallback}),i.a.createElement(Bo.a,{pageStart:0,loadMore:this.loadMore,hasMore:n.length<a&&!s&&l<=d+1},i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.resultContainer},i.a.createElement($o,{searchFields:o,modifySearchResult:this.modifySearchResult.bind(this),emptySearchResult:this.emptySearchResult.bind(this),turnOffLoading:this.turnOffLoading.bind(this)}),i.a.createElement(Oe.a,{variant:"h6"},i.a.createElement("p",{className:e.foundResult},a," ","pools found")),i.a.createElement("div",null,i.a.createElement(Xo,{searchResults:n,searchFields:o,loading:r,showPopupCallback:this.showPopupCallback,checkSwitchNeeded:this.checkSwitchNeeded})))))),i.a.createElement("div",{className:e.loader},i.a.createElement(dt.a,{sizeUnit:"px",size:50,color:"#00ADE2",loading:s}))))}}]),a}(i.a.Component);var sr=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px",minHeight:"100vh","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",overflowY:"scroll"},"@media (max-height: 800px) and (min-width: 560px)":{minHeight:"800px"}},foundResult:{paddingBottom:"25px",paddingTop:"8px",borderBottom:"1px solid #f3eded",marginBottom:"40px"},loader:{display:"flex",justifyContent:"center"}}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(rr,Object.assign({},t,e))}),lr=i.a.createContext({chatDetails:null,handleChat:function(){}}),dr=a(155),cr=a.n(dr);function mr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ur=function(e){Object(h.a)(a,e);var t=mr(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).addListeners=function(e){n.channel="room.".concat(e),n.props.echo&&n.props.echo.join(n.channel).listen(".message.created",function(e){!function(e){e.message.id=e.message.id.toString(),e.message.reciever_id=e.message.reciever_id.toString(),e.message.sender_id=e.message.sender_id.toString();var t=ie.getLatestChats(),a=t.findIndex(function(t){return t.receiverId===e.message.sender_id});if(a>=0)t[a].messages.length>=10&&t[a].messages.pop(),t[a].messages.unshift(e.message);else{t.length>=10&&t.pop();var n={messages:[e.message],receiverId:e.message.sender_id};t.unshift(n)}ie.setLatestChats(t)}(e)}).listenForWhisper("typing",function(e){n.setState({isTyping:!0}),clearTimeout(n.timer),n.timer=setTimeout(function(){n.setState({isTyping:!1})},700)})},n.state={isTyping:!1},n.channel="",n.timer=null,n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.chatIndex<10&&this.addListeners(this.props.chatData.room_id)}},{key:"componentDidUpdate",value:function(e){e.chatIndex!==this.props.chatIndex&&this.props.chatIndex<10&&this.addListeners(this.props.chatData.room_id)}},{key:"componentWillUnmount",value:function(){var e=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.echo&&(this.props.echo.leave(this.channel),this.channel=""),clearTimeout(this.timer);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.props.chatData,a=gt.a.utc(t.created_at),n=gt()(new Date),o=a.from(n);return i.a.createElement(Ye.a,{alignItems:"flex-start",onClick:this.props.redirectToConversations.bind(null,t.user.id)},i.a.createElement(cr.a,null,i.a.createElement(io,{user:t.user,containerClass:e.avatarContainer,verifiedIconSize:"small",alt:"",src:t.user.img_url||window.location.origin+"/img/profile-icon.png"})),i.a.createElement(Ve.a,{secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe.a,{component:"span",color:"textPrimary"},t.user.firstname,void 0!==t.user.lastname&&null!==t.user.lastname&&""!==t.user.lastname?" "+t.user.lastname.charAt(0).toUpperCase():"","."),i.a.createElement("font",null,o),i.a.createElement("font",{className:e.typingLabel},this.state.isTyping?"typing...":" "))}),i.a.createElement(Oe.a,{variant:"h6",color:"inherit"},i.a.createElement("span",{className:0===t.count_of_unread_messages?"":"unreadImageIcon"},i.a.createElement("img",{src:"img/chat-icon.png",alt:""}))))}}]),a}(i.a.Component);var pr=C()(Object(T.withStyles)(function(e){return{avatarContainer:{marginRight:"5px"},typingLabel:{lineHeight:1,height:12,color:e.palette.common.blue,fontStyle:"italic",fontSize:12,fontFamily:"'Poppins', sans-serif",marginBottom:-15}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(sa);return i.a.createElement(ur,Object.assign({},e,t))});function vr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var gr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"count_of_unread_messages"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"room_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:498,source:{body:"query{\n  chatList {\n    user {\n      id\n      firstname\n      lastname\n      email\n      description\n      img_url\n      roles {\n        id\n        name\n        permissions {\n          id\n          name\n        }\n      }\n      permissions {\n        id\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    count_of_unread_messages\n    created_at\n    room_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},hr=a(157),fr=function(e){Object(h.a)(a,e);var t=vr(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getMessages=function(){n.props.client.query({query:gr,fetchPolicy:"network-only"}).then(function(e){var t=ft.a.cloneDeep(e.data.chatList);t=t.splice(0,9),ie.setChatsList(t),n.setState({messagesList:e.data.chatList,loading:!1,firstTenChats:t})}).catch(function(){var e=Object(m.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Gt(t),n.setState({loading:!1}),"Unauthenticated."!==a){e.next=7;break}return e.next=5,n.props.refreshToken(n.props.history);case 5:"ok"===e.sent&&n.getMessages();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.state={messagesList:[],loading:!1,showEmpty:!1,senderId:null,senderAvatar:"",senderVerifications:[],firstTenChats:[],isTyping:[]},n}return Object(v.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=ie.getChatsList();e.length>0&&this.setState({messagesList:e,loading:!1,showEmpty:!1})}},{key:"componentDidMount",value:function(){var e=ie.getAccessToken(),t=this.props.history;if(null!==e&&""!==e){var a=hr.parse(this.props.location.search);void 0!==a.sender_id&&""!==a.sender_id&&(t.push("/messages"),this.redirectToConversions(a.sender_id)),this.setState({loading:!0}),this.getMessages()}else ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),t.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.newMessage&&(!e.newMessage||e.newMessage.id!==this.props.newMessage.id)&&+this.props.user.id!==this.props.newMessage.sender_id){console.log("New message",this.props.newMessage);var a=this.state.messagesList.findIndex(function(e){return e.room_id===t.props.newMessage.room_id});if(console.log("messageIndex",a),a>=0){var n=this.state.messagesList[a];n.count_of_unread_messages=1,n.created_at=this.props.newMessage.created_at,this.setState({messagesList:_()(this.state.messagesList,{$splice:[[a,1]],$unshift:[n]})})}else this.setState({messagesList:_()(this.state.messagesList,{$unshift:[this.props.newMessage]})})}}},{key:"redirectToConversions",value:function(e){var t=this,a=this.state.messagesList.findIndex(function(t){return t.user.id===e});if(a>=0){this.setState({messagesList:_()(this.state.messagesList,Object(Fe.a)({},a,{count_of_unread_messages:{$set:0}}))},function(){var e=t.state.messagesList.find(function(e){return e.count_of_unread_messages>0});t.props.setHasUnreadMessages(!!e)});var n=this.state.messagesList[a].user;if(this.props.user){var i={receiverId:e,receiverFirstName:n.firstname,receiverLastName:n.lastname,receiverAvatar:n.img_url,receiverVerifications:n.verifications,senderId:this.props.user.id,senderAvatar:this.props.user.img_url,senderVerifications:this.props.user.verifications};if(this.props.user.accept_chat_rules){var o=this.props.history;ie.setMessageReceiverId(e),o.push({pathname:"conversations"}),this.props.handleChat(i)}else this.props.handleChat(i),this.props.history.replace("/chat-rules")}}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.messagesList,o=a.loading;return n=ft.a.reject(n,{user:null}),n=ft.a.reject(n,{user:""}),i.a.createElement("div",{className:t.container},!0===o&&n.length<=0?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.messagesBlock},i.a.createElement(Oe.a,{variant:"h2"},"My Messages"),i.a.createElement("div",null,i.a.createElement(Qe.a,{className:t.root},0!==n.length?n.map(function(t,a){return i.a.createElement(pr,{key:"chatlistItem-".concat(t.room_id,"-").concat(a),redirectToConversations:e.redirectToConversions.bind(e),chatIndex:a,chatData:t})}):i.a.createElement(Oe.a,{variant:"h6",color:"inherit"},i.a.createElement("div",{className:t.noMessages},i.a.createElement("figure",null,i.a.createElement("img",{src:"img/messages.png",alt:""})),i.a.createElement("p",null,"You don't have any messages yet!"))),n.length>0&&o&&i.a.createElement(Ye.a,{alignItems:"center",style:{justifyContent:"center"}},i.a.createElement(dt.a,{sizeUnit:"px",size:40,color:"#00ADE2",loading:o}))))))}}]),a}(i.a.Component);fr.defaultProps={newMessage:null};var kr=C()(Object(T.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",background:" #f5f5f5",minHeight:"calc(100vh - 56px)"}},messagesBlock:{paddingTop:"35px","@media (max-width:767px)":{paddingTop:"20px"},"& h2":{paddingBottom:"20px"},"& ul":{maxWidth:"420px",marginLeft:"15px","@media (max-width:767px)":{margin:"0 -15px",width:"calc(100% + 30px)",padding:"0"}},"& li":{paddingBottom:"15px",display:"flex",alignItems:"center",cursor:"pointer","& Span":{"& img":{maxWidth:"25px"}},"@media (max-width:767px)":{borderBottom:"1px solid #eaefee","&:first-child":{borderTop:"1px solid #eaefee",marginTop:"20px"}}},"& p":{fontSize:"12px",color:e.palette.common.darkgray,display:"flex",flexDirection:"column","& span":{fontWeight:500,color:e.palette.common.black,fontSize:"14px"}},"& h6":{"& img":{paddingTop:"3px",cursor:"pointer"}}},noMessages:{display:"flex",alignItems:"center",color:e.palette.common.black,"& figure":{margin:"0 18px 0 -15px"},"& p":{color:e.palette.common.black,fontSize:"14px",fontWeight:"300",marginTop:"0",marginBottom:"30px"},"@media (max-width:767px)":{display:"table",margin:"0 auto","& figure":{margin:"0 auto",textAlign:"center"},"& P":{marginTop:"8px"}}},avatarContainer:{marginRight:"5px"},typingLabel:{lineHeight:1,height:12,color:e.palette.common.blue,fontStyle:"italic",fontSize:12,fontFamily:"'Poppins', sans-serif",marginBottom:-15}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa),o=Object(n.useContext)(lr);return i.a.createElement(fr,Object.assign({},t,e,a,o))}),br=a(141),yr=a.n(br);function xr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Nr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"declineReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"declineReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117,source:{body:"mutation declineReservation($data:ReservationInput!){\n  declineReservation(data:$data){\n    status\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Sr=function(e){Object(h.a)(a,e);var t=xr(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showDeclineReasonPopup:!1,showDeclineChatMessagePopup:!1,showAlert:!1,loading:!1,otherDeclineReason:"",declineReason:"",declineChatMessage:""},e.handleError=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};console.log("error",t),e.setState({loading:!1},Object(m.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("Unauthenticated."!==Gt(t)){n.next=8;break}return n.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===n.sent&&a(),n.next=9;break;case 8:e.props.handleErrorMessage("Something went wrong.");case 9:case"end":return n.stop()}},n)})))},e.handleDeclineAlert=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({showAlert:t})},e.handleDeclineReasonPopup=function(t){e.setState({showDeclineReasonPopup:t,showAlert:!1})},e.handleDeclineChatMessagePopup=function(t){e.setState({showDeclineChatMessagePopup:t,showDeclineReasonPopup:!1})},e.onChangeDeclineReason=function(t){var a=t.target.value;e.setState({declineReason:a})},e.onChangeOtherReason=function(t){var a=t.target.value;e.setState({otherDeclineReason:a})},e.onChangeDeclineChatMessage=function(t){var a=t.target.value;e.setState({declineChatMessage:a})},e.handleOtherReason=function(t){return t.toLowerCase().match(/other/)?e.state.otherDeclineReason:t},e.disableDecline=function(){var t=e.state,a=t.declineReason,n=t.otherDeclineReason;return!a||a.match(/Other/)&&n.trim().length<=10},e.disableCancelChatButton=function(){return e.state.declineChatMessage.trim().length<10},e.declineBooking=function(){var t=e.props.bookingData;e.setState({showDeclineChatMessagePopup:!1,loading:!0},Object(m.a)(c.a.mark(function a(){var n,i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.client.mutate({mutation:Nr,variables:{data:{booking_id:t.id,decline_reason:e.handleOtherReason(e.state.declineReason),cancel_chat_message:e.state.declineChatMessage}}});case 3:n=a.sent,i=n.data.declineReservation,e.setState({loading:!1},function(){"DECLINED_BOOKING_SUCCESSFULL"===i.status?e.props.handleDeclineSuccess():e.props.handleErrorMessage(i.message)}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.handleError(a.t0,e.declineBooking);case 11:case"end":return a.stop()}},a,null,[[0,8]])})))},e.getGuestName=function(){var t=e.props.guest;return t?"".concat(t.firstname," ").concat(t.lastname?"".concat(t.lastname.charAt(0).toUpperCase(),"."):""):""},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},i.a.createElement(Oe.a,{variant:"button",className:e.declineButton,onClick:this.handleDeclineAlert.bind(this,!0)},"Decline"),i.a.createElement(Je.a,{open:this.state.showAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:e.cancelPopupTitle},"Are you sure you want to decline ".concat(this.getGuestName()," request?")),i.a.createElement(jn.a,{id:"alert-dialog-description"},"Declining too many requests may reduce yours pool's popularity and appearance in search results.")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleDeclineReasonPopup.bind(null,!0),autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.handleDeclineAlert.bind(this,!1)},"no"))),i.a.createElement(Je.a,{open:this.state.showDeclineReasonPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,{className:"inner-container"},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("div",{className:e.selectContainer},i.a.createElement(Oe.a,{variant:"h5",className:e.dropDownTitle},"Let us know the reason for declining in order to help us improve our platform"),i.a.createElement(oi.a,{className:e.selectDeclineReason,value:this.state.declineReason,onChange:this.onChangeDeclineReason,displayEmpty:!0},i.a.createElement(si.a,{value:""},"Select"),yt.map(function(e,t){return i.a.createElement(si.a,{value:e,key:"reason-".concat(t)},e)})),this.state.declineReason.match(/Other/)&&i.a.createElement("div",null,i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.otherDeclineReason,onChange:this.onChangeOtherReason,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"Decline Reason (min 10 characters)"}))),i.a.createElement("div",{className:e.popupButtons},i.a.createElement(Ae.a,{className:e.mainButton,disabled:this.disableDecline(),onClick:this.handleDeclineChatMessagePopup.bind(this,!0)},"Decline reservation request"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelBtn,onClick:this.handleDeclineReasonPopup.bind(this,!1)},"cancel"))))),i.a.createElement(Je.a,{open:this.state.showDeclineChatMessagePopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("p",null,"Last step! Send the Guest a quick message"),i.a.createElement("div",{className:e.blueBox},i.a.createElement("p",null,"Here you may explain to the guest ",i.a.createElement("br",null)," why will be declining the request"))),i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.declineChatMessage,onChange:this.onChangeDeclineChatMessage,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"(min 10 characters)"}),i.a.createElement("div",{className:e.popupButtons},i.a.createElement(Ae.a,{className:e.mainButton,disabled:this.disableCancelChatButton(),onClick:this.declineBooking},"Decline reservation request"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelBtn,onClick:this.handleDeclineChatMessagePopup.bind(this,!1)},"Cancel")))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component);var wr=C()(Object(T.withStyles)(function(e){return{container:{},declineButton:{marginLeft:"10px",padding:"10px 25px",background:"transparent",border:"1px solid lightgray",borderRadius:"6px",outline:"none",color:"#5e5e5e",transition:"all 0.1s ease","&:hover":{background:"transparent",color:"#323232"}},selectContainer:{marginTop:"20px"},dropDownTitle:{maxWidth:"300px",marginBottom:"10px",fontSize:"14px",fontWeight:400},selectDeclineReason:{width:"100%"},popupButtons:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"0px",marginTop:"20px",borderTop:"1px solid #fff","& span:last-child":{background:e.palette.common.transparent,color:e.palette.common.blue,fontSize:"12px"}},mainButton:{width:"100%",maxWidth:"260px",padding:"12px 20px","& span:last-child, span:first-child":{padding:"0",fontSize:"14px",color:"#fff"},"&:disabled":{opacity:"0.6"}},cancelBtn:{display:"inline-block",marginTop:"10px",padding:"5px"},blueBox:{margin:"10px 0",padding:"12px",border:"1px solid #00c8f0",color:"#00c8f0","& p":{margin:"0"}}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Sr,Object.assign({},t,e))});Sr.defaultProps={client:{},bookingData:{},guest:{},handleErrorMessage:function(){},handleDeclineSuccess:function(){}};function _r(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Er={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"approveReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"approveReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:116,source:{body:"mutation approveReservation($data:ReservationInput!){\n  approveReservation(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"preApproveReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"preApproveReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:134,source:{body:"mutation preApproveReservation($data:ReservationInput!){\n    preApproveReservation(data:$data){\n        status\n        message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Cr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"bookPoolMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BookPoolInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookPool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"booking_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"mutation bookPoolMutation($data:BookPoolInput!){\n    bookPool(data:$data){\n       status\n       booking_id\n       message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Tr=function(e){Object(h.a)(a,e);var t=_r(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1,disableBookingBtn:!1},e.getBookingButtonText=function(t){var a=e.props,n=a.chatDetails,i=a.isDefaultInstantBooking;if(t)return"Pre approve for guest";var o=n.last_booking.booking_status;return i&&7===o||8===o?"Book now":7===o?"Request to book":0===o?"Request sent!":void 0},e.handleBookingEvent=function(){var t=Object(m.a)(c.a.mark(function t(a){var n,i,o,r,s,l,d;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=22;break}if(n=e.props,i=n.isDefaultInstantBooking,!(o=n.chatDetails).last_booking||7!==o.last_booking.booking_status||i){t.next=19;break}return r=fe.findIndex(function(e){return e.time_insert===o.last_booking.to}),s=fe[r+1].time_insert,l={pool_id:o.last_booking.pool.id,date:gt()(o.last_booking.date).format("YYYY-MM-DD"),from:o.last_booking.from,to:s,adult_guests:parseInt(o.last_booking.adult_guests,10),children_guests:parseInt(o.last_booking.children_guests,10),infant_guests:parseInt(o.last_booking.infant_guests,10),booking_id:o.last_booking.id},t.prev=6,e.setState({loading:!0}),t.next=10,e.props.client.mutate({mutation:Cr,variables:{data:l}});case 10:d=t.sent,e.setState({loading:!1},function(){"BOOKING_SUCCESSFULL"===d.data.bookPool.status?e.props.clearChatDetails(_()(e.props.chatDetails,{last_booking:{booking_status:{$set:0}}})):e.props.handleErrorMessage(d.data.bookPool.message)}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),e.handleError(t.t0,e.handleBookingEvent.bind(Object(g.a)(e),a));case 17:t.next=20;break;case 19:e.props.history.push({pathname:"/payment/".concat(e.props.chatDetails.last_booking.pool.id),state:{bookingData:JSON.stringify(e.props.chatDetails.last_booking),from:"/conversations"}});case 20:t.next=23;break;case 22:e.preApproveBooking();case 23:case"end":return t.stop()}},t,null,[[6,14]])}));return function(e){return t.apply(this,arguments)}}(),e.handleError=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};console.log("error",t),e.setState({loading:!1},Object(m.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("Unauthenticated."!==Gt(t)){n.next=8;break}return n.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===n.sent&&a(),n.next=9;break;case 8:e.props.handleErrorMessage("Something went wrong.");case 9:case"end":return n.stop()}},n)})))},e.handleDeclineSuccess=function(){e.props.clearChatDetails(_()(e.props.chatDetails,{last_booking:{booking_status:{$set:2}}}))},e.preApproveBooking=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:Fr,variables:{data:{booking_id:e.props.chatDetails.last_booking.id}}});case 3:a=t.sent,n=a.data.preApproveReservation,e.setState({loading:!1},function(){"PRE_APPROVE_BOOKING_SUCCESSFULL"===n.status?e.props.clearChatDetails(_()(e.props.chatDetails,{last_booking:{booking_status:{$set:8}}})):e.props.handleErrorMessage(n.message)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0,e.preApproveBooking);case 11:case"end":return t.stop()}},t,null,[[0,8]])})))},e.approveBooking=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:Er,variables:{data:{booking_id:e.props.chatDetails.last_booking.id}}});case 3:a=t.sent,n=a.data.approveReservation,e.setState({loading:!1},function(){"APPROVE_BOOKING_SUCCESSFULL"===n.status?e.props.clearChatDetails(_()(e.props.chatDetails,{last_booking:{booking_status:{$set:1}}})):e.props.handleErrorMessage(n.message)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0,e.approveBooking);case 11:case"end":return t.stop()}},t,null,[[0,8]])})))},e.renderBookingButton=function(){var t=e.props,a=t.chatDetails,n=t.classes,o=t.user,r=t.isDefaultInstantBooking;if(a&&a.last_booking&&o){var s="Host"===o.roles[0].name&&+a.last_booking.swimmer_id!==+o.id,l=a.last_booking.booking_status;if(s&&0===l)return i.a.createElement("div",{className:n.bookingButtonContainer},i.a.createElement(Oe.a,{variant:"button",onClick:e.approveBooking},"Approve"),i.a.createElement(wr,{handleErrorMessage:e.props.handleErrorMessage,handleDeclineSuccess:e.handleDeclineSuccess,bookingData:a.last_booking,guest:a.conversation_with}));if(8===l&&!s||s&&0===l||7===l&&!r||7===l&&!s&&r)return i.a.createElement("div",{className:n.bookingButtonContainer},i.a.createElement(Oe.a,{className:e.state.disableBookingBtn?n.disabledFullWidth:n.fullWidth,variant:"button",onClick:function(){e.setState({disableBookingBtn:!0},function(){e.handleBookingEvent(s)})}},e.getBookingButtonText(s)));if(!s&&0===l)return i.a.createElement("div",{className:n.bookingButtonContainer},i.a.createElement(Oe.a,{className:n.disabledFullWidth,variant:"button"},e.getBookingButtonText(s)))}},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},this.renderBookingButton(),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);var Pr=C()(Object(T.withStyles)(function(){return{container:{display:"flex",justifyContent:"center","@media (max-width:767px)":{boxShadow:"5px 8px 5px 5px #000",backgroundColor:"#fff"}},fullWidth:{width:"100%"},disabledFullWidth:{width:"100%",background:"lightgray",cursor:"disable",pointerEvents:"none","&:hover":{background:"lightgray"}},bookingButtonContainer:{display:"flex",justifyContent:"center",padding:"15px 0 20px",width:"100%",maxWidth:"300px"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Tr,Object.assign({},t,e))});function Ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}Tr.defaultProps={client:{},clearChatDetails:function(){},handleErrorMessage:function(){}};var Dr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"chatDetailsUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"chatDetailsInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time_zone"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDetailsUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requested_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_host"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requested_time"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conversation_with"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"sender_info"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sender_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reciever_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"last_booking"},arguments:[{kind:"Argument",name:{kind:"Name",value:"time_zone"},value:{kind:"Variable",name:{kind:"Name",value:"time_zone"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"booking_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"room_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1108,source:{body:"query chatDetailsUpdate($data: chatDetailsInput!, $time_zone: String!){\n  chatDetailsUpdate(data: $data){\n    requested_booking\n    is_host\n    requested_time\n    conversation_with {\n      id\n      firstname\n      lastname\n      img_url\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    sender_info {\n      id\n      firstname\n      lastname\n      img_url\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    messages {\n      sender_id\n      reciever_id\n      message\n      created_at\n    }\n    last_booking (time_zone: $time_zone) {\n      id\n      date\n      adult_guests\n      children_guests\n      infant_guests\n      from\n      to\n      booking_status\n      swimmer_id\n      pool {\n        id\n        default_instant_booking\n        max_guests\n        instant_group_size\n      }\n    }\n    room_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Or={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"test"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"host_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hostPools"},arguments:[{kind:"Argument",name:{kind:"Name",value:"host_id"},value:{kind:"Variable",name:{kind:"Name",value:"host_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:174,source:{body:"query test($host_id: Int!){\n  hostPools (host_id: $host_id){\n    id\n    title\n    street_number\n    state\n    city\n    zip_code\n    images {\n      url\n      cover\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Rr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendMessageMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageStore"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"room_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117,source:{body:"mutation sendMessageMutation($data:MessageInput!){\n  messageStore(data:$data){\n  status\n    message\n    room_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ar={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263,source:{body:"query user($id: Int!){\n  user(id: $id){\n   \tid\n    firstname\n    lastname\n    img_url\n    roles {\n    \tname\n    }\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Br={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reservationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"booking_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service_fee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_credit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price_total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1153,source:{body:"query reservationDetails($id: Int!){\n  reservationDetails(id: $id){\n    booking_status\n    id\n    status\n    swimmer_review\n    pool {\n      id\n      title\n      description\n      street_number\n      state\n      city\n      full_address\n      special_access_instruction\n      zip_code\n      hourly_price\n      price_per_guest\n      price_per_guest_enabled\n      price_per_guest_min_capacity\n      createdBy{\n        firstname\n        lastname\n        stripe_id\n        id\n        img_url\n      }\n      images{\n        url\n        cover\n      }\n      cancellation_policy {\n        hours\n        discount\n        description\n      }\n    }\n    adult_guests\n    children_guests\n    infant_guests\n    reason_for_booking\n    reservation_price\n    service_fee\n    referral_credit\n    reservation_price_total\n    promocode_status\n    promocode {\n      off_type\n      promo_code\n      percent_off\n    }\n    user{\n      firstname\n      lastname\n    }\n    payment{\n      amount\n      payment_mode\n      refund\n\n    }\n    date\n    from\n    to\n    edited_fields {\n      date\n      from\n      to\n      adult_guests\n      children_guests\n      infant_guests\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Mr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"messageRead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reciever_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageRead"},arguments:[{kind:"Argument",name:{kind:"Name",value:"reciever_id"},value:{kind:"Variable",name:{kind:"Name",value:"reciever_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:115,source:{body:"mutation messageRead($reciever_id: Int!){\n  messageRead(reciever_id: $reciever_id){\n    status\n   \tmessage  \n  }\n} ",name:"GraphQL request",locationOffset:{line:1,column:1}}}};yr.a.locale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",ss:"%ss",m:"a minute",mm:"%dm",h:"an hour",hh:"%dh",d:"a day",dd:"%dd",M:"a month",MM:"%dM",y:"a year",yy:"%dY"}});var jr=function(e){Object(h.a)(a,e);var t=Ir(a);function a(e){var n;Object(p.a)(this,a),(n=t.call(this,e)).readMessage=function(e){n.props.client.mutate({mutation:Mr,variables:{reciever_id:e}}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==Gt(a)){t.next=6;break}return t.next=4,n.props.refreshToken(n.props.history);case 4:"ok"===t.sent&&n.readMessage(e);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},n.handleChatRules=function(){n.props.user&&!n.props.user.accept_chat_rules&&n.setState({user:n.props.user},function(){n.props.history.replace({pathname:"/chat-rules",state:{replaceTo:n.props.location.pathname}})})},n.clearChatDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.setState({chatDetails:e})},n.seeReservation=function(){var e=n.props.user;e&&e.roles&&"Host"===e.roles[0].name?n.props.history.push("/host-reservation"):n.props.history.push("/my-reservation")},n.getClassByStatus=function(e){switch(e){case 0:return"pending";case 1:return"approved";case 2:return"declined";case 3:return"confirmed";case 4:return"declined";case 5:return"cancelled";case 6:return"confirmed";case 7:return"empty";case 8:return"approved";default:return""}},n.handleErrorMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({errorMessage:e})},n.renderBookingMessage=function(){var e=n.props.classes,t=n.state.chatDetails;if(!(t&&t.last_booking&&ie.getAccessToken()))return null;var a="Host"===ie.getUserRole()&&+t.last_booking.swimmer_id!==+ie.getUserID(),o=t.last_booking.booking_status,r="";switch(o){case 0:r="Awaiting host approval";break;case 1:r="Awaiting guest confirmation";break;case 2:r="Request declined";break;case 3:r="Booking confirmed";break;case 5:r="Booking cancelled";break;case 8:r=a?"Awaiting guest confirmation":"Pre approved";break;default:r=""}if(0===o||1===o||2===o||3===o||5===o||7===o||8===o){var s=ui()(fe),l=s.find(function(e){return e.time_insert===t.last_booking.from}).timeNumber,d=s.find(function(e){return e.time_insert===t.last_booking.to}).timeNumber;d+=1,l=s.find(function(e){return e.timeNumber===l}).displayTime,d=s.find(function(e){return e.timeNumber===d}).displayTime;var c="".concat(yr()(t.last_booking.date).format("MMM DD, YYYY")," ").concat(l," - ").concat(d," | ").concat(Yt(t.last_booking));return i.a.createElement("div",null,n.state.errorMessage&&i.a.createElement("div",{className:e.errorMessageContainer},i.a.createElement("span",{className:"close",onClick:n.handleErrorMessage.bind(Object(g.a)(n),"")},"x"),i.a.createElement(Oe.a,{variant:"caption",component:"p",className:"message"},n.state.errorMessage)),i.a.createElement("div",{className:"".concat(e.bookingMessage," ").concat(n.getClassByStatus(o))},r?i.a.createElement("span",{className:e.hostSmallText,style:{color:"#FFF",textAlign:"center"}},r):null,i.a.createElement("span",{className:e.hostSmallText,style:{color:"#FFF",textAlign:"center"}},c)))}},n.renderHeaderButton=function(){return i.a.createElement("p",{className:n.props.classes.seeReservationButton,onClick:n.seeReservation},"See reservations")};var o=n.props.chatDetails||{},r=o.receiverId,s=void 0===r?"":r,l=o.receiverFirstName,d=void 0===l?"":l,u=o.receiverLastName,v=void 0===u?"":u,h=o.senderId,f=void 0===h?null:h,k=o.receiverAvatar,b=void 0===k?"":k,y=o.senderAvatar,x=void 0===y?"":y,N=o.senderVerifications,S=void 0===N?[]:N,w=o.receiverVerifications,_=void 0===w?[]:w;return n.state={conversationList:[],message:"",receiverId:s,receiverDetails:{firstname:d,lastname:v,img_url:b,verifications:_},senderDetails:{id:f,img_url:x,verifications:S},seePoolStatus:!1,hostPoolList:[],loading:!1,requestedBooking:!1,lastName:" "+v.charAt(0).toUpperCase(),chatDetails:null,isDefaultInstantBooking:!1,user:null,communicatorIsTyping:!1},n.handleMessage=n.handleMessage.bind(Object(g.a)(n)),n.sendMessage=n.sendMessage.bind(Object(g.a)(n)),n.redirectToMessages=n.redirectToMessages.bind(Object(g.a)(n)),n.handleSeePool=n.handleSeePool.bind(Object(g.a)(n)),n.handleHidePool=n.handleHidePool.bind(Object(g.a)(n)),n.handleNewMessage=n.handleNewMessage.bind(Object(g.a)(n)),n.handleNewReservation=n.handleNewReservation.bind(Object(g.a)(n)),n.handleStatusChange=n.handleStatusChange.bind(Object(g.a)(n)),n.channel="",n.whisperChannel=null,n.reservationChannel="",n.reservationChannelHost="",n.cancelTypingTimer=null,n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=ie.getLatestChats(),a=t.findIndex(function(t){return t.receiverId.toString()===e.state.receiverId.toString()});-1!==a&&t[a].messages.length?this.setState({conversationList:t[a].messages,loading:!1},function(){var t=document.getElementById("messages");e.scrollToBottom(t)}):this.setState({loading:!0})}},{key:"componentDidMount",value:function(){var e=this;this.handleChatRules();var t=ie.getAccessToken(),a=this.props.history;if(null!==t&&""!==t){var n=ie.getMessageReceiverId();if(null!==n&&""!==n&&this.props.user)this.setState({receiverId:n}),this.readMessage(n),"pool-details"===ie.getBackBtnLink()?(this.props.client.query({query:Ar,variables:{id:parseInt(n)},fetchPolicy:"network-only"}).then(function(t){void 0!==t.data.user.lastname&&null!==t.data.user.lastname&&""!==t.data.user.lastname?t.data.user.lastname=" "+t.data.user.lastname.charAt(0).toUpperCase():t.data.user.lastname=".",e.setState({receiverDetails:t.data.user,lastName:t.data.user.lastname,loading:!1})}).catch(function(t){e.setState({loading:!1})}),ie.removeBackBtnLink(),this.handleSeePool()):this.renderCovertions(n).then(function(t){e.channel="room.".concat(t),e.whisperChannel=e.props.echo.join(e.channel),console.log("Chat room",e.channel),e.props.echo.join(e.channel).here(function(e){console.log("here",e)}).joining(function(e){console.log("joining",e)}).leaving(function(e){console.log("leaving",e)}).listen(".message.created",function(t){e.handleNewMessage(t)}).listenForWhisper("typing",function(t){e.state.communicatorIsTyping||e.setState({communicatorIsTyping:!0}),clearTimeout(e.cancelTypingTimer),e.cancelTypingTimer=setTimeout(function(){e.setState({communicatorIsTyping:!1})},700)}),e.reservationChannel="reservation.".concat(e.props.user.id),e.props.echo.private(e.reservationChannel).listen(".booking.created",function(t){e.handleNewReservation(t)}).listen(".booking.updated",function(t){e.handleStatusChange(t)}),e.reservationChannelHost="reservation.".concat(e.props.user.id),e.props.echo.private(e.reservationChannelHost).listen(".booking.created.host",function(t){e.handleNewReservation(t)}).listen(".booking.updated.host",function(t){e.handleStatusChange(t)})});else a.push("/messages")}else ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),a.push("/")}},{key:"componentDidUpdate",value:function(e){this.state.user||this.props.user===e.user||this.handleChatRules()}},{key:"componentWillUnmount",value:function(){var e=this,t=ie.getLatestChats(),a={messages:ft.a.cloneDeep(this.state.conversationList).splice(0,10),receiverId:this.state.receiverId},n=t.findIndex(function(t){return t.receiverId===e.state.receiverId});t.length>=10&&t.pop(),-1!==n&&t.splice(n,1),t.unshift(a),ie.setLatestChats(t),clearTimeout(this.cancelTypingTimer),this.props.echo&&(this.props.echo.leave(this.channel),this.props.echo.leave(this.reservationChannel),this.props.echo.leave(this.reservationChannelHost))}},{key:"handleNewMessage",value:function(e){var t=this;console.log("new message",e),e.message.id=e.message.id.toString(),e.message.reciever_id=e.message.reciever_id.toString(),e.message.sender_id=e.message.sender_id.toString(),"temporary"===this.state.conversationList[0].id&&this.setState({conversationList:_()(this.state.conversationList,{$splice:[[0,1]]})}),this.setState({conversationList:_()(this.state.conversationList,{$unshift:[e.message]},function(){var e=document.getElementById("messages");t.scrollToBottom(e)})})}},{key:"handleNewReservation",value:function(e){console.log("new reservation",e),e.user.id.toString()!==this.state.chatDetails.conversation_with.id&&this.props.user.id!==this.state.chatDetails.conversation_with.id||(e.booking_status=e.status,this.setState({chatDetails:_()(this.state.chatDetails,{last_booking:{$set:e}})}))}},{key:"handleStatusChange",value:function(e){console.log("new status",e),e.booking_id&&(e.booking=e.booking_id),this.state.chatDetails.last_booking&&e.booking===this.state.chatDetails.last_booking.id&&this.setState({chatDetails:_()(this.state.chatDetails,{last_booking:{booking_status:{$set:e.status}}})})}},{key:"renderCovertions",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,receiverId:t}),e.abrupt("return",this.props.client.query({query:Dr,variables:{data:{reciever_id:parseInt(t)},time_zone:yr.a.tz.guess()},fetchPolicy:"network-only"}).then(function(){var e=Object(m.a)(c.a.mark(function e(t){var n,i,o,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data.chatDetailsUpdate,i=void 0!==n.conversation_with.lastname&&null!==n.conversation_with.lastname&&""!==n.conversation_with.lastname?" "+n.conversation_with.lastname.charAt(0).toUpperCase():".",!(o=a.props.location.state&&a.props.location.state.bookingId)){e.next=10;break}return e.next=6,a.props.client.query({query:Br,variables:{id:o},fetchPolicy:"no-cache"});case 6:r=e.sent,s=r.data.reservationDetails,n.last_booking=s,n.last_booking.booking_status=s.status;case 10:return a.setState({conversationList:n.messages.slice().reverse(),receiverDetails:n.conversation_with,lastName:i,requestedBooking:n.requested_booking,is_host:n.is_host,senderDetails:n.sender_info,loading:!1,chatDetails:n},function(){var e=document.getElementById("messages");a.scrollToBottom(e);var t=a.state.chatDetails;if(t.last_booking){var n=t.last_booking.adult_guests+t.last_booking.children_guests,i=t.last_booking.pool.default_instant_booking&&t.last_booking.pool.instant_group_size>=n&&t.last_booking.pool.max_guests>=n;a.setState({isDefaultInstantBooking:i})}}),e.abrupt("return",n.room_id);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(m.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({loading:!1}),"Unauthenticated."!==Gt(n)){e.next=7;break}return e.next=5,a.props.refreshToken(a.props.history);case 5:"ok"===e.sent&&a.renderCovertions(t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleMessage",value:function(e){var t=this;if(this.whisperChannel&&!this.waitForTimeout){var a=null;this.waitForTimeout=!0,this.whisperChannel.whisper("typing",{user:this.state.senderDetails.id}),clearTimeout(a),a=setTimeout(function(){t.waitForTimeout=!1},200)}this.setState({message:e.target.value})}},{key:"sendMessage",value:function(e){var t=this,a=this.state,n=a.message,i=a.receiverId;if(e.preventDefault(),""!==n){this.setState({message:"",conversationList:_()(this.state.conversationList,{$unshift:[{message:n,id:"temporary",sender_id:this.state.senderDetails.id,reciever_id:i}]})},function(){var e=document.getElementById("messages");t.scrollToBottom(e)});var o={reciever_id:parseInt(i),message:n};this.setState({loading:!0}),this.props.client.mutate({mutation:Rr,variables:{data:o}}).then(function(e){t.renderCovertions(i),t.setState({loading:!1,message:""})}).catch(function(e){var a=Gt(e);t.setState({loginFailError:a,loading:!1})})}}},{key:"scrollToBottom",value:function(e){e.scrollTop=e.scrollHeight}},{key:"redirectToMessages",value:function(){this.props.echo.leave(this.channel),this.props.echo.leave(this.reservationChannel),this.props.echo.leave(this.reservationChannelHost);var e=this.props.history,t=ie.getBackBtnLink(),a="messages";if("reservation"===t)a="Host"===ie.getUserRole()?"/host-reservation":"/my-reservation";else if("pool-details-long"===t){var n=ie.getPoolId();a=n.length>0?"/pooldetails/"+n:"messages"}else"string"===typeof t&&t.match(/contact-host/)&&(a=t);ie.removeBackBtnLink(),e.push(a)}},{key:"handleSeePool",value:function(){var e=this,t=ie.getMessageReceiverId();this.setState({loading:!0,seePoolStatus:!0}),this.props.client.query({query:Or,variables:{host_id:parseInt(t)},fetchPolicy:"network-only"}).then(function(t){if(1===t.data.hostPools.length){var a=e.props.history,n=t.data.hostPools[0].id;a.push("/payment/"+n)}else e.setState({hostPoolList:t.data.hostPools,loading:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.handleSeePool();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"handleHidePool",value:function(){this.setState({seePoolStatus:!1})}},{key:"redirectToPoolDetails",value:function(e){var t=this.props.history;ie.setBackBtnLink("messages"),t.push("/pooldetails/"+e)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.conversationList,o=a.message,r=a.lastName,s=a.receiverDetails,l=a.senderDetails,d=a.hostPoolList,c=a.seePoolStatus,m=a.loading;n=n.slice().reverse();var u="",p="";return void 0!==s.firstname&&(u=s.firstname+r,p=s.firstname+r+".'s Pools",u=u.substring(0,30)+".",p=p.substring(0,30)),i.a.createElement("div",{className:t.container},!0!==m||n.length?"":i.a.createElement(ut,{loading:m}),i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:t.messagesBlock},i.a.createElement("div",{className:t.backButton,onClick:this.redirectToMessages},i.a.createElement("i",{className:"fa fa-angle-left"})," back"),!0!==c?i.a.createElement("div",null,i.a.createElement("div",{className:t.topHeaderChat+" "+t.seePoolsBtn},i.a.createElement(Oe.a,{variant:"h2"},u),this.renderHeaderButton()),this.renderBookingMessage(),i.a.createElement("div",{className:t.convertionBox},i.a.createElement("ul",{id:"messages"},n.map(function(e,a){var n=e.message.replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gim," Email address not shown ").replace(/[+]*[ ()-\s0-9]{10,15}/g," Phone number not shown "),o=yr.a.utc(e.created_at),r=yr()(new Date),d=o.from(r),c="";return(e.message.includes("{Host}")||e.message.includes("{Swimmer}")||e.message.includes("{with_date}"))&&l.id===e.reciever_id&&(c=e.message.includes("{Host}")?e.message.replace("{Host}",s.firstname+" "+s.lastname+"."):e.message.includes("{Swimmer}")?e.message.replace("{Swimmer}",s.firstname+" "+s.lastname+"."):e.message.replace("{with_date}","")),i.a.createElement("div",{key:a},e.message.includes("{Host}")||e.message.includes("{Swimmer}")||e.message.includes("{with_date}")?l.id===e.reciever_id?i.a.createElement("p",{className:t.requestedBookingLine},i.a.createElement("span",null,c)):"":e.sender_id!==l.id?i.a.createElement("li",null,i.a.createElement(io,{user:s,containerClass:"".concat(t.avatarContainer," margin-right"),className:t.avatar,verifiedIconSize:"small",alt:"Avatar",src:s.img_url||window.location.origin+"/img/profile-icon.png"}),i.a.createElement("span",{className:t.breakWord},n,i.a.createElement("font",null,d)),i.a.createElement("div",{className:t.arrowMessageleft})):i.a.createElement("li",{className:t.divpullRight},i.a.createElement("span",{className:t.breakWord},n,i.a.createElement("font",null,d)),i.a.createElement("div",{className:t.arrowMessageRight}),i.a.createElement(io,{user:l,containerClass:"".concat(t.avatarContainer," margin-left"),className:t.avatar,verifiedIconSize:"small",alt:"Avatar",src:l.img_url||window.location.origin+"/img/profile-icon.png"})))})),i.a.createElement("form",{onSubmit:this.sendMessage},i.a.createElement("div",{className:t.chatBox},i.a.createElement("font",{className:t.typingLabel},this.state.communicatorIsTyping?"typing...":""),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"Type your message here...",type:"text",name:"message",multiline:!0,variant:"outlined",value:o,onChange:this.handleMessage}),i.a.createElement("img",{src:""===o?window.location.origin+"/img/sendbtn.png":window.location.origin+"/img/sendbtn3.png",alt:"",onClick:this.sendMessage})),i.a.createElement(Pr,{chatDetails:this.state.chatDetails,isDefaultInstantBooking:this.state.isDefaultInstantBooking,clearChatDetails:this.clearChatDetails,handleErrorMessage:this.handleErrorMessage})))):i.a.createElement("div",{className:t.seePools},i.a.createElement("div",{className:t.topHeaderChat},i.a.createElement(Oe.a,{variant:"h2"}," ",p),i.a.createElement("span",{onClick:this.handleHidePool},"HIDE POOLS")),d&&0!==d.length?d.map(function(a,n){var o=ft.a.filter(a.images,{cover:!0});return o=o.length>=1?o[0].url:"",i.a.createElement("div",{className:t.seepollsBoxNew,key:n},i.a.createElement("span",{className:t.poolImage,onClick:e.redirectToPoolDetails.bind(e,a.id)},i.a.createElement("div",null,i.a.createElement("img",{alt:"",src:""===o?window.location.origin+"/img/default-pool.png":o}))),i.a.createElement("div",{className:t.seePoolsContent},i.a.createElement("span",{onClick:e.redirectToPoolDetails.bind(e,a.id)},i.a.createElement("div",null,a.title)),i.a.createElement("div",null,i.a.createElement("p",null,""!==a.city&&null!==a.city?a.city+", ":""," ",""!==a.state&&null!==a.state?a.state+", ":""," ","00000"!==a.zip_code?""+a.zip_code:"")),i.a.createElement("span",{onClick:e.redirectToPoolDetails.bind(e,a.id)},i.a.createElement(Oe.a,{variant:"button"},"View Details"))))}):i.a.createElement(Oe.a,{variant:"h5"}," No pools available.")))))}}]),a}(i.a.Component);var Lr=C()(Object(T.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",background:"#f2f2f2",minHeight:"calc(100vh - 56px)"}},hostSmallText:{fontSize:13,fontFamily:"'Poppins', sans-serif"},bookingMessage:{flexDirection:"column",backgroundColor:"#FBC531",padding:10,display:"flex",width:"100%",margin:"25px 0 0",justifyContent:"center",borderRadius:5,boxSizing:"border-box","&.pending, .approved":{background:"#f99f6c"},"&.declined":{background:"#f04d50"},"&.confirmed":{background:"green"},"&.cancelled":{background:"#7b868c"},"&.empty":{backgroundColor:"#FBC531"},"@media (max-width:767px)":{position:"fixed",top:88,left:0,zIndex:6,borderRadius:0}},messagesBlock:{paddingTop:"35px",maxWidth:"600px","& h2":{display:"inline-block"},"& h2 + span":{fontSize:"13px",fontWeight:"500",verticalAlign:"middle",paddingLeft:"0px",color:e.palette.common.blue,textTransform:"uppercase",float:"right",marginTop:"8px",cursor:"pointer"},"@media (max-width:767px)":{paddingTop:"0"}},convertionBox:{width:"calc(100% - 30px)",maxWidth:"600px",minHeight:"300px",background:"#f5f7f6",borderRadius:"25px",marginTop:"20px",marginBottom:"20px",padding:"20px 20px 10px","@media (max-width:767px)":{width:"100%",margin:"0 -15px",borderRadius:"0",minHeight:" calc(100vh - 137px)","& form":{position:"fixed",width:"100%",left:"0",bottom:"-10px"}},"& ul":{listStyle:"none",paddingLeft:"0",maxHeight:"300px",overflow:"auto",minHeight:"300px","@media (max-width:767px)":{minHeight:"calc(100vh - 230px)",paddingTop:"120px"},"& > div:last-child":{paddingBottom:"70px",display:"table",width:"100%"},"& figure":{margin:"0 15px 0 0",width:"40px",height:"40px","& img":{position:"absolute",bottom:"-25px",maxWidth:"40px",borderRadius:"50%",width:"35px",height:"35px",left:"10px","@media (max-width:767px)":{left:"0",width:"40px",height:"40px"}}},"& li":{display:"flex",alignItems:"start",position:"relative",marginBottom:"45px",clear:"both","& span":{display:"block",background:"#fff",width:"auto",padding:"15px",fontSize:"12px",maxWidth:"360px",borderRadius:"10px",boxShadow:"-1px 4px 9px 0px #ccc",position:"relative",minWidth:"200px","@media (max-width:767px)":{minWidth:"calc(100% - 90px)",maxWidth:"calc(100vw - 125px)"},"& font":{position:"absolute",bottom:"-27px",left:"15px",color:e.palette.common.black}}}}},divpullRight:{float:"right","@media (max-width:767px)":{float:"none "},"& figure":{margin:"0 0 0 20px !important",width:"60px",height:"60px","& img":{left:"inherit !important",right:"16px","@media (max-width:767px)":{right:"6px"}}},"& span":{background:"#22bfea !important",color:"#fff","& font":{textAlign:"right",right:"15px"}}},arrowMessageleft:{content:"",position:"absolute",borderTop:"26px solid transparent",borderLeft:"25px solid transparent",borderRight:"25px solid #fff",left:"11px",bottom:"-11px",transform:" rotate(-44deg)"},arrowMessageRight:{content:"",position:"absolute",borderTop:"26px solid transparent",borderLeft:"25px solid #22bfea",borderRight:"25px solid transparent",right:"31px",bottom:"-12px",transform:" rotate(42deg)"},backButton:{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",paddingBottom:"5px",cursor:"pointer","& i":{fontSize:"18px",verticalAlign:"middle",paddingRight:"2px",marginTop:"-2px"},"@media (max-width:767px)":{position:"fixed",width:"15px",height:"20px",overflow:"hidden",marginTop:"16px",color:e.palette.common.black,zIndex:99,top:"55px","& i":{fontSize:"20px"}}},chatBox:{position:"relative",width:"100%",display:"block",clear:"both","& > div":{width:"100%",position:"relative",marginTop:"40px","& > div":{"& fieldset":{borderColor:"transparent !important"}}},"& > div > div":{background:"#fff",padding:"18px 35px 18px 15px",fontSize:"13px"},"& img":{right:"9px",position:"absolute",fontSize:"20px",maxWidth:"40px",top:"30px",bottom:"0",margin:"auto",cursor:"pointer"}},seePools:{background:"#fff","& h2":{marginBottom:"20px"},"& img":{width:"100%"},"& > div":{padding:"0",borderRadius:"15px",overflow:"hidden",boxShadow:"0 0 3px #ccc"},"@media (max-width:767px)":{background:"#f2f2f2",paddingTop:"55px","& > div":{boxShadow:"none",marginBottom:"25px",borderRadius:"0"}}},seePoolsBtn:{display:"flex",alignItems:"center",justifyContent:"space-between","& h2 + span":{color:"#fff",padding:"6px 13px"}},seePoolsContent:{padding:"10px 20px 20px","& div:first-child":{fontSize:"20px",marginBottom:"0",color:e.palette.common.black,fontWeight:"500",cursor:"pointer"},"& div:nth-child(2)":{marginBottom:"20px",marginTop:"2px"},"& span":{display:"inline-block",padding:"8px 35px",fontWeight:"500"},"& > span":{display:"inline-block",padding:"8px 0px",fontWeight:"500"},"@media (max-width:767px)":{paddingLeft:"0","& div:nth-child(2)":{marginBottom:"0"},"& > span":{paddingBottom:"0"}}},poolImage:{cursor:"pointer"},requestedBookingLine:{textAlign:"center",width:"calc(100% - 40px)",clear:"both",display:"table",background:"url(../img/line.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginLeft:"auto",marginRight:"auto","& span":{marginLeft:"auto",marginRight:"auto",position:"relative",background:"#f7f8f7",padding:"10px 15px",fontSize:"12px",textTransform:"uppercase"},"@media (max-width:767px)":{width:"calc(100% - 0px)","& span":{fontSize:"10px"}}},topHeaderChat:{boxShadow:"none !important","@media (max-width:767px)":{background:" #fff",margin:"0 -15px",padding:" 17px 15px 15px 8px !important",boxShadow:" 0 0 3px #ccc",borderRadius:"0 !important",borderBottom:" 2px solid #dadcdb",position:"fixed",width:"calc(100% - 23px)",zIndex:"9",top:"55px","& h2":{fontSize:"16px",paddingLeft:"23px",marginBottom:"0"},"& h2 + span":{marginTop:"0"}}},seepollsBoxNew:{marginBottom:"25px","@media (max-width:767px)":{marginTop:"25px"}},seeReservationButton:{display:"inline-block",margin:"0",fontSize:"16px",color:e.palette.common.blue,transition:"all 0.2s ease",cursor:"pointer","&:hover":{opacity:"0.9"}},errorMessageContainer:{marginTop:"5px",position:"relative","& *":{boxSizing:"border-box"},"& .close":{position:"absolute",top:"2px",right:"3px",display:"inline-block",padding:"2px 10px",fontSize:"18px",color:e.palette.error.light,cursor:"pointer"},"& .message":{width:"100%",maxWidth:"100%",padding:"15px 20px 15px 15px"}},avatarContainer:{position:"relative",bottom:"-40px",maxWidth:"40px","&.margin-right":{margin:"0 10px 0 0"},"&.margin-left":{margin:"0 20px 0 10px"}},avatar:{width:"35px",height:"35px"},typingLabel:{color:"#90979e",position:"absolute",padding:"0 20px",fontStyle:"italic",fontSize:14,fontFamily:"'Poppins', sans-serif"},breakWord:{overflowWrap:"break-word"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa),o=Object(n.useContext)(lr);return i.a.createElement(jr,Object.assign({},t,a,o,e))}),Wr=a(81),zr=a.n(Wr),Ur=a(76),Hr=a.n(Ur),Gr=a(107);function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var qr=function(e){Object(h.a)(a,e);var t=Yr(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleNamechange=function(e){var t=e.target.value;""!==t.trim()&&null!==t.trim()?n.setState({cname:!0,name:e.target.value}):n.setState({cname:!1,name:e.target.value})},n.handlenumber=function(e){!0===e.complete?n.setState({cnumber:!0}):n.setState({cnumber:!1})},n.handlecvv=function(e){!0===e.complete?n.setState({ccvv:!0}):n.setState({ccvv:!1})},n.handleexpiry=function(e){!0===e.complete?n.setState({cexpiry:!0}):n.setState({cexpiry:!1})},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,i=t.cnumber,o=t.ccvv,r=t.cexpiry;if(!0===i&&!0===o&&!0===r){if(!n.validateCardHolderName())return;n.setState({loading:!0})}n.props.stripe.createToken({type:"card",name:a}).then(function(e){e.error?(n.validateCardHolderName(),n.props.showErrorMessage(e.error.message)):(ie.setSwimmerCountry(le?"US":"AU"),n.props.submitCardDetails({token:e.token.id}))})},n.state={name:"",cnumber:!1,ccvv:!1,cexpiry:!1,cardnumber:"",loading:!1,showCardHolderNameError:!1,showFormErrorMessage:!1},n.validateCardHolderName=n.validateCardHolderName.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"validateCardHolderName",value:function(){var e=!1;return Ut(this.state.name)&&(e=!0),this.setState({showCardHolderNameError:!0===e}),!0!==e}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.updatePayment,n=this.state,o=n.name,r=n.cnumber,s=n.ccvv,l=n.cexpiry,d=n.showCardHolderNameError,c=!0;return!0===r&&!0===r&&!0===s&&!0===l&&""!==o&&(c=!1),i.a.createElement(Oe.a,{variant:"body1",component:"div",className:t.paymentForm},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("label",{className:t.cardnumberlabel},"CARD NUMBER"),i.a.createElement(Gr.CardNumberElement,{className:t.cardnumber,onChange:this.handlenumber,placeholder:"**** **** **** ****"}),i.a.createElement("div",{className:t.formInputBox},i.a.createElement("label",null,"Card Holder"),i.a.createElement(Xe.a,{className:!1===d?t.textField:t.errorMessage,type:"text",placeholder:"Name on card",name:"name",autoComplete:"off",margin:"normal",variant:"outlined",value:o,onChange:this.handleNamechange,onBlur:this.validateCardHolderName})),i.a.createElement("div",{className:t.expiry},i.a.createElement("div",{className:t.expirydate},i.a.createElement("label",{className:t.cardnumberlabel},"EXPIRY DATE"),i.a.createElement(Gr.CardExpiryElement,{className:t.cardnumber,name:"carexpiry",onChange:this.handleexpiry})),i.a.createElement("div",{className:t.cvv},i.a.createElement("label",{className:t.cardnumberlabel},"CVC"),i.a.createElement(Gr.CardCvcElement,{className:t.cardnumber,name:"cardcvv",onChange:this.handlecvv}))),i.a.createElement("div",{className:t.signupBtn+" "+(c&&t.signupDisableBtn)},i.a.createElement(Oe.a,{variant:"button",component:"button"},!0===a?"Update Payment Information":"Enter Payment Information"))))}}]),a}(i.a.Component),Vr=C()(Object(T.withStyles)(function(e){return{formInputBox:{marginTop:12,"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px",maxWidth:"450px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"14px",paddingBottom:"3px",color:e.palette.common.black,fontWeight:"500",display:"table"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"14px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},signupBtn:{marginBottom:"15px","& button":{display:"inline-block",padding:"8px 45px",marginTop:"20px",borderColor:"transparent"},"@media (max-width:767px)":{"& button":{display:"block",marginBottom:"45px",borderColor:"transparent"}}},signupDisableBtn:{"& button":{background:"#ccc",marginTop:"25px",borderColor:"transparent",pointerEvents:"none"},"& button:hover":{background:"#ccc",cursor:"default",borderColor:"transparent"},"@media (max-width:767px)":{"& button":{display:"block",marginBottom:"50px",borderColor:"transparent"}}},paymentMethod:{paddingTop:"10px",margin:"0 -15px","& > div:first-child":{margin:"10px 0"},"&  a":{color:e.palette.common.blue,textDecoration:"none"}},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}},paymentForm:{position:"relative",maxWidth:"450px",marginBottom:"15px"},cardnumber:{padding:"10px 15px",background:"#f3f5f5",borderRadius:5,"& :focus":{border:"1px solid #00ade2"}},cardnumberlabel:{color:"#232323",display:"table",fontSize:"14px",fontWeight:500,paddingBottom:3},expiry:{display:"flex",maxWidth:" 450px"},expirydate:{width:"50%",paddingRight:"15px"},cvv:{width:"50%"}}})),$r=Object(Gr.injectStripe)(Vr(qr));function Qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Kr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveCardDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CardDetailsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveCardDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:141,source:{body:"mutation saveCardDetails($data: CardDetailsInput!){\n    saveCardDetails(data:$data){       \n        card_brand\n        card_last_four\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Jr=function(e){Object(h.a)(a,e);var t=Qr(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={poolId:0,creaditDebit:"creaditDebit",loading:!1,errorMessage:"",stripeKey:ce},n.handleCreditDebit=n.handleCreditDebit.bind(Object(g.a)(n)),n.showErrorMessage=n.showErrorMessage.bind(Object(g.a)(n)),n.submitCardDetails=n.submitCardDetails.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=ie.getPoolId();this.setState({poolId:e})}},{key:"handleCreditDebit",value:function(e){this.setState({creaditDebit:e.target.value})}},{key:"showErrorMessage",value:function(e){this.setState({loading:!1,errorMessage:e})}},{key:"submitCardDetails",value:function(e){var t=this,a=this.props.bookingId;e.booking_id=a,this.setState({loading:!0}),this.props.client.mutate({mutation:Kr,variables:{data:e}}).then(function(e){t.props.handlePaymentMethod(e.data),t.setState({loading:!1})}).catch(function(e){t.setState({loading:!1,errorMessage:"Invalid card information"})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.bookingId,n=e.updatePayment,o=this.state,r=o.loading,s=o.creaditDebit,l=o.errorMessage;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===r?i.a.createElement(ut,{loading:r}):"",""===a?"":i.a.createElement(Oe.a,{variant:"caption",component:"p",className:t.bookingIdError},"Your payment failed to process. Please submit new payment information for this booking."),""===l?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},l),i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.paymentMethod},i.a.createElement("div",{className:t.radioMethod},i.a.createElement(Hr.a,{component:"fieldset",className:t.formControlRadio},i.a.createElement(zr.a,{checked:"creaditDebit"===s,classes:{root:t.checkBox,checked:t.checked},value:"creaditDebit",onChange:this.handleCreditDebit})),i.a.createElement("span",{className:t.radioBtnLabel},"Credit or debit card"," ")),i.a.createElement(Gr.StripeProvider,{apiKey:this.state.stripeKey},i.a.createElement("div",{className:"example"},i.a.createElement(Gr.Elements,null,i.a.createElement($r,{showErrorMessage:this.showErrorMessage,submitCardDetails:this.submitCardDetails,updatePayment:n})))))))}}]),a}(i.a.Component),Zr=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},checkBox:{paddingLeft:"0",paddingRight:"7px","& span":{paddingLeft:"0"},color:e.palette.common.darkgray,"&$checked":{color:e.palette.common.blue}},checked:{},signupBtn:{marginBottom:"15px","& span":{display:"inline-block",padding:"8px 45px",marginTop:"20px"},"@media (max-width:767px)":{"& span":{display:"block",marginBottom:"45px"}}},signupDisableBtn:{"& span":{background:"#ccc",marginTop:"25px"},"& span:hover":{background:"#ccc",cursor:"default"},"@media (max-width:767px)":{"& span":{display:"block",marginBottom:"50px"}}},paymentMethod:{paddingTop:"10px",margin:"0 -15px","& > div:first-child":{margin:"10px 0"},"&  a":{color:e.palette.common.blue,textDecoration:"none"}},radioBtnLabel:{paddingTop:"14px",display:"inline-block",color:e.palette.common.black,fontWeight:"500"},bookingIdError:{background:"#fdece2",color:"#f06b2c",maxWidth:"550px"}}}),je.a,b.b)(Jr);function Xr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var es={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ts=function(e){Object(h.a)(a,e);var t=Xr(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getProfileDetails=Object(m.a)(c.a.mark(function e(){var t,a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(t=ie.getPaymentFromId())&&JSON.parse(t),e.next=5,n.props.client.query({query:es,fetchPolicy:"network-only"});case 5:a=e.sent,i=a.data.me,n.setState({cardBrand:i.card_brand,cardLastFourDigit:i.card_last_four,loading:!1},function(){t&&"my-reservations"===t.from&&n.addNewPaymentMethod()}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n.setState({loading:!1},Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==Gt(e.t0)){t.next=6;break}return t.next=4,n.props.refreshToken(n.props.history);case 4:"ok"===t.sent&&n.getProfileDetails();case 6:case"end":return t.stop()}},t)})));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),n.goBack=function(){n.state.fromPage?n.props.history.push("/my-reservation"):n.props.history.goBack()},n.state={poolId:0,cardBrand:"",cardLastFourDigit:"",loading:!1,updatePayment:!1},n.addNewPaymentMethod=n.addNewPaymentMethod.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=ie.getPaymentFromId(),t="",a="";null!==e&&""!==e&&(t=(e=JSON.parse(e)).booking_id,a=e.from);var n=ie.getPoolId(),i=ie.getCardBrand(),o=ie.getCardLastFourDigit();this.setState({poolId:n,cardBrand:i,cardLastFourDigit:o,loading:!0,bookingId:t,fromPage:a}),this.getProfileDetails()}},{key:"handlePaymentMethod",value:function(e){var t=this.state,a=t.poolId,n=t.fromPage,i=this.props,o=i.history,r=i.location;ie.setCardBrand(e.saveCardDetails.card_brand),ie.setCardLastFourDigit(e.saveCardDetails.card_last_four),r&&r.state&&r.state.needGoBackAfterUpdate?o.goBack():"my-reservations"===n?(ie.removePaymentFromId(),o.push("/my-reservation")):a?o.push("/payment/"+a):o.goBack()}},{key:"addNewPaymentMethod",value:function(){this.setState({cardLastFourDigit:"",updatePayment:!0})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.poolId,o=t.bookingId,r=t.cardLastFourDigit,s=t.cardBrand,l=t.updatePayment,d="**** **** **** "+r;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.paymentMethod},i.a.createElement("p",{className:"link",onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left"})," BACK"),i.a.createElement(Oe.a,{variant:"h2"},!0===l?"Update your payment method":"Choose a payment method"),i.a.createElement("p",null,"You won't be charged until your booking is confirmed"),null===r||""===r?i.a.createElement(Zr,{poolId:n,bookingId:o,updatePayment:l,handlePaymentMethod:this.handlePaymentMethod.bind(this)}):i.a.createElement("div",{className:e.cardDisplay},i.a.createElement(Xe.a,{id:"card-number",className:e.textField,type:"text",name:"pool",autoComplete:"",margin:"normal",variant:"outlined",value:d,disabled:!0}),"MasterCard"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/mastercard.png"}):"","Visa"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/visa-card.png"}):"","American Express"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/american.png"}):"","Discover"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/discover.png"}):"","Diners Club"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/dinnerclub.png"}):"","JCB"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/jcb.png"}):"","UnionPay"===s?i.a.createElement("img",{alt:"",src:window.location.origin+"/img/cards/union.png"}):"",i.a.createElement("div",{onClick:this.addNewPaymentMethod}," Update your payment method ")))))}}]),a}(i.a.Component);var as=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"15px",maxWidth:"450px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"14px",paddingBottom:"5px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"14px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},paymentCard:{display:"flex",maxWidth:"450px","& > div":{paddingRight:"15px",width:"50%"},"& > div:last-child":{paddingRight:"0",width:"20%"}},signupBtn:{marginBottom:"15px","& span":{display:"inline-block"}},paymentMethod:{paddingTop:"40px","& p":{fontSize:"12px",marginBottom:"0"},"&  a, p.link":{color:e.palette.common.blue,marginTop:"20px",display:"table",textDecoration:"none",cursor:"pointer","& p":{fontSize:"14px",fontWeight:"500",marginBottom:"7px"}},"@media (max-width:767px)":{paddingTop:"0",position:"fixed",width:"calc(100% - 40px)",left:" 0",padding:" 20px",top:"0",background:" #fff",zIndex:"22",height:"100%",overflowY:"auto","& h2":{fontSize:"20px"},"&  a":{"& p":{width:"25px",height:"25px",overflow:"hidden",fontSize:"25px !important",marginTop:"0",color:"#232323",paddingBottom:"10px"}}}},cardDisplay:{position:"relative","& > div":{width:"100%",maxWidth:"300px"},"& input":{padding:"13px 15px 13px 50px",background:"#f3f5f5",letterSpacing:"3.8px"},"& img":{maxWidth:"30px",left:"10px",position:"absolute",top:"25px"},"& fieldset":{borderColor:e.palette.common.transparent,border:"none"},"& img + div":{marginTop:"15px",color:e.palette.common.blue,cursor:"pointer"}}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(ts,Object.assign({},t,e))});function ns(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var is={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"booking_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price_total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service_fee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_credit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1013,source:{body:"query {\n  reservations{\n    booking_status\n    id\n    status\n    date\n  \tfrom\n    to\n    swimmer_review\n    reason_for_booking\n    adult_guests\n    children_guests\n    infant_guests\n    reservation_price_total\n    reservation_price\n    service_fee\n    referral_credit\n    promocode_status\n    promocode {\n      off_type\n      promo_code\n      percent_off\n    }\n    pool{ \n      id\n      title\n      street_number\n      state\n      city\n      zip_code\n      full_address\n      special_access_instruction\n      hourly_price\n      price_per_guest_enabled\n      price_per_guest_min_capacity\n      price_per_guest\n      images {\n        url\n      }\n      createdBy{\n        id\n        lastname\n        firstname\n        stripe_id\n      }\n      cancellation_policy {\n        hours\n        discount\n        description\n      }\n    }\n    payment{\n      payment_mode\n      amount\n      refund\n    }\n    edited_fields {\n      date\n      from\n      to\n      adult_guests\n      children_guests\n      infant_guests\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},os={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"confirmReservationMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"ChargeInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"charge_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112,source:{body:"mutation confirmReservationMutation($data:ChargeInput){\n  chargeCard(data:$data){\n    status\n    charge_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},rs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"charged"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:127,source:{body:"mutation cancelReservation($data:ReservationInput!){\n  cancelReservation (data:$data){\n    message\n    status\n    charged\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ss={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"hideCompletedBooking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"booking_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hideCompletedBooking"},arguments:[{kind:"Argument",name:{kind:"Name",value:"booking_id"},value:{kind:"Variable",name:{kind:"Name",value:"booking_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:121,source:{body:"mutation hideCompletedBooking($booking_id: ID!){\n\thideCompletedBooking(booking_id: $booking_id){\n\t\tstatus\n\t\tmessage\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ls={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function ds(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",right:"10px",width:"32px",height:"32px",background:"url(img/next.png)",backgroundPosition:" right",zIndex:"9",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"cover",backgroundRepeat:" no-repeat"},onClick:a})}function cs(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",left:"10px",width:"32px",height:"32px",backgroundPosition:" 0 0",background:"url(img/prev.png)",zIndex:"9",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"cover"},onClick:a})}var ms=function(e){Object(h.a)(a,e);var t=ns(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onChangeCancelChatMessage=function(e){var t=e.target.value;n.setState({cancelChatMessage:t})},n.disableCancelChatButton=function(){return n.state.cancelChatMessage.trim().length<10},n.openCancelChatMessagePopup=function(){n.setState({showCancelReasonPopup:!1,showCancelChatMessagePopup:!0})},n.goToEditReservation=function(e,t){t.stopPropagation(),n.props.history.push("/edit-reservation/".concat(e))},n.handleBookingId=function(e,t){t&&t.stopPropagation(),n.setState({bookingId:e})},n.deleteReservation=function(){var e=n.state.bookingId;if(e){var t=n.props.client;n.setState({loading:!0}),t.mutate({mutation:ss,variables:{booking_id:e}}).then(function(e){"true"===e.data.hideCompletedBooking.status&&n.renderReservation()}).catch(function(e){n.setState({loading:!1})}),n.setState({bookingId:null})}},n.state={reservationData:[],loading:!0,deleteAlert:!1,showCancelReasonPopup:!1,cancelReason:"",otherReason:"",cancelData:{},stripe_id:"",cardLastFourDigit:"",cardBrand:"",showAlert:!1,errorMessage:"",cancelChatMessage:"",showCancelChatMessagePopup:!1,bookingId:null},n.onSubmitReservationCancel=n.onSubmitReservationCancel.bind(Object(g.a)(n)),n.handleCancelReservationConfirm=n.handleCancelReservationConfirm.bind(Object(g.a)(n)),n.closePopup=n.closePopup.bind(Object(g.a)(n)),n.updatePromoCode=n.updatePromoCode.bind(Object(g.a)(n)),n.handleCancelReasonPopup=n.handleCancelReasonPopup.bind(Object(g.a)(n)),n.onSelectCancelReason=n.onSelectCancelReason.bind(Object(g.a)(n)),n.checkOnSubmit=n.checkOnSubmit.bind(Object(g.a)(n)),n.onReasonChange=n.onReasonChange.bind(Object(g.a)(n)),n.handleOtherReason=n.handleOtherReason.bind(Object(g.a)(n)),n.handleAlert=n.handleAlert.bind(Object(g.a)(n)),n.handleNewReservation=n.handleNewReservation.bind(Object(g.a)(n)),n.handleStatusChange=n.handleStatusChange.bind(Object(g.a)(n)),n.deleteReservation=n.deleteReservation.bind(Object(g.a)(n)),n.channel="",n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getAccessToken(),a=this.props.history;null!==t&&""!==t?(this.renderReservation(),ie.removePaymentFromId(),this.props.client.query({query:ls,fetchPolicy:"network-only"}).then(function(t){e.setState({stripe_id:t.data.me.stripe_id,cardLastFourDigit:t.data.me.card_last_four,cardBrand:t.data.me.card_brand}),ie.setUserID(t.data.me.id),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id),e.props.user&&e.setUpListener()}).catch(function(e){})):(ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),a.push("/"))}},{key:"componentDidUpdate",value:function(e,t,a){!e.user&&this.props.user&&this.setUpListener()}},{key:"componentWillUnmount",value:function(){this.props.echo&&this.props.echo.leaveChannel(this.channel)}},{key:"setUpListener",value:function(){var e=this;this.channel="reservation.".concat(this.props.user.id),console.log("this.channel",this.channel),console.log("Joining reservation listener ",this.channel),this.props.echo&&this.props.echo.private(this.channel).listen(".booking.created",function(t){e.handleNewReservation(t)}).listen(".booking.updated",function(t){e.handleStatusChange(t)})}},{key:"handleNewReservation",value:function(e){console.log("new reservation",e),e.id=e.id.toString(),this.setState({reservationData:_()(this.state.reservationData,{$unshift:[e]})})}},{key:"handleStatusChange",value:function(e){console.log("handleStatusChange",e);var t=this.state.reservationData.findIndex(function(t){return t.id===e.booking_id.toString()});t>=0&&this.setState({reservationData:_()(this.state.reservationData,Object(Fe.a)({},t,{status:{$set:e.status}}))})}},{key:"updatePromoCode",value:function(e,t){var a=this.state.reservationData;"remove"===t?(a[e].promocode_status="no",a[e].promocode=""):(a[e].promocode_status="ok",a[e].promocode=t),this.setState({reservationData:a})}},{key:"renderReservation",value:function(){var e=this;this.setState({loading:!0}),this.props.client.query({query:is,fetchPolicy:"no-cache"}).then(function(t){var a=t.data.reservations.map(function(t){return t.isFavorite=e.props.user&&t.pool&&e.props.user.favorites.indexOf(+t.pool.id)>=0,t});a=ft.a.reject(a,{pool:null}),a=(a=ft.a.reject(a,{pool:""})).filter(function(e){var t=0===e.status||1===e.status||2===e.status,a=e.date+" "+e.to;return e.edited_fields&&(t=t||4===e.status,a=(e.edited_fields.date||e.date)+" "+(e.edited_fields.to||e.to)),!(gt()(a,"YYYY-MM-DD hh:mm:ss").isBefore(gt()())&&t)}),e.setState({reservationData:a,loading:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.renderReservation();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"closePopup",value:function(){this.setState({deleteAlert:!1,cancelData:""})}},{key:"onSubmitRequestConfirm",value:function(e){var t=this,a="";"ok"===e.promocode_status?null!==e.promocode&&""!==e.promocode&&(a=e.promocode.promo_code):a="";var n=e.date,i=gt()(n+" "+e.from).format("h:mm a"),o=gt()(n+" "+e.to).add(1,"hours").format("h:mm a");n=gt()(n).format("ddd, MMMM DD, YYYY");var r={pool_id:e.pool.id,date:n,from:i,to:o,reason_for_booking:e.reason_for_booking};this.setState({loading:!0});var s=this.props.history;this.props.client.mutate({mutation:os,variables:{data:{booking_id:e.id,promo_code:a}}}).then(function(e){"succeeded"===e.data.chargeCard.status?(r.status="book_this_pool",ie.setPoolBookingStatus(JSON.stringify(r)),t.setState({loading:!1}),s.push("/reservation-success")):(t.renderReservation(),t.setState({loading:!1}))}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),t.setState({reviewsFailError:i,loading:!1}),"Unauthenticated."!==i){a.next=9;break}return a.next=5,t.props.refreshToken(t.props.history);case 5:"ok"===a.sent&&t.onSubmitRequestConfirm(e),a.next=10;break;case 9:t.renderReservation();case 10:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"onSelectCancelReason",value:function(e){var t=e.target.value;this.setState({cancelReason:t})}},{key:"onReasonChange",value:function(e){var t=e.target.value;this.setState({otherReason:t})}},{key:"handleOtherReason",value:function(e){return e.match(/Other/)?this.state.otherReason:e}},{key:"checkOnSubmit",value:function(){return!this.state.cancelReason||this.state.cancelReason.match(/Other/)&&this.state.otherReason.trim().length<=10}},{key:"handleCancelReasonPopup",value:function(e){this.setState({deleteAlert:!1,showCancelReasonPopup:e,cancelReason:"",otherReason:"",cancelChatMessage:"",showCancelChatMessagePopup:!1})}},{key:"handleCancelReservationConfirm",value:function(){var e=this,t=this.state.cancelData;this.setState({loading:!0,deleteAlert:!1,showCancelReasonPopup:!1,showCancelChatMessagePopup:!1});var a=this.props.history;this.props.client.mutate({mutation:rs,variables:{data:{booking_id:t.booking_id,cancel_reason:this.handleOtherReason(this.state.cancelReason),cancel_reason_message:this.handleOtherReason(this.state.cancelReason),cancel_chat_message:this.state.cancelChatMessage}}}).then(function(n){e.setState({loading:!1}),"CANCELLED_BOOKING_SUCCESSFULL"===n.data.cancelReservation.status&&!0===n.data.cancelReservation.charged?(t.status="CANCELLED_BOOKING_SUCCESSFULL",ie.setPoolBookingStatus(JSON.stringify(t)),a.push("/reservation-cancelled")):(e.renderReservation(),e.setState({loading:!1,cancelReason:"",otherReason:"",cancelChatMessage:""}))}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({reviewsFailError:n,loading:!1,cancelReason:"",otherReason:"",cancelChatMessage:""}),"Unauthenticated."!==n){t.next=9;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.handleCancelReservationConfirm(),t.next=10;break;case 9:a.graphQLErrors&&a.graphQLErrors[0]&&a.graphQLErrors[0].debugMessage?e.setState({showAlert:!0,errorMessage:a.graphQLErrors[0].debugMessage}):e.renderReservation();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"onSubmitReservationCancel",value:function(e){var t=e.date,a=gt()(t+" "+e.from).format("h:mm a"),n=gt()(t+" "+e.to).add(1,"hours").format("h:mm a"),i={pool_id:e.pool.id,date:t,from:a,to:n,reason_for_booking:e.reason_for_booking,booking_id:e.id,status:e.status};this.setState({deleteAlert:!0,cancelData:i})}},{key:"redirectToConversions",value:function(e){var t=this.props.history;ie.setMessageReceiverId(e),t.push("conversations")}},{key:"redirectToReviews",value:function(e){this.props.history.push("/reviews/"+e.id)}},{key:"updatePaymentInfo",value:function(e){var t=this.props.history,a={from:"my-reservations",booking_id:e};ie.setPaymentFromId(JSON.stringify(a)),t.push("/payment-method")}},{key:"redirectToPoolDetails",value:function(e){var t=this.props.history;ie.setBackBtnLink("reservation"),t.push("/pooldetails/"+e)}},{key:"redirectToTitleDetails",value:function(e){5!==e.status&&this.props.history.push("/reservation-details/"+e.id)}},{key:"handleAlert",value:function(e){this.setState({showAlert:e})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.reservationData,o=a.loading,r={speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!0,nextArrow:i.a.createElement(ds,null),prevArrow:i.a.createElement(cs,null)};return i.a.createElement("div",{className:t.container},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.myReservation},i.a.createElement(Oe.a,{variant:"h2"},"My Reservations"),i.a.createElement(Oe.a,{variant:"body1",component:"span"},0!==n.length?n.map(function(a,n){var o=Wt.isEditedBooking(a),s=o&&a.edited_fields.date,l=o&&(a.edited_fields.from||a.edited_fields.to);if(5===a.status)if(ft.a.filter(a.payment,{payment_mode:!1,refund:!1}).length>=1);else{var d=ft.a.filter(a.payment,{payment_mode:!1,refund:!0});d.length>=1?(d[0].amount,a.reservation_price_total):a.payment.length}else if(3===a.status||6===a.status){var c=gt()(a.date+" "+a.to).add("1","hours").format("MM/DD/YYYY h:mm A");new Date>new Date(c)?a.status=6:a.status=3}var m=a&&a.status&&(2===a.status||5===a.status||6===a.status);return i.a.createElement("div",{key:a.id},null!==a.pool?i.a.createElement(lt.a,{container:!0,spacing:24,className:t.searchResultsContainer,onClick:e.redirectToTitleDetails.bind(e,a)},i.a.createElement(lt.a,{item:!0,xs:12},i.a.createElement(lt.a,{item:!0,sm:8},i.a.createElement("div",{className:t.resultMain},m?i.a.createElement("button",{className:t.deleteBtn,onClick:function(t){return e.handleBookingId(a.id,t)}},i.a.createElement("img",{src:window.location.origin+"/img/icons/close_white.png",style:{width:20,height:20},alt:""})):null,i.a.createElement("div",{className:"social-icons-absolute top left"},i.a.createElement(mo,{isFavorite:a.isFavorite,poolId:a.pool.id,userRole:"swimmer"})),i.a.createElement(_n.a,r,a.pool.images&&a.pool.images.length>0&&a.pool.images.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("img",{alt:"",src:e.url}))}),(!a.pool.images||a.pool.images.length<=0)&&i.a.createElement("div",null,i.a.createElement("div",{className:"social-icons-absolute top left"},i.a.createElement(mo,{isFavorite:a.isFavorite,poolId:a.id,userRole:"swimmer"})),i.a.createElement("img",{alt:"",src:window.location.origin+"/img/default-pool.png"})))))),i.a.createElement(lt.a,{item:!0,xs:12,className:t.description},i.a.createElement("div",{className:t.leftSideCol},(0===a.status||o)&&i.a.createElement("div",{className:t.pendingBtn},i.a.createElement(Oe.a,{variant:"button"},"AWAITING HOST APPROVAL")),1===a.status&&!o&&i.a.createElement("div",{className:t.approvedBtn},i.a.createElement(Oe.a,{variant:"button"},"APPROVED! - CLICK TO CONFIRM")),2===a.status&&!o&&i.a.createElement("div",{className:t.declinedBtn},i.a.createElement(Oe.a,{variant:"button"},"REQUEST DECLINED")),3===a.status&&!o&&i.a.createElement("div",{className:t.completedBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION CONFIRMED")),4===a.status&&!o&&i.a.createElement("div",{className:t.declinedBtn,onClick:e.onSubmitRequestConfirm.bind(e,a)},i.a.createElement(Oe.a,{variant:"button"},"PAYMENT FAILED")),5===a.status&&!o&&i.a.createElement("div",{className:t.reservationCancelBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION CANCELLED")),6===a.status&&!o&&i.a.createElement("div",{className:t.confirmBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION  COMPLETED")),i.a.createElement(Oe.a,{variant:"h2",className:t.title},a.pool.title),i.a.createElement(Oe.a,{variant:"h4"},3===a.status||6===a.status?"":i.a.createElement("p",{className:t.text},"Exact address will be shown after confirmation")),i.a.createElement("div",null,i.a.createElement("h4",{className:t.text},i.a.createElement("div",{className:"flex-item"},i.a.createElement("div",{className:s?"line-through":""},i.a.createElement("span",{className:t.textUpperCase},i.a.createElement(vi.a,{format:"ddd, "},a.date)),"\xa0",i.a.createElement(vi.a,{format:"MMM DD, YYYY"},a.date)),s&&i.a.createElement("div",{className:"blue"},i.a.createElement("span",{className:t.textUpperCase},i.a.createElement(vi.a,{format:"ddd, "},a.edited_fields.date)),"\xa0",i.a.createElement(vi.a,{format:"MMM DD, YYYY"},a.edited_fields.date))),i.a.createElement("span",null,"\xa0from\xa0"),i.a.createElement("div",{className:"flex-item"},i.a.createElement("div",{className:l?"line-through":""},i.a.createElement(vi.a,{format:"h:mm A"},a.date+" "+a.from),"\xa0-\xa0",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},a.date+" "+a.to)),l&&i.a.createElement("div",{className:"blue"},i.a.createElement(vi.a,{format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.from||a.from)),"\xa0-\xa0",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.to||a.to)))))),Wt.isAvailableToUpdate(a)&&i.a.createElement("p",{className:t.bluecolor,onClick:e.goToEditReservation.bind(e,a.id)},i.a.createElement("span",null,a.edited_fields?"Extend reservation":"Make a change"))))):"")}):i.a.createElement(Oe.a,{variant:"h6",color:"inherit"},i.a.createElement("div",{className:t.noMessages},i.a.createElement("figure",null,i.a.createElement("img",{src:"img/perfect-time.png",alt:""})),i.a.createElement("p",null,"You don't have any Reservations yet!",i.a.createElement(ze.a,{to:"/"},i.a.createElement("span",null,"BOOK YOUR NEXT DIP!"))))),i.a.createElement(Je.a,{open:this.state.deleteAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:t.cancelPopupTitle},"Are you sure you want to cancel?"),i.a.createElement(jn.a,{id:"alert-dialog-description"},3===this.state.cancelData.status?"You will still be charged the service fee and depending on the host's cancelation policy, you may be charged for the booking.":"Canceling too many approved requests reduces the chances of hosts approving your future inquiries.")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleCancelReasonPopup.bind(null,!0),autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"no"))),i.a.createElement(Je.a,{open:this.state.showCancelReasonPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:t.cancelPopupTitle},"Cancel Reservation Request"),i.a.createElement(Oe.a,{variant:"h6",className:t.cancelPopupText},"To cancel your reservation, please select a reason for canceling your reservation")),i.a.createElement(tt.a,null,i.a.createElement(oi.a,{className:t.selectCancelReason,value:this.state.cancelReason,onChange:this.onSelectCancelReason,displayEmpty:!0},i.a.createElement(si.a,{value:""},"Select"),(3===n.status?bt:kt).map(function(e,t){return i.a.createElement(si.a,{key:"cancel-reason-".concat(t),value:e},e)})),this.state.cancelReason.match(/Other/)&&i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.otherReason,onChange:this.onReasonChange,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"Cancellation Reason (min 10 characters)"}))),i.a.createElement(hi.a,null,i.a.createElement(Ae.a,{className:t.declineButton,disabled:this.checkOnSubmit(),onClick:this.openCancelChatMessagePopup},"submit"),i.a.createElement(Oe.a,{className:t.cancellButton,variant:"button",onClick:this.handleCancelReasonPopup.bind(null,!1)},"cancel"))),i.a.createElement(Je.a,{className:t.deletePopup,open:this.state.showCancelChatMessagePopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("p",null,"Last step! Send the Host a quick message")),i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.cancelChatMessage,onChange:this.onChangeCancelChatMessage,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"(min 10 characters)"}),i.a.createElement("div",{className:t.popupButtons},i.a.createElement(Ae.a,{className:t.declineButton,disabled:this.disableCancelChatButton(),onClick:this.handleCancelReservationConfirm},"submit"),i.a.createElement(Oe.a,{className:t.cancellButton,variant:"button",onClick:this.handleCancelReasonPopup.bind(null,!1)},"cancel")))),i.a.createElement(Je.a,{open:this.state.showAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},this.state.errorMessage)),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleAlert.bind(null,!1),autoFocus:!0},"ok"))),i.a.createElement(Je.a,{open:!!this.state.bookingId,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},"Are you sure you want to delete this reservation from your history?")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.deleteReservation,autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:function(){return e.handleBookingId(null)}},"no"))))))}}]),a}(i.a.Component);var us=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},searchResultsContainer:{marginBottom:"25px",display:"flex",alignItems:"flex-start","@media (max-width:767px)":{display:"block","& > div":{paddingBottom:"0 !important"}}},item:{width:"80%"},resultMain:{position:"relative",margin:"0 -15px","& img":{width:"100%",height:"auto",borderRadius:"4px !important",overflow:"hidden"}},description:{"@media (min-width:767px)":{paddingTop:"0 !important"}},leftSideCol:{"& h2":{marginBottom:"15px",fontSize:"25px"},"& h4":{marginTop:"0px",marginBottom:"5px",fontWeight:"400",color:"#7b858b",fontSize:"14px","& p":{textTransform:"capitalize"},"& div":{marginTop:"14px",color:e.palette.common.blue,"& a":{color:e.palette.common.blue}},"& .flex-item":{display:"inline-flex",flexDirection:"column",margin:"0","&:first-child":{marginRight:"4px"},"&:last-child":{marginLeft:"4px"},"& div":{marginTop:"0",color:"#7b858b"},"& .line-through":{textDecoration:"line-through"},"& .blue":{position:"relative",color:e.palette.common.primary,"&:before":{content:"''",position:"absolute",left:"-10px",top:"6px",display:"inline-block",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:e.palette.common.secondary}}}},"& img":{verticalAlign:"middle",marginRight:"5px"},"& a":{textDecoration:"none"}},perHour:{fontSize:"13px",paddingTop:"10px","& span":{fontWeight:"500",fontSize:"25px",color:e.palette.common.black,verticalAlign:"middle",padding:"0",display:"inline-block"},"& p":{marginTop:"0","& a":{color:e.palette.common.blue}},"@media (max-width:767px)":{"& div":{display:"inline-block",float:"right",marginTop:"-10px","& span":{fontSize:"20px",paddingTop:"5px"}}}},moreDetailsBtn:{maxWidth:"160px"},noResult:{"& p":{marginTop:"5px"},"& > div":{marginTop:"25px","& p":{marginTop:"2px",fontSize:"12px",marginBottom:"0px"},"& p:last-child":{color:"#1db6e5"}}},myReservation:{paddingTop:"40px","& h2":{marginBottom:"10px"}},bluecolor:{color:e.palette.common.blue,textTransform:"uppercase",fontSize:"14px",marginTop:"15px",fontWeight:"500",cursor:"pointer"},reservantionTime:{background:"#f9f8f8",padding:"14px",marginBottom:"10px","@media (max-width:767px)":{margin:"0 -15px 10px",borderBottom:"1px solid #ccc"},"& h5":{fontSize:"13px",fontWeight:"500",margin:"0 0 7px",color:e.palette.common.black,textTransform:"uppercase",letterSpacing:"0.5px"},"& h4":{color:e.palette.common.black,fontSize:"16px",fontWeight:"450",margin:"0 0 7px"},"& p":{fontSize:"14px",fontWeight:"100",margin:"0 0 7px","& span":{cursor:"pointer",fontWeight:"500",marginTop:"8px"}},"& p:last-child":{fontWeight:"500",marginTop:"8px",cursor:"pointer"}},signupBtn:{marginBottom:"15px","& span":{display:"inline-block",padding:"5px 15px",textTransform:"capitalize",fontSize:"12px"}},pendingBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{display:"inline-block",padding:"3px 10px",textTransform:"capitalize",fontSize:"12px",background:"#f99f6c"},"& span:hover":{background:"#f06b2c"}},guestName:{fontSize:"13px"},noMessages:{display:"flex",alignItems:"center",color:e.palette.common.black,"& figure":{margin:"0 18px 0 -15px"},"& p":{color:e.palette.common.black,fontSize:"14px",fontWeight:"500","& span":{display:"block",color:e.palette.common.blue,paddingTop:"7px",fontWeight:"500",textTransform:"uppercase",fontSize:"14px"}},"@media (max-width:767px)":{display:"table",textAlign:"center",width:"100%","& span":{marginTop:"30vh"}}},approvedBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{background:"green",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"green"}},declinedBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{background:"#f04d50",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"red"}},confirmBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{background:"#1ecef1",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"#1ecef1"}},completedBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{background:"green",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"green"}},deleteBtn:{background:"transparent",border:"none",outline:"none",position:"absolute",right:15,top:15,zIndex:1,padding:10,cursor:"pointer"},reservationCancelBtn:{marginTop:"-55px",position:"relative",paddingBottom:"25px",marginLeft:"11px","& span":{background:"#7b868c",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"#7b868c"}},bluecolorTwo:{"& span":{display:"inline-block",padding:"5px 25px",marginTop:"10px"}},bluecolorTwoAgain:{"& span":{padding:"6px 55px"}},bluecolorCancel:{marginBottom:"0",marginTop:"0"},cancelPolicy:{marginTop:"-15px",display:"block",fontSize:"11px"},pendingAddressStatus:{fontSize:"12px",color:"#ccc",textTransform:"initial"},poolAccessDetails:{fontSize:"13px",fontWeight:"500",color:e.palette.common.black,paddingBottom:"5px",display:"block",letterSpacing:"0.5px",textTransform:"uppercase"},cancelPolicyText:{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",maxWidth:"280px","@media (max-width:767px)":{maxWidth:"100%"}},confirmReservationBtn:{display:"inline-block","@media (max-width:767px)":{display:"block"}},title:{fontSize:"16px !important",marginTop:"10px"},text:{fontSize:"12px !important"},textUpperCase:{textTransform:"uppercase"},disablePaymentBtn:{"& span":{background:"#ccc",display:"inherit",marginTop:"15px"},"& span:hover":{background:"#ccc",cursor:"default"},"& p":{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",marginTop:"0px"}},paymentDisableBtn:{"& span":{marginTop:"20px"}},paymentMethodBtn:{"& Button":{background:e.palette.common.transparent,width:"auto",padding:"10px 35px 10px 18px",marginTop:"20px",boxShadow:"0 3px 3px #b1b0b0",textAlign:"left",display:"table",paddingLeft:"18px","& span":{color:e.palette.common.black,textTransform:"none",letterSpacing:"4.8px","& i":{float:"right",fontSize:"25px",marginTOp:"-2px",position:"absolute",right:"11px",color:"#12bfea",top:"9px"},"& img":{maxWidth:"30px",verticalAlign:"middle",marginRight:"15px"}},"&:hover":{background:e.palette.common.transparent,"& span":{color:e.palette.common.black}}},"& a":{textDecoration:"none"}},cardNumberDots:{cursor:"pointer",color:e.palette.common.black,display:"inline-block",verticalAlign:"middle",fontSize:"25px",marginTop:"-17px",paddingRight:"6px",borderRadius:"50%",letterSpacing:"6px",marginBottom:"0"},choosePaymentBtn:{"& button":{"& span":{letterSpacing:"0"}}},cancelPopupTitle:{marginBottom:"10px"},cancelPopupText:{maxWidth:"300px"},selectCancelReason:{width:"100%"},cancellButton:{background:"transparent",padding:"10px",color:e.palette.common.blue,fontWeight:"400","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.8"}},declineButton:{padding:"12px 20px","& span:last-child, span:first-child":{padding:"0",fontSize:"14px",color:"#fff"},"&:disabled":{opacity:"0.6"}}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa);return i.a.createElement(ms,Object.assign({},t,a,e))});function ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var vs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"verifyPromocode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"promoCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifyPromocode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"mutation verifyPromocode($data:promoCodeInput!){\n  verifyPromocode(data:$data){\n    off_type\n    percent_off\n    promo_code\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},gs=function(e){Object(h.a)(a,e);var t=ps(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={edit_promocode:!1,promo_code:"",promoCodeError:""},n.editPromoCode=n.editPromoCode.bind(Object(g.a)(n)),n.handlePromoCode=n.handlePromoCode.bind(Object(g.a)(n)),n.applyPromocode=n.applyPromocode.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"editPromoCode",value:function(){var e=this.props.reservationData,t="";t="no"!==e.promocode_status&&null!==e.promocode&&""!==e.promocode?e.promocode.promo_code:"",this.setState({promo_code:t,edit_promocode:!0})}},{key:"handlePromoCode",value:function(e){this.setState({promo_code:e.target.value})}},{key:"applyPromocode",value:function(){var e=this,t=this.state.promo_code,a=this.props.reservationIndex;void 0!==t&&""!==t?this.props.client.mutate({mutation:vs,variables:{data:{promocode:t}}}).then(function(t){void 0!==a&&""!==a?e.props.updatePromoCode(a,t.data.verifyPromocode):e.props.updatePromoCode(t.data.verifyPromocode),e.setState({edit_promocode:!1,promoCodeError:""})}).catch(function(t){var n=Gt(t);e.setState({promoCodeError:n}),void 0!==a&&""!==a?e.props.updatePromoCode(a,"remove"):e.props.updatePromoCode("remove")}):(void 0!==a&&""!==a?this.props.updatePromoCode(a,"remove"):this.props.updatePromoCode("remove"),this.setState({promoCodeError:"Please enter promo code"}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.reservationData,n=this.state,o=n.edit_promocode,r=n.promo_code,s=n.promoCodeError,l=a.reservation_price,d=l,c=0,m=!1;if("ok"===a.promocode_status&&null!==a.promocode&&""!==a.promocode){m=!0;var u=a.promocode;c="percent"===u.off_type?l/100*u.percent_off:u.percent_off}c>=l?(l=0,c=d):l-=c;var p=l/100*a.service_fee,v=0,g=!1;return null!==a.referral_credit&&""===a.referral_credit&&(v=(v=l/100*a.referral_credit).toFixed(2),g=!0),l=l+p-v,i.a.createElement("div",{className:t.promocodeDetails},"no"!==a.promocode_status||!0===o?!0===o?i.a.createElement("div",{className:t.formInputBox+" "+t.formInputBoxPromocode},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Promo code"),i.a.createElement("div",null,i.a.createElement(Xe.a,{id:"promocode",placeholder:"Promo code",type:"text",name:"promocode",autoComplete:"",margin:"normal",variant:"outlined",value:r,onChange:this.handlePromoCode}),i.a.createElement("div",{onClick:this.applyPromocode,className:t.activeReservationBtn},i.a.createElement(Oe.a,{variant:"button"},"Apply"))),""!==s?i.a.createElement("p",{className:t.error},s):""):i.a.createElement("div",null,i.a.createElement("p",null,"Applied promocode: ",a.promocode.promo_code," ",i.a.createElement("i",{className:"fa fa-edit",onClick:this.editPromoCode})),i.a.createElement("p",{className:t.error},"used"===a.promocode_status&&"Promocode already used.","expire"===a.promocode_status&&"Promocode expired, please try with another promocode.","max"===a.promocode_status&&"Maximum usage of promocode reached, please try with another promocode")):i.a.createElement("p",null,"Add Promocode ",i.a.createElement("i",{className:"fa fa-plus-circle",onClick:this.editPromoCode})),i.a.createElement("div",{className:t.paymentDetails},i.a.createElement("p",null,"Booking cost ",i.a.createElement("span",null,"$",parseFloat(a.reservation_price).toFixed(2))),!0===m?i.a.createElement("p",null,"Promocode Discount: ",i.a.createElement("span",null,"-$",parseFloat(c).toFixed(2))):"",i.a.createElement("p",null,"Service fee ",i.a.createElement("span",null,"$",parseFloat(p).toFixed(2))),!0===g?i.a.createElement("p",null,a.referral_credit,"% referral credit ",i.a.createElement("span",null,"-$",v)):"",i.a.createElement("p",null,"Total Booking Cost ",i.a.createElement("span",null,"$",parseFloat(l).toFixed(2)))))}}]),a}(i.a.Component),hs=C()(Object(T.withStyles)(function(e){return{promocodeDetails:{"& i":{cursor:"pointer",color:"#65d7f3"}},formInputBox:{position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px ",fontWeight:"normal"},"& span":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"}},formInputBoxPromocode:{"& input":{padding:"15px"},"& input:focus":{outline:"none",boxShadow:"0 0 2px #00ade2"},"& label + div":{display:"flex","& > div":{marginTop:"5px"},"& > div:last-child":{marginTop:"8px",marginLeft:"25px","& span":{position:"inherit",height:"auto",filter:"none"}}}},paymentDetails:{"& p":{fontSize:"16px",marginBottom:"5px","& span":{float:"right",color:e.palette.common.black}}},error:{color:"red"},success:{color:"green"}}}),je.a,b.b)(gs);function fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ks={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reservationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"booking_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service_fee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_credit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price_total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1153,source:{body:"query reservationDetails($id: Int!){\n  reservationDetails(id: $id){\n    booking_status\n    id\n    status\n    swimmer_review\n    pool {\n      id\n      title\n      description\n      street_number\n      state\n      city\n      full_address\n      special_access_instruction\n      zip_code\n      hourly_price\n      price_per_guest\n      price_per_guest_enabled\n      price_per_guest_min_capacity\n      createdBy{\n        firstname\n        lastname\n        stripe_id\n        id\n        img_url\n      }\n      images{\n        url\n        cover\n      }\n      cancellation_policy {\n        hours\n        discount\n        description\n      }\n    }\n    adult_guests\n    children_guests\n    infant_guests\n    reason_for_booking\n    reservation_price\n    service_fee\n    referral_credit\n    reservation_price_total\n    promocode_status\n    promocode {\n      off_type\n      promo_code\n      percent_off\n    }\n    user{\n      firstname\n      lastname\n    }\n    payment{\n      amount\n      payment_mode\n      refund\n\n    }\n    date\n    from\n    to\n    edited_fields {\n      date\n      from\n      to\n      adult_guests\n      children_guests\n      infant_guests\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},bs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"confirmReservationMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"ChargeInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"charge_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112,source:{body:"mutation confirmReservationMutation($data:ChargeInput){\n  chargeCard(data:$data){\n    status\n    charge_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ys={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"charged"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:127,source:{body:"mutation cancelReservation($data:ReservationInput!){\n  cancelReservation (data:$data){\n    message\n    status\n    charged\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ns={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serviceCharge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76,source:{body:"query{\n    serviceCharge{\n        id\n        name\n        percentage\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function Ss(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",right:"10px",width:"32px",height:"32px",background:"url(../img/next.png)",backgroundPosition:" right",zIndex:"9",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"cover",backgroundRepeat:" no-repeat"},onClick:a})}function ws(e){var t=e.className,a=e.onClick;return i.a.createElement("div",{className:t,style:{position:"absolute",top:"50%",left:"10px",width:"32px",height:"32px",backgroundPosition:" 0 0",background:"url(../img/prev.png)",zIndex:"9",cursor:"pointer",opacity:"0.8",fontSize:"25px",backgroundSize:"cover"},onClick:a})}var _s=function(e){Object(h.a)(a,e);var t=fs(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getServiceCharge=Object(m.a)(c.a.mark(function e(){var t,a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.client.query({query:Ns,fetchPolicy:"network-only"});case 3:t=e.sent,a=t.data.serviceCharge,i=a.findIndex(function(e){return"service_fee"===e.name}),n.setState({serviceCharge:a[i].percentage}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),n.getEditedPrice=function(){var e=n.state,t=e.reservationData,a=e.serviceCharge,i=Wt.getEditedFields(t),o=i.adultCount,r=i.childrenCount,s=i.startTime,l=i.endTime;return Wt.getPrice({reservation:t,serviceCharge:a,startTime:s,endTime:l,adultCount:o,childrenCount:r}).totalPrice},n.onChangeCancelChatMessage=function(e){var t=e.target.value;n.setState({cancelChatMessage:t})},n.disableCancelChatButton=function(){return n.state.cancelChatMessage.trim().length<10},n.openCancelChatMessagePopup=function(){n.setState({showCancelReasonPopup:!1,showCancelChatMessagePopup:!0})},n.goToEditReservation=function(){n.props.history.push("/edit-reservation/".concat(n.state.reservationData.id))},n.renderBookingCost=function(){var e=n.props.classes,t=n.state.reservationData;if(Wt.isEditedBooking(t)){var a=n.getEditedPrice();if(t.reservation_price_total!==a)return i.a.createElement("div",{className:e.flexItem},i.a.createElement("span",{className:"line-through"},"$",parseFloat(t.reservation_price_total).toFixed(2)),i.a.createElement("span",{className:"blue"},"($",parseFloat(a).toFixed(2),")"))}return i.a.createElement("div",null,i.a.createElement("span",null,"$",parseFloat(t.reservation_price_total).toFixed(2)))},n.state={reservationData:{},createdBy:{},poolData:{},images:[],loading:!0,deleteAlert:!1,cancelData:"",stripe_id:"",cardLastFourDigit:"",cardBrand:"",showCancelReasonPopup:!1,reason:"",otherReason:"",showAlert:!1,errorMessage:"",cancelChatMessage:"",showCancelChatMessagePopup:!1,serviceCharge:0},n.onSubmitReservationCancel=n.onSubmitReservationCancel.bind(Object(g.a)(n)),n.handleCancelReservationConfirm=n.handleCancelReservationConfirm.bind(Object(g.a)(n)),n.closePopup=n.closePopup.bind(Object(g.a)(n)),n.updatePromoCode=n.updatePromoCode.bind(Object(g.a)(n)),n.handleCancelReasonPopup=n.handleCancelReasonPopup.bind(Object(g.a)(n)),n.onSelectCancelReason=n.onSelectCancelReason.bind(Object(g.a)(n)),n.checkOnSubmit=n.checkOnSubmit.bind(Object(g.a)(n)),n.onReasonChange=n.onReasonChange.bind(Object(g.a)(n)),n.handleOtherReason=n.handleOtherReason.bind(Object(g.a)(n)),n.handleAlert=n.handleAlert.bind(Object(g.a)(n)),n.renderCard=n.renderCard.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getServiceCharge();var t=ie.getAccessToken();this.setState({loading:!0});var a=this.props.history;null!==t&&""!==t?(this.renderReservation(),ie.removePaymentFromId(),this.props.client.query({query:xs,fetchPolicy:"network-only"}).then(function(t){e.setState({stripe_id:t.data.me.stripe_id,cardLastFourDigit:t.data.me.card_last_four,cardBrand:t.data.me.card_brand}),ie.setUserID(t.data.me.id),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id)}).catch(function(e){})):(ie.setPreviousUrl(this.props.location.pathname),ie.setIsPreviousUrl("yes"),a.push("/"))}},{key:"updatePromoCode",value:function(e){var t=this.state.reservationData;"remove"===e?(t.promocode_status="no",t.promocode=""):(t.promocode_status="ok",t.promocode=e),this.setState({reservationData:t})}},{key:"renderReservation",value:function(){var e=this;this.setState({loading:!0});var t=this.props.match.params.id,a=parseInt(t);this.props.client.query({query:ks,variables:{id:a},fetchPolicy:"no-cache"}).then(function(t){var a=t.data.reservationDetails;t.data.reservationDetails?e.setState({reservationData:a,poolData:a.pool,createdBy:a.pool.createdBy,images:a.pool.images,loading:!1}):e.props.history.goBack()}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.renderReservation();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"closePopup",value:function(){this.setState({deleteAlert:!1,cancelData:""})}},{key:"onSubmitRequestConfirm",value:function(e){var t=this,a="";"ok"===e.promocode_status?null!==e.promocode&&""!==e.promocode&&(a=e.promocode.promo_code):a="";var n=e.date,i=gt()(n+" "+e.from).format("h:mm a"),o=gt()(n+" "+e.to).add(1,"hours").format("h:mm a");n=gt()(n).format("ddd, MMMM DD, YYYY");var r={pool_id:e.pool.id,date:n,from:i,to:o,reason_for_booking:e.reason_for_booking},s=this.props.history;this.setState({loading:!0}),this.props.client.mutate({mutation:bs,variables:{data:{booking_id:e.id,promo_code:a}}}).then(function(e){"succeeded"===e.data.chargeCard.status?(r.status="book_this_pool",ie.setPoolBookingStatus(JSON.stringify(r)),t.setState({loading:!1}),s.push("/reservation-success")):(t.renderReservation(),t.setState({loading:!1}))}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),t.setState({reviewsFailError:i,loading:!1}),"Unauthenticated."!==i){a.next=9;break}return a.next=5,t.props.refreshToken(t.props.history);case 5:"ok"===a.sent&&t.onSubmitRequestConfirm(e),a.next=10;break;case 9:t.renderReservation();case 10:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"onSelectCancelReason",value:function(e){var t=e.target.value;this.setState({reason:t})}},{key:"handleCancelReasonPopup",value:function(e){this.setState({deleteAlert:!1,showCancelReasonPopup:e,reason:"",showCancelChatMessagePopup:!1,cancelChatMessage:""})}},{key:"handleCancelReservationConfirm",value:function(){var e=this,t=this.props.history,a=this.state.cancelData;this.setState({loading:!0,deleteAlert:!1,showCancelReasonPopup:!1,showCancelChatMessagePopup:!1,cancelChatMessage:""}),this.props.client.mutate({mutation:ys,variables:{data:{booking_id:a.booking_id,cancel_reason:this.handleOtherReason(this.state.reason),cancel_reason_message:this.handleOtherReason(this.state.reason),cancel_chat_message:this.state.cancelChatMessage}}}).then(function(n){(e.setState({loading:!1}),"CANCELLED_BOOKING_SUCCESSFULL"===n.data.cancelReservation.status)?!0===n.data.cancelReservation.charged?(a.status="CANCELLED_BOOKING_SUCCESSFULL",ie.setPoolBookingStatus(JSON.stringify(a)),t.push("/reservation-cancelled")):"Host"===ie.getUserRole()?t.push("/host-reservation"):t.push("/my-reservation"):(e.renderReservation(),e.setState({loading:!1,reason:"",cancelChatMessage:""}));var i={timestamp:(new Date).toISOString(),event_type:"booking-cancel",poolId:+e.props.match.params.id,bookingId:a.booking_id,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"swimmer"};Ci(e.props.client,i)}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({reviewsFailError:n,loading:!1,reason:"",cancelChatMessage:""}),"Unauthenticated."!==n){t.next=9;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.handleCancelReservationConfirm(),t.next=10;break;case 9:a.graphQLErrors&&a.graphQLErrors[0]&&a.graphQLErrors[0].debugMessage?e.setState({showAlert:!0,errorMessage:a.graphQLErrors[0].debugMessage}):e.renderReservation();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"onSubmitReservationCancel",value:function(e){var t=e.date.replace(/\t/g,"/"),a=gt()(new Date(t+" "+e.from)).format("h:mm a"),n=gt()(new Date(t+" "+e.to)).format("h:mm a"),i={pool_id:e.pool.id,date:t,from:a,to:n,reason_for_booking:e.reason_for_booking,booking_id:e.id};this.setState({deleteAlert:!0,cancelData:i})}},{key:"redirectToConversions",value:function(e){if(this.props.user&&!this.props.user.accept_chat_rules)this.props.history.replace("/chat-rules");else{var t=this.props.history;ie.setMessageReceiverId(e),t.push({pathname:"/conversations",state:{fromReservationDetails:!0,bookingId:this.state.reservationData.id}})}}},{key:"redirectToReviews",value:function(e){this.props.history.push("/reviews/"+e.id)}},{key:"updatePaymentInfo",value:function(e){var t=this.props.history,a={from:"my-reservations",booking_id:e};ie.setPaymentFromId(JSON.stringify(a)),t.push("/payment-method")}},{key:"redirectToPoolDetails",value:function(e){var t=this.props.history;ie.setBackBtnLink("reservation"),t.push("/pooldetails/"+e)}},{key:"redirectToTitleDetails",value:function(e){this.props.history.push("/reservation-details/"+e)}},{key:"handleOtherReason",value:function(e){return e.match(/Other/)?this.state.otherReason:e}},{key:"checkOnSubmit",value:function(){return!this.state.reason||this.state.reason.match(/Other/)&&this.state.otherReason.trim().length<=10}},{key:"onReasonChange",value:function(e){var t=e.target.value;this.setState({otherReason:t})}},{key:"handleAlert",value:function(e){this.setState({showAlert:e})}},{key:"renderCard",value:function(e){var t=e.reservationData,a=e.cardLastFourDigit,n=e.cardBrand,o=this.props.classes,r=window.location.origin,s=ie.getSwimmerCountry(),l=Mt.test(s),d=le===l;return t.booking_status&&1===t.status&&(!a||!d&&s.length?i.a.createElement("div",{className:"".concat(o.paymentMethodBtn," ").concat(o.choosePaymentBtn)},i.a.createElement(Ae.a,{onClick:this.updatePaymentInfo.bind(this,"")},"Choose a Payment Method ",i.a.createElement("i",{className:"fa fa-angle-right"}))):i.a.createElement("div",{className:o.paymentMethodBtn},n&&i.a.createElement(Ae.a,{onClick:this.updatePaymentInfo.bind(this,"")},n.match(/MasterCard/)?i.a.createElement("img",{alt:"MasterCard",src:r+"/img/cards/mastercard.png"}):"",n.match(/Visa/)?i.a.createElement("img",{alt:"Visa Card",src:r+"/img/cards/visa-card.png"}):"","American Express"===n?i.a.createElement("img",{alt:"American Express Card",src:r+"/img/cards/american.png"}):"","Discover"===n?i.a.createElement("img",{alt:"Discover Card",src:r+"/img/cards/discover.png"}):"","Diners Club"===n?i.a.createElement("img",{alt:"Diners Club Card",src:r+"/img/cards/dinnerclub.png"}):"","JCB"===n?i.a.createElement("img",{alt:"JCB Card",src:r+"/img/cards/jcb.png"}):"","UnionPay"===n?i.a.createElement("img",{alt:"UnionPay Card",src:r+"/img/cards/union.png"}):"",i.a.createElement("div",{className:o.cardNumberDots},".... .... ...."),a,i.a.createElement("i",{className:"fa fa-angle-right"}))))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.reservationData,n=t.loading,o=t.poolData,r=t.createdBy,s=t.images,l=t.cardLastFourDigit,d=t.cardBrand,c={speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!0,nextArrow:i.a.createElement(Ss,null),prevArrow:i.a.createElement(ws,null)},m=0,u=0;if(5===a.status){var p=ft.a.filter(a.payment,{payment_mode:!1,refund:!1});if(p.length>=1)m=1,u=p[0].amount;else{var v=ft.a.filter(a.payment,{payment_mode:!1,refund:!0});v.length>=1?v[0].amount===a.reservation_price_total?(m=2,u=0):(m=3,u=a.reservation_price_total-v[0].amount):1===a.payment.length?(m=4,u=a.payment[0].amount):(m=2,u=0)}}else if(3===a.status||6===a.status){var g=gt()(a.date+" "+a.to).add("1","hours").format("MM/DD/YYYY h:mm A");new Date>new Date(g)?a.status=6:a.status=3}var h=Wt.isEditedBooking(a),f=h&&a.edited_fields.date,k=h&&(a.edited_fields.from||a.edited_fields.to),b=h&&(Wt.isNumber(a.edited_fields.adult_guests)||Wt.isNumber(a.edited_fields.children_guests)||Wt.isNumber(a.edited_fields.infant_guests));return i.a.createElement("div",{className:e.container},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:e.myReservation},i.a.createElement(Oe.a,{variant:"h2"},"My Reservations"),void 0!==a.id&&i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement(lt.a,{container:!0,spacing:24,className:e.searchResultsContainer},i.a.createElement(lt.a,{item:!0,xs:12,sm:8},i.a.createElement("div",{className:e.resultMain},i.a.createElement("div",{className:"social-icons-absolute top right"},i.a.createElement(mo,{isFavorite:o.isFavorite,poolId:o.id,userRole:"swimmer"})),i.a.createElement(_n.a,c,s.length>0&&s.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("img",{alt:"",src:e.url}))}),s.length<=0&&i.a.createElement("div",null,i.a.createElement("div",{className:"social-icons-absolute top right"},i.a.createElement(mo,{isFavorite:o.isFavorite,poolId:o.id,userRole:"swimmer"})),i.a.createElement("img",{alt:"",src:window.location.origin+"/img/default-pool.png"}))))),i.a.createElement(lt.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:e.leftSideCol},(0===a.status||h)&&i.a.createElement("div",{className:e.pendingBtn},i.a.createElement(Oe.a,{variant:"button"},"AWAITING HOST APPROVAL")),1===a.status&&!h&&i.a.createElement("div",{className:e.approvedBtn},i.a.createElement(Oe.a,{variant:"button"},"APPROVED! - CLICK TO CONFIRM")),2===a.status&&!h&&i.a.createElement("div",{className:e.declinedBtn},i.a.createElement(Oe.a,{variant:"button"},"REQUEST DECLINED")),3===a.status&&!h&&i.a.createElement("div",{className:e.approvedBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION CONFIRMED")),4===a.status&&!h&&i.a.createElement("div",{className:e.declinedBtn,onClick:this.onSubmitRequestConfirm.bind(this,a)},i.a.createElement(Oe.a,{variant:"button"},"PAYMENT FAILED")),5===a.status&&!h&&i.a.createElement("div",{className:e.reservationCancelBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION CANCELLED")),6===a.status&&!h&&i.a.createElement("div",{className:e.confirmBtn},i.a.createElement(Oe.a,{variant:"button"},"RESERVATION  COMPLETED")),i.a.createElement(Oe.a,{variant:"h2",onClick:this.redirectToTitleDetails.bind(this,a.id)},o.title),i.a.createElement(Oe.a,{variant:"h4"},3===a.status||6===a.status?i.a.createElement("p",null,o.full_address):i.a.createElement("p",null,""!==o.city&&null!==o.city?o.city+", ":""," ",""!==o.state&&null!==o.state?o.state+", ":""," ","00000"!==o.zip_code?""+o.zip_code:""),0===a.status||2===a.status||4===a.status?i.a.createElement("p",{className:e.pendingAddressStatus},"Exact address will be shown after confirmation"):"",i.a.createElement("div",{className:e.bluecolor},i.a.createElement("span",{onClick:this.redirectToPoolDetails.bind(this,o.id)},"View pool Details"))),i.a.createElement("div",{className:e.reservantionTime},i.a.createElement("h5",null,"Reservation date and Time"),i.a.createElement("h4",null,i.a.createElement("div",{className:"flex-item"},i.a.createElement("div",{className:f?"line-through":""},i.a.createElement("span",{className:e.textUpperCase},i.a.createElement(vi.a,{format:"ddd, "},a.date)),"\xa0",i.a.createElement(vi.a,{format:"MMM DD, YYYY"},a.date)),f&&i.a.createElement("div",{className:"blue"},i.a.createElement("span",{className:e.textUpperCase},i.a.createElement(vi.a,{format:"ddd, "},a.edited_fields.date)),"\xa0",i.a.createElement(vi.a,{format:"MMM DD, YYYY"},a.edited_fields.date))),i.a.createElement("span",null,"\xa0from\xa0"),i.a.createElement("div",{className:"flex-item"},i.a.createElement("div",{className:k?"line-through":""},i.a.createElement(vi.a,{format:"h:mm A"},a.date+" "+a.from),"-",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},a.date+" "+a.to)),k&&i.a.createElement("div",{className:"blue"},i.a.createElement(vi.a,{format:"h:mm A"},a.date+" "+(a.edited_fields.from||a.from)),"-",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},a.date+" "+(a.edited_fields.to||a.to))))),b&&i.a.createElement("div",{className:e.editedGuests},Wt.isNumber(a.edited_fields.adult_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.adult_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.adult_guests),i.a.createElement("span",null," Adults, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.adult_guests)," Adults,"),Wt.isNumber(a.edited_fields.children_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.children_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.children_guests),i.a.createElement("span",null," Children, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.children_guests)," Children,"),Wt.isNumber(a.edited_fields.infant_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.infant_guests," "),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.infant_guests),i.a.createElement("span",null," Infants, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.infant_guests)," Infants,")),i.a.createElement("p",{className:e.guestName},i.a.createElement("span",null,a.reason_for_booking,"\xa0"),!b&&Yt(a)),i.a.createElement("div",{className:e.hostContainer},i.a.createElement("div",{className:e.alignItemsCenter},i.a.createElement(Na.a,{className:e.profileImage,alt:"host profile image",src:r.img_url||window.location.origin+"/img/profile-icon.png"}),i.a.createElement("p",{className:e.hostedByText},"Hosted by ",i.a.createElement("span",{className:"bold"},r.firstname))),i.a.createElement("p",{className:e.bluecolor,onClick:this.redirectToConversions.bind(this,a.pool.createdBy.id)},i.a.createElement("span",null,"Write Message"))),Wt.isAvailableToUpdate(a)&&i.a.createElement("p",{className:e.bluecolor,onClick:this.goToEditReservation},i.a.createElement("span",null,a.edited_fields?"Extend reservation":"Make a change")),3===a.status?i.a.createElement("div",null,i.a.createElement("span",{className:e.poolAccessDetails},"POOL ACCESS DETAILS"),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.pool.special_access_instruction}})):""),a.edited_fields||1!==a.status||!0!==a.booking_status?"":i.a.createElement(hs,{reservationData:a,updatePromoCode:this.updatePromoCode}),1!==a.status&&2!==a.status&&5!==a.status||!1===a.booking_status||h?i.a.createElement("div",{className:e.perHour},"Total Booking Cost",this.renderBookingCost()):"",5===a.status?i.a.createElement("div",{className:e.perHour},"Total Booking Cost",i.a.createElement("div",null,i.a.createElement("span",null,"$",parseFloat(u).toFixed(2)))):"",5===a.status?i.a.createElement("div",{className:e.cancelPolicyText},1===m||3===m?i.a.createElement("p",null,"This reservation was cancelled greater than ",a.pool.cancellation_policy.hours," hours from your reservation time. You will be refunded for your booking, minus ","100"!==a.pool.cancellation_policy.discount&&a.pool.cancellation_policy.discount+"%"," your ",me?"Shvimply":"Swimply"," booking fee."):4===m?i.a.createElement("p",null,"This reservation was cancelled in not accordance with ",me?"Shvimply":"Swimply","\u2019s cancellation policy. You will not be refunded for your booking. "):i.a.createElement("p",null,"This reservation was cancelled in accordance with ",me?"Shvimply":"Swimply","\u2019s cancellation policy. You will not be charged for your booking.")):"",!0===a.booking_status&&4===a.status?i.a.createElement("div",{className:e.cancelPolicyText},"Your payment failed to process. Please submit new payment information for this booking."):"",!0===a.booking_status&&4===a.status?i.a.createElement("div",{className:e.bluecolorTwo},i.a.createElement(Oe.a,{variant:"button",onClick:this.updatePaymentInfo.bind(this,a.id)},"UPDATE PAYMENT INFORMATION")):"",!0!==a.booking_status||0!==a.status&&1!==a.status&&3!==a.status?"":i.a.createElement("div",{className:e.signupBtn,onClick:this.onSubmitReservationCancel.bind(this,a)},i.a.createElement("p",{className:e.bluecolor+" "+e.bluecolorCancel},"CANCEL RESERVATION REQUEST")),!h&&this.renderCard({reservationData:a,cardLastFourDigit:l,cardBrand:d}),h||!0!==a.booking_status||1!==a.status?"":void 0!==a.pool&&void 0!==a.pool.createdBy&&void 0!==a.pool.createdBy.stripe_id&&null!==a.pool.createdBy.stripe_id&&""!==a.pool.createdBy.stripe_id?null!==l&&""!==l&&void 0!==l?i.a.createElement("div",{className:e.bluecolor+" "+e.confirmReservationBtn,onClick:this.onSubmitRequestConfirm.bind(this,a)},i.a.createElement(Oe.a,{variant:"button"},"CONFIRM RESERVATION")):i.a.createElement("div",{className:e.confirmReservationBtn+" "+e.disablePaymentBtn},i.a.createElement(Oe.a,{variant:"button"},"CONFIRM RESERVATION")):i.a.createElement("div",{className:e.confirmReservationBtn+" "+e.disablePaymentBtn},i.a.createElement(Oe.a,{component:"p"},"No payment can be applied because payment profile for the host isn't configured yet. Please message your host."),i.a.createElement(Oe.a,{variant:"button"},"CONFIRM RESERVATION")),!1===a.booking_status&&i.a.createElement("div",{className:e.confirmReservationBtn+" "+e.disablePaymentBtn},i.a.createElement(Oe.a,{component:"p"},"This booking slot already confirmed by someone.")),3===a.status?i.a.createElement("span",{className:e.cancelPolicy},"Cancellation fees may apply"):"",6===a.status&&!0!==a.swimmer_review?i.a.createElement("span",{className:e.bluecolor,onClick:this.redirectToReviews.bind(this,a)},"LEAVE A REVIEW"):"",6===a.status?i.a.createElement("div",{className:e.bluecolorTwo},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToPoolDetails.bind(this,o.id)},"BOOK THIS POOL AGAIN!")):""))),i.a.createElement(Je.a,{open:this.state.deleteAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:e.cancelPopupTitle},1===a.status?"Are you sure you want to cancel your booking?":"Are you sure you want to cancel?"),i.a.createElement(jn.a,{className:e.cancellationPolicy,id:"alert-dialog-description"},1===a.status?"You will still be charged the service fee and depending on the host's cancellation policy, you may be charged for the booking.":'The host cancellation policy is "'.concat(a.pool.cancellation_policy.description||"",'"')),1!==a.status?i.a.createElement(jn.a,{className:e.cancellationPolicy,id:"alert-dialog-description"},Wt.isNotIntoCancellationPolicy(a)?"You will be receiving a refund for this reservation minus the service fee.":"You will not be receiving a refund for this reservation."):null,1!==a.status?i.a.createElement(jn.a,{className:e.cancellationPolicy,id:"alert-dialog-description"},"Too many cancellation on your account will prevent you from being able to book instant booking pools and reduces the odds of hosts approving future inquires."):null),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleCancelReasonPopup,autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"no"))),i.a.createElement(Je.a,{open:this.state.showCancelReasonPopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:e.cancelPopupTitle},"Cancel Reservation Request"),i.a.createElement(Oe.a,{variant:"h6",className:e.cancelPopupText},"To cancel your reservation, please select a reason for canceling your reservation")),i.a.createElement(tt.a,null,i.a.createElement(oi.a,{className:e.selectCancelReason,value:this.state.reason,onChange:this.onSelectCancelReason,displayEmpty:!0},i.a.createElement(si.a,{value:""},"Select"),(3===a.status?bt:kt).map(function(e,t){return i.a.createElement(si.a,{key:"cancel-reason-".concat(t),value:e},e)})),this.state.reason.match(/Other/)&&i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.otherReason,onChange:this.onReasonChange,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"Cancellation Reason (min 10 characters)"}))),i.a.createElement(hi.a,null,i.a.createElement(Ae.a,{className:e.declineButton,disabled:this.checkOnSubmit(),onClick:this.openCancelChatMessagePopup},"submit"),i.a.createElement(Oe.a,{className:e.cancellButton,variant:"button",onClick:this.handleCancelReasonPopup.bind(null,!1)},"cancel"))),i.a.createElement(Je.a,{className:e.deletePopup,open:this.state.showCancelChatMessagePopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("p",null,"Last step! Send the Host a quick message")),i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.cancelChatMessage,onChange:this.onChangeCancelChatMessage,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"(min 10 characters)"}),i.a.createElement(hi.a,null,i.a.createElement(Ae.a,{className:e.declineButton,disabled:this.disableCancelChatButton(),onClick:this.handleCancelReservationConfirm},"submit"),i.a.createElement(Oe.a,{className:e.cancellButton,variant:"button",onClick:this.handleCancelReasonPopup.bind(null,!1)},"cancel")))),i.a.createElement(Je.a,{open:this.state.showAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},this.state.errorMessage)),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleAlert.bind(null,!1),autoFocus:!0},"ok"))))))}}]),a}(i.a.Component);var Es=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},searchResultsContainer:{marginBottom:"25px",display:"flex",alignItems:"flex-start","@media (max-width:767px)":{display:"block"}},resultMain:{position:"relative","& img":{width:"100%"}},leftSideCol:{"& h2":{marginBottom:"15px",fontSize:"25px"},"& h4":{marginTop:"0px",marginBottom:"20px",fontWeight:"400",color:"#7b858b",fontSize:"14px","& div":{marginTop:"14px",color:e.palette.common.blue,"& a":{color:e.palette.common.blue}},"& p":{textTransform:"capitalize"}},"& img":{verticalAlign:"middle",marginRight:"5px"},"& a":{textDecoration:"none"}},perHour:{fontSize:"13px",paddingTop:"10px","& span":{fontWeight:"500",fontSize:"25px",color:e.palette.common.black,verticalAlign:"middle",padding:"0",display:"inline-block"},"& p":{marginTop:"0","& a":{color:e.palette.common.blue}},"@media (max-width:767px)":{"& div":{display:"inline-block",float:"right",marginTop:"-10px","& span":{fontSize:"20px",paddingTop:"5px"}}}},moreDetailsBtn:{maxWidth:"160px"},noResult:{"& p":{marginTop:"5px"},"& > div":{marginTop:"25px","& p":{marginTop:"2px",fontSize:"12px",marginBottom:"0px"},"& p:last-child":{color:"#1db6e5"}}},myReservation:{paddingTop:"40px","& h2":{marginBottom:"20px"}},bluecolor:{color:e.palette.common.blue,textTransform:"uppercase",fontSize:"14px",marginTop:"15px",fontWeight:"500",cursor:"pointer"},reservantionTime:{background:"#f9f8f8",padding:"14px",marginBottom:"10px","& h5":{fontSize:"13px",fontWeight:"500",margin:"0 0 7px",color:e.palette.common.black,textTransform:"uppercase",letterSpacing:"0.5px"},"& h4":{color:e.palette.common.black,fontSize:"13px",fontWeight:"500",margin:"0 0 7px"},"& p":{fontSize:"14px",fontWeight:"100",margin:"0 0 7px","& span":{cursor:"pointer",fontWeight:"500",marginTop:"8px"}},"& p:last-child":{fontWeight:"500",marginTop:"8px",cursor:"pointer"},"& .flex-item":{display:"inline-flex",flexDirection:"column",margin:"0","&:first-child":{marginRight:"4px"},"&:last-child":{marginLeft:"4px"},"& div":{marginTop:"0",color:"#7b858b"},"& .line-through":{textDecoration:"line-through"},"& .blue":{position:"relative",color:e.palette.common.primary,"&:before":{content:"''",position:"absolute",left:"-10px",top:"6px",display:"inline-block",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:e.palette.common.secondary}}}},signupBtn:{marginBottom:"15px","& span":{display:"inline-block",padding:"5px 15px",textTransform:"capitalize",fontSize:"12px"}},pendingBtn:{marginBottom:"15px","& span":{display:"inline-block",padding:"3px 10px",textTransform:"capitalize",fontSize:"12px",background:"#f99f6c"},"& span:hover":{background:"#f06b2c"}},guestName:{fontSize:"13px"},noMessages:{display:"flex",alignItems:"center",color:e.palette.common.black,"& figure":{margin:"0 18px 0 -15px"},"& p":{color:e.palette.common.black,fontSize:"14px",fontWeight:"500","& span":{display:"block",color:e.palette.common.blue,paddingTop:"7px",fontWeight:"500",textTransform:"uppercase",fontSize:"13px"}}},approvedBtn:{marginBottom:"15px","& span":{background:"green",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"green"}},declinedBtn:{marginBottom:"15px","& span":{background:"#f04d50",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"red"}},confirmBtn:{marginBottom:"15px","& span":{background:"#1ecef1",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"#1ecef1"}},completedBtn:{marginBottom:"15px","& span":{background:e.palette.common.blue,display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:e.palette.common.blue}},reservationCancelBtn:{marginBottom:"15px","& span":{background:"#7b868c",display:"inline-block",padding:"3px 10px",fontSize:"12px"},"& span:hover":{background:"#7b868c"}},bluecolorTwo:{"& span":{display:"inline-block",padding:"5px 25px",marginTop:"10px"}},bluecolorCancel:{marginBottom:"0",marginTop:"0"},cancelPolicy:{marginTop:"-15px",display:"block",fontSize:"11px"},pendingAddressStatus:{fontSize:"12px",color:"#ccc",textTransform:"initial"},poolAccessDetails:{fontSize:"13px",fontWeight:"500",color:e.palette.common.black,paddingBottom:"5px",display:"block",letterSpacing:"0.5px",textTransform:"uppercase"},cancelPolicyText:{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",maxWidth:"280px"},confirmReservationBtn:{display:"inline-block"},textUpperCase:{textTransform:"uppercase"},disablePaymentBtn:{"& span":{background:"#ccc",display:"inherit",marginTop:"15px"},"& span:hover":{background:"#ccc",cursor:"default"},"& p":{background:"#fbece2",color:"#eca167",padding:"10px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"10px 0",marginTop:"0px"}},paymentMethodBtn:{"& Button":{background:e.palette.common.transparent,width:"auto",padding:"10px 35px 10px 18px",marginTop:"20px",boxShadow:"0 3px 3px #b1b0b0",textAlign:"left",display:"table",paddingLeft:"18px","& span":{color:e.palette.common.black,textTransform:"none",letterSpacing:"4.8px","& i":{float:"right",fontSize:"25px",marginTOp:"-2px",position:"absolute",right:"11px",color:"#12bfea",top:"9px"},"& img":{maxWidth:"30px",verticalAlign:"middle",marginRight:"15px"}},"&:hover":{background:e.palette.common.transparent,"& span":{color:e.palette.common.black}}},"& a":{textDecoration:"none"}},cardNumberDots:{cursor:"pointer",color:e.palette.common.black,display:"inline-block",verticalAlign:"middle",fontSize:"25px",marginTop:"-17px",paddingRight:"6px",borderRadius:"50%",letterSpacing:"6px",marginBottom:"0"},choosePaymentBtn:{"& button":{"& span":{letterSpacing:"0"}}},selectCancelReason:{width:"100%"},declineButton:{padding:"12px 20px","& span:last-child, span:first-child":{padding:"0",fontSize:"14px",color:"#fff"},"&:disabled":{opacity:"0.6"}},cancellButton:{background:"transparent",padding:"10px",color:e.palette.common.blue,fontWeight:"400","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.8"}},alignItemsCenter:{display:"flex",alignItems:"center"},hostContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px","& p span.bold":{fontWeight:"700"}},profileImage:{marginRight:"5px","& img":{marginRight:"0"}},hostedByText:{fontWeight:"400",color:e.palette.common.black,cursor:"initial"},editedGuests:{position:"relative",display:"inline-flex",alignItems:"center",marginBottom:"5px",lineHeight:"18px","&:before":{content:"''",position:"absolute",left:"-10px",top:"6px",display:"inline-block",width:"6px",height:"6px",marginRight:"5px",borderRadius:"50%",backgroundColor:e.palette.common.secondary},"& .item":{marginRight:"5px","& .gray":{color:e.palette.common.darkgray}},"& .line-through":{textDecoration:"line-through",color:e.palette.common.darkgray},"& .blue":{fontWeight:"500",color:e.palette.common.primary}},flexItem:{display:"flex","& .line-through":{textDecoration:"line-through",marginRight:"4px"},"& .blue":{color:e.palette.common.blue}},cancellationPolicy:{margin:"4px 0 10px",color:e.palette.common.black}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(zi).region;return i.a.createElement(_s,Object.assign({region:a},t,e))});function Fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Cs=function(e){Object(h.a)(a,e);var t=Fs(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={modify:{adultCount:1,childrenCount:0,infantCount:0}},e.handleGuestApply=function(t){e.setState({adultCount:t.adultCount,childrenCount:t.childrenCount,infantCount:t.infantCount,modify:{adultCount:t.adultCount,childrenCount:t.childrenCount,infantCount:t.infantCount}},function(){e.props.handleApply(t),e.props.handleGuestsPopup()})},e}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState({adultCount:this.props.adultCount,childrenCount:this.props.childrenCount,infantCount:this.props.infantCount,modify:{adultCount:this.props.adultCount,childrenCount:this.props.childrenCount,infantCount:this.props.infantCount}})}},{key:"renderGuestsText",value:function(e,t,a){if(!e&&!e&&!e)return"Select guests";var n="",i="";0===e?(n="",i=""):1===e?(n=e,i=0===t&&0===a?"Adult":"Adult,"):(n=e,i=0===t&&0===a?"Adults":"Adults,");var o="",r="";0===t?(o="",r=""):1===t?(o=t,r=0===a?"Children":"Children,"):(o=t,r=0===a?"Childrens":"Childrens,");var s="",l="";return 0===a?(s="",l=""):1===a?(s=a,l="Infant"):(s=a,l="Infants"),n+" "+i+" \xa0"+o+" "+r+" \xa0"+s+" "+l}},{key:"render",value:function(){var e=this.state,t=e.modify,a=e.adultCount,n=e.childrenCount,o=e.infantCount,r=this.props.classes;return i.a.createElement("div",{className:r.container},i.a.createElement(Oe.a,{variant:"subtitle2",className:"light",component:"label"},"Who will be coming?"),i.a.createElement("div",{className:"".concat(r.dropDownSelect," ").concat(this.props.showGuests?"focus":""),onClick:this.props.handleGuestsPopup},this.renderGuestsText(a,n,o),i.a.createElement("i",{className:"fas fa-caret-down",style:{fontSize:15},"aria-hidden":"true"})),i.a.createElement("div",{className:r.guestsPopup},this.props.showGuests&&i.a.createElement(ci,{updateBtn:!0,searchFields:t,adultCountNew:t.adultCount,childrenCountNew:t.childrenCount,infantCountNew:t.infantCount,handleGuestCancel:this.props.handleGuestsPopup,handleGuestApply:this.handleGuestApply,poolDetails:this.props.poolDetails})))}}]),a}(n.Component),Ts=C()(Object(T.withStyles)(function(e){return{container:{position:"relative"},dropDownSelect:{background:e.palette.common.white,color:e.palette.common.black,padding:"14px 15px 13px 15px",fontWeight:"normal",border:"1px solid #e8e8e8","& i":{float:"right",fontSize:"22px",color:e.palette.common.darkgray},"&.focus":{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white}}},guestsPopup:{position:"relative",zIndex:"10","& > div":{width:"100%",margin:"0",top:"8px"}}}}))(Cs);Cs.defaultProps={adultCount:0,childrenCount:0,infantCount:0,handleApply:function(){},handleGuestsPopup:function(){},showGuests:!1};function Ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Is=function(e){Object(h.a)(a,e);var t=Ps(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).goBack=function(){e.props.history.goBack()},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.backButton,onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left"}),i.a.createElement("span",null,"BACK"))}}]),a}(n.Component);Is.defaultProps={classes:{}};var Ds=C()(Object(T.withStyles)(function(e){return{backButton:{display:"flex",alignItems:"center",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer",boxSizing:"border-box","& *":{boxSizing:"border-box"},"& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"6px",marginTop:"-3px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"},"& span":{display:"none"}}}}}),je.a)(Is);function Os(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Rs=function(e){Object(h.a)(a,e);var t=Os(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).goBack=function(){e.props.history.goBack()},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onClick,n=e.disabled,o=e.children;return i.a.createElement(Ae.a,{variant:"text",disabled:n,onClick:a,className:"".concat(n?t.disable:t.button)},o)}}]),a}(n.Component);Rs.defaultProps={classes:{},onClick:function(){},disabled:!1};var As=C()(Object(T.withStyles)(function(e){return{button:{width:"100%",padding:"10px 15px","&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)"}},disable:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default","&:hover":{background:"#ccc"}}}}))(Rs);function Bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ms=function(e){Object(h.a)(a,e);var t=Bs(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={serviceCharge:0},e.goBack=function(){e.props.history.goBack()},e.cancel=function(){e.props.onCancel()},e.proceed=function(){e.props.onSubmit()},e.getExtraGuestFee=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e.props,n=a.reservation,i=a.adultCount,o=a.childrenCount,r=e.getTotalHours(t),s=t?n.adult_guests+n.children_guests:i+o;return s>n.pool.price_per_guest_min_capacity?(s-n.pool.price_per_guest_min_capacity)*n.pool.price_per_guest*r:0},e.getTotalHours=function(t){var a=e.props,n=a.endTime,i=a.startTime,o=a.reservation;if(t){var r=Rt.find(function(e){return e.time_insert===o.from}),s=Rt.find(function(e){return e.time_insert===o.to}),l=r?r.timeNumber:0;return(s?s.timeNumber+1:0)-l}return n-i},e.getPrice=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e.props,n=a.reservation,i=a.serviceCharge,o=e.getTotalHours(t),r=n&&n.pool?n.pool.hourly_price*o:0,s=n&&"ok"===n.promocode_status,l=0;s&&((l="percent"===n.promocode.off_type?r/100*n.promocode.percent_off:n.promocode.percent_off)>=r?(l=r,r=0):r-=l);var d=n&&n.pool&&n.pool.price_per_guest_enabled?e.getExtraGuestFee(t):0,c=r/100*i+d/100*i;return{isPromoCodeApplied:s,promoCodeAmount:l,totalHours:o,hoursPrice:r,extraGuestFee:d,serviceFee:c,totalPrice:r+c+d}},e.getButtonText=function(){var t=e.props,a=t.reservation,n=t.isDefaultInstantBooking;if(a){var i=e.getPrice(!0).totalPrice,o=e.getPrice().totalPrice-i,r=Wt.isInstantBooking({adultCount:a.adult_guests,childrenCount:a.children_guests,reservation:a});return n&&(o>0||!r)?"Proceed to pay":"Proceed"}return"Proceed"},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.reservation,n=this.getPrice(),o=n.isPromoCodeApplied,r=n.promoCodeAmount,s=n.totalHours,l=n.hoursPrice,d=n.extraGuestFee,c=n.serviceFee,m=n.totalPrice;return i.a.createElement(Je.a,{className:t.popup,keepMounted:!0,open:this.props.show},i.a.createElement(tt.a,{className:t.popupContainer},i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.titleContainer},i.a.createElement("h2",{className:t.title},"Reservation changes"),i.a.createElement("p",{className:t.description},"You have made changes that require an additional fee")),i.a.createElement("div",{className:t.priceContainer},i.a.createElement("div",{className:"item"},i.a.createElement("p",null,"$",a?a.pool.hourly_price:0," x ","".concat(s||0)),i.a.createElement("p",null,"$",l)),o&&i.a.createElement("div",{className:"item"},i.a.createElement("p",null,"Promocode discount"),i.a.createElement("p",null,"-$",r)),i.a.createElement("div",{className:"item"},i.a.createElement("p",null,"Service fee"),i.a.createElement("p",null,"$",c)),a&&a.pool.price_per_guest_enabled&&i.a.createElement("div",{className:"item"},i.a.createElement("p",null,"Extra guests fee"),i.a.createElement("p",null,"$",d)),i.a.createElement("div",{className:"item total"},i.a.createElement("p",null,"TOTAL"),i.a.createElement("p",null,"$",m))),i.a.createElement("div",{className:t.buttonsContainer},i.a.createElement("button",{className:"cancel",onClick:this.cancel},"Cancel changes"),i.a.createElement("button",{className:"submit",onClick:this.proceed},this.getButtonText())))))}}]),a}(n.Component);Ms.defaultProps={classes:{},reservation:{},onCancel:function(){},onSubmit:function(){},show:!1,startTime:0,endTime:0,serviceCharge:0};var js=C()(Object(T.withStyles)(function(e){return{popup:{boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul, p, h2":{padding:"0",margin:"0",listStyleType:"none"},'& [class*="MuiDialog-paperScrollPaper"]':{"@media (max-width: 400px)":{margin:"15px"}}},popupContainer:{maxWidth:"380px",minWidth:"250px",padding:"0","&:first-child":{padding:"0"}},titleContainer:{padding:"20px 15px"},title:{display:"flex",alignItems:"center",textTransform:"uppercase",fontSize:"16px",color:e.palette.common.black,"&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"8px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/alert.png)"}},description:{fontSize:"16px",color:e.palette.common.darkgray},priceContainer:{padding:"15px",borderTop:"1px solid ".concat(e.palette.common.border),borderBottom:"1px solid ".concat(e.palette.common.border),"& .item":{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px",fontSize:"16px","&:last-child":{marginBottom:"0"},"&.total":{marginTop:"12px",fontWeight:"bold",fontSize:"18px",color:e.palette.common.black}}},buttonsContainer:{display:"flex",justifyContent:"center",padding:"22px 15px 15px","& button":{padding:"2px",margin:"0 8px",outline:"none",background:"none",border:"none",fontSize:"16px",fontWeight:"700",cursor:"pointer","&.cancel":{color:e.palette.common.secondary},"&.submit":{color:e.palette.common.primary}}}}}),b.b)(Ms),Ls=function(e){return{errorMessageContainer:{marginTop:"5px",position:"relative","& *":{boxSizing:"border-box"},"& .close":{position:"absolute",top:"2px",right:"3px",display:"inline-block",padding:"2px 10px",fontSize:"18px",color:e.palette.error.light,cursor:"pointer"},"& .message":{width:"100%",maxWidth:"100%",padding:"15px 20px 15px 15px",overflow:"hidden",overflowWrap:"break-word"}}}};function Ws(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var zs=function(e){Object(h.a)(a,e);var t=Ws(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=e.hide;return a&&i.a.createElement("div",{className:t.errorMessageContainer},i.a.createElement("span",{className:"close",onClick:n},"x"),i.a.createElement(Oe.a,{variant:"caption",component:"p",className:"message"},a.slice(0,200),a.length>200?"...":""))}}]),a}(n.Component);zs.defaultProps={classes:{},hide:function(){},message:""};var Us=C()(Object(T.withStyles)(Ls))(zs),Hs=function(e){return{container:{display:"flex",flexDirection:"column",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","&.extra-bottom-padding":{paddingBottom:"150px"},"& *":{boxSizing:"border-box"},"& ul, p, h2, h3":{padding:"0",margin:"0",listStyleType:"none"},"@media (max-width: 400px)":{padding:"40px 0"}},innerContainer:{maxWidth:"400px",width:"100%"},alignItemsCenter:{display:"flex",alignItems:"center"},spaceBetween:{display:"flex",justifyContent:"space-between"},marginBottom:{marginBottom:"15px"},sectionTitle:{marginBottom:"15px",fontSize:"18px",color:e.palette.common.black,"@media (max-width: 400px)":{fontSize:"16px"}},link:{margin:"0",color:e.palette.common.blue,cursor:"pointer"},poolInfoContainer:{padding:"15px",borderBottom:"1px solid #E3E3E3",color:e.palette.common.black,fontSize:"16px","& .title":{fontSize:"20px",fontWeight:"500"},"& .price-container":{marginTop:"7px"},"& .hourly-price":{fontSize:"18px"},"& .blue":{color:e.palette.common.blue},"& .gray":{color:e.palette.common.darkgray}},formContainer:{padding:"15px","& .section-title":{}},buttonContainer:{marginTop:"20px"},errorMessageContainer:{marginTop:"15px"}}};function Gs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ys={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reservationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"booking_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service_fee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_credit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price_total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promocode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"off_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promo_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percent_off"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1873,source:{body:"query reservationDetails($id: Int!){\n    reservationDetails(id: $id){\n        booking_status\n        id\n        status\n        pool {\n            id\n            title\n            state\n            city\n            zip_code\n            hourly_price\n            price_per_guest\n            price_per_guest_enabled\n            default_instant_booking\n            instant_group_size\n            max_guests\n            available_from\n            available_to\n            advance_notice\n            availability_window\n            unavailable_dates\n            price_per_guest_min_capacity\n            guests_children_allowed\n            guests_infants_allowed\n            pool_unavailabilities{\n                date\n                time\n            }\n            months{\n                month_number\n                is_available\n            }\n            createdBy {\n                firstname\n                lastname\n                id\n                img_url\n            }\n            bookings {\n                id\n                date\n                from\n                to\n                status\n            }\n            cancellation_policy {\n                hours\n                discount\n            }\n        }\n        adult_guests\n        children_guests\n        infant_guests\n        reservation_price\n        service_fee\n        referral_credit\n        reservation_price_total\n        promocode_status\n        promocode {\n            off_type\n            promo_code\n            percent_off\n        }\n        user {\n            firstname\n            lastname\n        }\n        payment {\n            amount\n            payment_mode\n            refund\n\n        }\n        date\n        from\n        to\n        edited_fields {\n            date\n            from\n            to\n            adult_guests\n            children_guests\n            infant_guests\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"editBookingPool"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EditBookingPoolInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editBookingPool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:127,source:{body:"mutation editBookingPool($data:EditBookingPoolInput!){\n    editBookingPool (data:$data){\n        message\n        status\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serviceCharge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76,source:{body:"query{\n    serviceCharge{\n        id\n        name\n        percentage\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$s=function(e){Object(h.a)(a,e);var t=Gs(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={invalidDates:[],firstAvailableDate:null,allDatesIsInvalid:!1,adultCount:1,childrenCount:0,infantCount:0,serviceCharge:0,selectedDate:gt()(),startTime:null,endTime:null,reservationData:null,isDefaultInstantBooking:!1,showGuests:!1,showCalendar:!1,showTimer:!1,loading:!1,errorMessage:"",initialFields:{adultCount:1,childrenCount:0,infantCount:0,selectedDate:gt()(),startTime:null,endTime:null}},e.getReservationData=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.query({query:Ys,variables:{id:+e.props.match.params.id},fetchPolicy:"no-cache"});case 3:a=t.sent,n=a.data.reservationDetails,e.setState(Object(u.a)({loading:!1,reservationData:n},e.getReservationFields(n))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0,e.getReservationData);case 11:case"end":return t.stop()}},t,null,[[0,8]])})))},e.getServiceCharge=Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.query({query:Vs,fetchPolicy:"network-only"});case 3:a=t.sent,n=a.data.serviceCharge,i=n.findIndex(function(e){return"service_fee"===e.name}),e.setState({serviceCharge:n[i].percentage}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])})),e.getReservationFields=function(e){var t=Wt.getEditedFields(e),a=t.adultCount,n=t.childrenCount,i=t.infantCount,o=t.startTime,r=t.endTime,s=t.date,l=a+n,d=e.pool.default_instant_booking&&e.pool.instant_group_size>=l&&e.pool.max_guests>=l;e.pool.bookings=ft.a.reject(e.pool.bookings,{id:e.id});var c=qt(e.pool,s),m=c.invalidDates;return c.selectedDateIsInvalid&&(s=null,o=null,r=null),{selectedDate:s,startTime:o,endTime:r,isDefaultInstantBooking:d,adultCount:a,childrenCount:n,infantCount:i,invalidDates:m,firstAvailableDate:c.firstAvailableDate,allDatesIsInvalid:c.allDatesIsInvalid,initialFields:{selectedDate:s,startTime:o,endTime:r,adultCount:a,childrenCount:n,infantCount:i}}},e.updateInstant=function(){var t=e.state,a=t.adultCount,n=t.childrenCount,i=t.reservationData;e.setState({isDefaultInstantBooking:Wt.isInstantBooking({reservation:i,adultCount:a,childrenCount:n})})},e.handleGuestsPopup=function(){e.setState({showGuests:!e.state.showGuests,showCalendar:!1,showTimer:!1})},e.handleCalendarPopup=function(){e.setState({showGuests:!1,showCalendar:!e.state.showCalendar,showTimer:!1})},e.handleTimerPopup=function(){e.setState({showGuests:!1,showCalendar:!1,showTimer:!e.state.showTimer})},e.handleApplyDate=function(t){t=gt()(t).isBefore(gt()(e.state.firstAvailableDate),"day")?e.state.firstAvailableDate:t,t=e.state.allDatesIsInvalid?null:t,e.setState({selectedDate:gt()(t),showCalendar:!1})},e.handleApplyTime=function(t){var a=t.startTime,n=t.endTime;e.setState({startTime:a,endTime:n,showTimer:!1})},e.handleApplyGuests=function(t){e.setState(t,e.updateInstant)},e.handleDisable=function(){return!(e.state.adultCount+e.state.childrenCount)||!e.state.startTime||!e.state.endTime},e.handleReservationChangesPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({showReservationChangesPopup:t})},e.getAddress=function(){var t=e.state.reservationData.pool;return"".concat(t.city?"".concat(t.city,", "):"").concat(t.state?"".concat(t.state,", "):"").concat("00000"!==t.zip_code?"".concat(t.zip_code,", "):"")},e.handleError=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Gt(t);e.setState({loading:!1,showReservationChangesPopup:!1,errorMessage:n?"Something went wrong.":""},Object(m.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("error",t),"Unauthenticated."!==i){n.next=6;break}return n.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===n.sent&&a();case 6:case"end":return n.stop()}},n)})))},e.clearErrorMessage=function(){e.setState({errorMessage:""})},e.getEditedData=function(){var t=e.state,a=t.adultCount,n=t.childrenCount,i=t.infantCount,o=t.selectedDate,r=t.startTime,s=t.endTime,l=t.initialFields,d={};return r===l.startTime&&s===l.endTime||(d.from=Rt.find(function(e){return e.timeNumber===r}).displayFormattedTime,d.to=Rt.find(function(e){return e.timeNumber===s}).displayFormattedTime),a!==l.adultCount&&(d.adult_guests=a),n!==l.childrenCount&&(d.children_guests=n),i!==l.infantCount&&(d.infant_guests=i),gt()(o).isSame(l.selectedDate,"day")||(d.date=gt()(o).format("YYYY-MM-DD")),d},e.success=function(){e.setState({loading:!1,showReservationChangesPopup:!1},function(){e.props.history.goBack()})},e.proceed=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.getEditedData(),Object.keys(a).length){t.next=5;break}return e.success(),t.abrupt("return");case 5:return a.booking_id=+e.props.match.params.id,t.next=8,e.props.client.mutate({mutation:qs,variables:{data:a}});case 8:n=t.sent,(i=n.data.editBookingPool).status.match(/EDIT_BOOKING_SUCCESSFUL|EDIT_BOOKING_READY_APPROVE/)?e.success():e.setState({loading:!1,showReservationChangesPopup:!1,errorMessage:i.message}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.handleError(t.t0,e.proceed,!0);case 16:case"end":return t.stop()}},t,null,[[0,13]])})))},e.getEditedPrice=function(t){var a=e.state,n=a.reservationData,i=a.serviceCharge;(n=Object(u.a)({},n)).edited_fields=t;var o=Wt.getEditedFields(n),r=o.adultCount,s=o.childrenCount,l=o.startTime,d=o.endTime;return n.edited_fields.to&&(d-=1),Wt.getPrice({reservation:n,serviceCharge:i,startTime:l,endTime:d,adultCount:r,childrenCount:s}).totalPrice},e.handleAction=function(){var t=e.state,a=t.reservationData,n=t.isDefaultInstantBooking,i=e.getEditedData(),o=e.getEditedPrice(i),r=Wt.isInstantBooking({reservation:a,adultCount:a.adult_guests,childrenCount:a.children_guests}),s=o>a.reservation_price_total||!r&&n;Object.keys(i).length?s?e.handleReservationChangesPopup(!0):e.proceed():e.success()},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getReservationData(),this.getServiceCharge()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.reservationData;return i.a.createElement(E.Typography,{variant:"body1",component:"div"},i.a.createElement("div",{className:"".concat(e.container," ").concat(this.state.showGuests?"extra-bottom-padding":"")},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:e.poolInfoContainer},i.a.createElement(Ds,null),i.a.createElement("h2",{className:"title"},t?t.pool.title:""),i.a.createElement("p",{className:"address gray"},t?this.getAddress(t.pool):""),i.a.createElement("div",{className:"price-container"},i.a.createElement("p",{className:"hourly-price"},i.a.createElement("span",{className:"blue"},"$",t?t.pool.hourly_price:"0")," per hour"),t&&t.pool.price_per_guest_enabled&&i.a.createElement("p",{className:"text"},i.a.createElement("span",{className:"blue"},"$",t?t.pool.price_per_guest:"0")," for guest per hour ",i.a.createElement("span",{className:"gray"},"(after ",t.pool.price_per_guest_min_capacity||"10"," people)"))))),i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:e.formContainer},i.a.createElement("h3",{className:e.sectionTitle},"What would you like to change?"),i.a.createElement("div",null,i.a.createElement(Bi,{poolDetails:t&&t.pool,date:this.state.selectedDate,startTime:this.state.startTime,endTime:this.state.endTime,handleApplyDate:this.handleApplyDate,handleApplyTime:this.handleApplyTime,handleCalendarPopup:this.handleCalendarPopup,handleTimerPopup:this.handleTimerPopup,showCalendar:this.state.showCalendar,showTimer:this.state.showTimer,isDefaultInstantBooking:this.state.isDefaultInstantBooking,invalidDates:this.state.invalidDates})),i.a.createElement("div",null,i.a.createElement(Ts,{poolDetails:t&&t.pool,adultCount:this.state.adultCount,childrenCount:this.state.childrenCount,infantCount:this.state.infantCount,handleApply:this.handleApplyGuests,handleGuestsPopup:this.handleGuestsPopup,showGuests:this.state.showGuests})),i.a.createElement("div",{className:e.errorMessageContainer},i.a.createElement(Us,{message:this.state.errorMessage,hide:this.clearErrorMessage})),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(As,{disabled:this.handleDisable(),onClick:this.handleAction},"Request a change"))))),i.a.createElement(js,{show:this.state.showReservationChangesPopup,reservation:this.state.reservationData,startTime:this.state.startTime,endTime:this.state.endTime,adultCount:this.state.adultCount,childrenCount:this.state.childrenCount,onCancel:this.handleReservationChangesPopup.bind(this,!1),onSubmit:this.proceed,isDefaultInstantBooking:this.state.isDefaultInstantBooking,serviceCharge:this.state.serviceCharge}),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);$s.defaultProps={classes:{}};var Qs=C()(Object(T.withStyles)(Hs),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement($s,Object.assign({},t,e))});function Ks(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Js={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zs=function(e){Object(h.a)(a,e);var t=Ks(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={bookingDetails:"",poolDetails:""},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.history,a=ie.getPoolBookingStatus();if(null!==a&&""!==a){var n=(a=JSON.parse(a)).pool_id,i=parseInt(n);this.setState({loading:!0}),this.props.client.query({query:Js,variables:{id:i},fetchPolicy:"network-only"}).then(function(t){ie.removePoolBookingStatus(),e.setState({poolDetails:t.data.pool,bookingDetails:a})}).catch(function(e){})}else t.push("/")}},{key:"successfulBooking",value:function(e){window.location.href="/payment-method"}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.bookingDetails,n=t.poolDetails,o=new Date(a.date);return o=gt()(o).format("ddd, MMMM DD, YYYY"),i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("img",{className:e.reservationSuccessImg,src:window.location.origin+"/img/reservation_banner.png",alt:""}),i.a.createElement("div",{className:e.successPage},i.a.createElement("div",{className:e.successPageTop},i.a.createElement(Oe.a,{variant:"h2"},"book_this_pool"===a.status?"You booked this pool!":"Reservation Requested"),i.a.createElement("p",null,"The host has been noticed and is excited for you a take a dip!")),i.a.createElement("div",{className:e.successPageBottom},i.a.createElement(Oe.a,{variant:"h3"},n.title),"book_this_pool"===a.status?i.a.createElement("p",null,n.city,", ",n.state,"00000"!==n.zip_code?", "+n.zip_code:""):"Address will be shown after confirmation",i.a.createElement("p",null,o," from ",a.from," to ",a.to),i.a.createElement(ze.a,{to:"/my-reservation"},i.a.createElement(Oe.a,{variant:"button"},"View my Reservations")))))}}]),a}(i.a.Component),Xs=C()(Object(T.withStyles)(function(e){return{successPage:{background:"#fff",boxShadow:"0 0 3px #ccc",width:" 100%",maxWidth:"650px",margin:"-165px auto 0 auto",position:"relative",textAlign:"center",padding:"25px"},successPageTop:{borderBottom:"1px solid #f3f5f5",paddingBottom:"25px",margin:"0 -25px 25px","& p":{fontSize:"12px",marginTop:"5px"},"& h2":{fontSize:"25px"}},successPageBottom:{maxWidth:"300px",margin:"0 auto","& h3":{marginBottom:"8px"},"& p":{fontSize:"13px",marginTop:"8px"},"& span":{display:"inline-block",marginTop:"20px"}},reservationSuccessImg:{width:"100%","@media (max-width:767px)":{minHeight:"200px"}}}}),je.a,b.b)(Zs);function el(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var tl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},al=function(e){Object(h.a)(a,e);var t=el(a);function a(e){var n;Object(p.a)(this,a),n=t.call(this,e);var i=ie.getUserRole();return n.state={bookingDetails:"",poolDetails:"",loading:!1,userRole:i},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.history,a=ie.getPoolBookingStatus();if(null!==a&&""!==a){var n=(a=JSON.parse(a)).pool_id,i=parseInt(n);this.setState({loading:!0}),this.props.client.query({query:tl,variables:{id:i},fetchPolicy:"network-only"}).then(function(t){ie.removePoolBookingStatus(),e.setState({poolDetails:t.data.pool,bookingDetails:a,loading:!1})}).catch(function(t){e.setState({loading:!1})})}else t.push("/")}},{key:"successfulBooking",value:function(e){window.location.href="/payment-method"}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.bookingDetails,o=t.poolDetails,r=t.userRole,s=new Date(n.date);return s=gt()(s).format("ddd, MMMM DD, YYYY"),i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("img",{className:e.reservationSuccessImg,src:window.location.origin+"/img/reservation_banner.png",alt:""}),i.a.createElement("div",{className:e.successPage},i.a.createElement("div",{className:e.successPageTop},i.a.createElement(Oe.a,{variant:"h2"},"Reservation cancelled"),i.a.createElement("p",null,"The host has been notified.")),i.a.createElement("div",{className:e.successPageBottom},i.a.createElement(Oe.a,{variant:"h3"},o.title),i.a.createElement("p",null,s," "),i.a.createElement("p",null,"from ",i.a.createElement("font",null,n.from)," to ",i.a.createElement("font",null,n.to)),i.a.createElement("div",{className:e.successPageMessage},i.a.createElement("p",null,"You may be charged for this cancelled reservation per the Host's cancellation policy. refunds due to weather are granted at the hosts's discretion. ")),"Host"===r?i.a.createElement(ze.a,{to:"/host-reservation"},i.a.createElement(Oe.a,{variant:"button"},"View my Reservations")):i.a.createElement(ze.a,{to:"/my-reservation"},i.a.createElement(Oe.a,{variant:"button"},"View my Reservations")))))}}]),a}(i.a.Component),nl=C()(Object(T.withStyles)(function(e){return{successPage:{background:"#fff",boxShadow:"0 0 3px #ccc",width:" 100%",maxWidth:"500px",margin:"-165px auto 0 auto",position:"relative",textAlign:"center",padding:"25px","@media (max-width:767px)":{width:"75%"}},successPageTop:{borderBottom:"1px solid #f3f5f5",paddingBottom:"25px",margin:"0 -25px 25px","& p":{fontSize:"12px",marginTop:"5px",padding:"0 15px"},"& h2":{fontSize:"16px"}},successPageBottom:{maxWidth:"300px",margin:"0 auto","& h3":{marginBottom:"8px"},"& p":{fontSize:"14px",marginTop:"0px",color:e.palette.common.black,marginBottom:"0"},"& span":{display:"inline-block",marginTop:"20px"}},successPageMessage:{background:"#fdece2",padding:"15px 15px",textAlign:"left",margin:"30px 0 20px","& p":{color:"#f7a371",marginTop:0,marginBottom:0,"& font":{textTransform:"uppercase"}}},"& font":{textTransform:"uppercase"},reservationSuccessImg:{width:"100%","@media (max-width:767px)":{minHeight:"200px"}}}}),je.a,b.b)(al);function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ol={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},rl=function(e){Object(h.a)(a,e);var t=il(a);function a(e){var n;Object(p.a)(this,a),n=t.call(this,e);var i=ie.getUserRole();return n.state={bookingDetails:"",poolDetails:"",loading:!1,userRole:i},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.history,a=ie.getPoolBookingStatus();if(null!==a&&""!==a){var n=(a=JSON.parse(a)).pool_id,i=parseInt(n);this.setState({loading:!0}),this.props.client.query({query:ol,variables:{id:i},fetchPolicy:"network-only"}).then(function(t){ie.removePoolBookingStatus(),e.setState({poolDetails:t.data.pool,bookingDetails:a,loading:!1})}).catch(function(t){e.setState({loading:!1})})}else t.push("/")}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.bookingDetails,o=t.poolDetails,r=t.userRole;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("img",{className:e.reservationSuccessImg,src:window.location.origin+"/img/reservation_banner.png",alt:""}),i.a.createElement("div",{className:e.successPage},i.a.createElement("div",{className:e.successPageTop},i.a.createElement(Oe.a,{variant:"h2"},"book_this_pool"===n.status?"Your pool is booked!":"Reservation Requested"),i.a.createElement("p",null,"book_this_pool"===n.status?"The host has been notified and is excited for you a take a dip!":"Your request has been sent to the host for review. Once approved, you will be asked to confirm and proceed to checkout."),i.a.createElement("p",null)),i.a.createElement("div",{className:e.successPageBottom},i.a.createElement(Oe.a,{variant:"h3"},o.title),"book_this_pool"===n.status?i.a.createElement("p",null,o.full_address):"Address will be shown after confirmation",i.a.createElement("p",null,n.date," from ",n.from," to ",n.to),"Host"===r?i.a.createElement(ze.a,{to:"/host-reservation",onClick:function(){ie.setPreviousUrl("reservation-success")}},i.a.createElement(Oe.a,{variant:"button"},"View my Reservations")):i.a.createElement(ze.a,{to:"/my-reservation"},i.a.createElement(Oe.a,{variant:"button"},"View my Reservations")))))}}]),a}(i.a.Component),sl=C()(Object(T.withStyles)(function(e){return{successPage:{background:"#fff",boxShadow:"0 0 3px #ccc",width:" 100%",maxWidth:"500px",margin:"-165px auto 0 auto",position:"relative",textAlign:"center",padding:"25px","@media (max-width:767px)":{width:"75%"}},successPageTop:{borderBottom:"1px solid #f3f5f5",paddingBottom:"25px",margin:"0 -25px 25px","& p":{fontSize:"12px",marginTop:"5px",padding:"0 15px"},"& h2":{fontSize:"25px"}},successPageBottom:{maxWidth:"300px",margin:"0 auto","& h3":{marginBottom:"8px"},"& p":{fontSize:"14px",marginTop:"10px",marginBottom:"0px",color:e.palette.common.black,fontWeight:"400"},"& span":{display:"inline-block",marginTop:"20px",padding:"8px 30px"}},reservationSuccessImg:{width:"100%","@media (max-width:767px)":{minHeight:"200px"}}}}),je.a,b.b)(rl),ll=a(157),dl=a.n(ll);var cl=C()(Object(T.withStyles)(Fo,{withTheme:!0}),je.a)(function(e){var t=e.history,a=e.classes,n=e.withLogout,o=e.from,r=ie.getUserCountry(),s=Lt.find(function(e){return r.toLowerCase()===e.code}),l=s?s.displayName:"Australian";return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:a.placeholderContainer},i.a.createElement("p",null,n&&i.a.createElement("span",{className:"".concat(a.link," ").concat(a.logout),onClick:function(){ie.logout(),t.push("/")}},"LOG OUT"),"You are an ",l," host, do you want to",i.a.createElement(Ya,{from:o},i.a.createElement("span",{className:a.link},"switch to the ",l," website?")))))}),ml=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul":{padding:"0",margin:"0",listStyleType:"none"}},innerContainer:{maxWidth:"400px",width:"100%"},alignItemsCenter:{display:"flex",alignItems:"center"},spaceBetween:{display:"flex",justifyContent:"space-between"},marginBottom:{marginBottom:"15px"},sectionTitle:{margin:"20px 0 10px",fontSize:"18px",color:"#aeb3b3"},link:{margin:"0",color:e.palette.common.blue,cursor:"pointer"},item:{position:"relative",display:"flex",alignItems:"center",padding:"10px 25px 10px 10px",marginTop:"10px",borderBottom:"1px solid #dadfdf",cursor:"pointer",transition:"all 0.1s ease","&:hover":{opacity:"0.8"},"&:before":{content:"''",display:"inline-block",width:"20px",height:"20px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.public:before":{backgroundImage:"url('/img/screens/profile/public.png')"},"&.private:before":{backgroundImage:"url('/img/screens/profile/private.png')"},"&.verification:before":{backgroundImage:"url('/img/commons/verified.png')"},"&.notifications:before":{backgroundImage:"url('/img/screens/profile/notifications.png')"},"&.help:before":{backgroundImage:"url('/img/screens/profile/help-center.png')"},"&.contact:before":{backgroundImage:"url('/img/screens/profile/email.png')"},"&.terms:before":{backgroundImage:"url('/img/screens/profile/terms-of-use.png')"},"&.privacy:before":{backgroundImage:"url('/img/screens/profile/privacy-policy.png')"},"&.pool:before":{width:"24px",height:"24px",marginRight:"6px",backgroundImage:"url('/img/screens/profile/pool.png')"},"&.present:before":{backgroundImage:"url('/img/screens/profile/colored-present.png')"},"&.payments:before":{backgroundImage:"url('/img/screens/profile/payments.png')"},"&.favorites:before":{backgroundImage:"url('/img/icons/heart-filled.png')"},"&.bank:before":{backgroundImage:"url('/img/commons/swimply-bank.png')"},"&.invite-friends:before":{backgroundImage:"url('/img/screens/profile/invite-friends.png')"},"&.bank":{marginTop:"20px",paddingRight:"60px","& p.money":{position:"absolute",right:"25px",fontSize:"20px",fontWeight:"700",lineHeight:"20px",color:e.palette.common.blue}},"&.blue":{backgroundColor:"#e0f7fb"},"&.border-none":{border:"none"},"&.margin-none":{margin:"0"},"&.extra-padding":{padding:"17px 10px"},"& p":{margin:"0",fontSize:"16px","&.blue":{color:e.palette.common.blue}}},rightBlueArrow:{position:"absolute",right:"10px",fontSize:"20px",color:e.palette.common.blue},userInfoContainer:{display:"flex",alignItems:"center"},avatar:{width:"70px",height:"70px"},email:{margin:"5px 0",fontSize:"14px",fontWeight:"400",color:e.palette.common.darkgray},exclamation:{"& p":{color:"red"},"& div":{position:"absolute",right:"15px",top:"10px","& .with-margin":{marginRight:"10px",color:"red",fontSize:"20px"}}},verifiedButton:{position:"relative",display:"flex",alignItems:"center",maxWidth:"320px",width:"100%",marginTop:"20px",padding:"10px 20px",border:"1px solid ".concat(e.palette.common.blue),borderRadius:"30px",fontSize:"16px",color:e.palette.common.black,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"opacity 0.1s ease","&:hover":{opacity:"0.8"},"&:before":{content:"''",display:"inline-block",width:"15px",height:"18px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/verified.png)"},"& .right-blue-arrow":{fontSize:"22px",right:"18px"}},verifiedMessage:{display:"flex","&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/alert.png)"}},progressBarContainer:{maxWidth:"320px",width:"100%",margin:"20px 0 10px",paddingBottom:"20px",borderBottom:"1px solid #dadfdf","& .percentage":{textAlign:"center"}}}},ul=function(e){return{popupContainer:{minWidth:"250px"},subTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},select:{maxWidth:"300px",width:"100%"},buttonsContainer:{display:"flex",margin:"40px 0 0"},okButton:{maxWidth:"70px",transition:"all 0.2s ease"},cancelButton:{maxWidth:"70px",background:"transparent",color:e.palette.common.blue,transition:"all 0.2s ease","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.9"}}}},pl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"stripeExpressDashboard"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getStripeExpressLink"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:93,source:{body:"query stripeExpressDashboard {\n  getStripeExpressLink {\n    object\n    created\n    url\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},vl=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"init",value:function(e){var t=e.client;this.client=t}},{key:"redirectToStripeDashboard",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.open(),e.next=3,this.client.query({query:pl,fetchPolicy:"network-only"});case 3:a=e.sent,(n=a.data.getStripeExpressLink).url&&(t.location=n.url);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function gl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var hl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"accurateCountry"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"accurateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accurateCountry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103,source:{body:"mutation accurateCountry($data:accurateInput!){\n    accurateCountry(data:$data){\n        status\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},fl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kl=function(e){Object(h.a)(a,e);var t=gl(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showStripeCountrySelectPopup:!1},e.handleError=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};console.log("error",t),e.setState({loading:!1,showStripeCountrySelectPopup:!1},Object(m.a)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("Unauthenticated."!==Gt(t)){n.next=8;break}return n.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===n.sent&&a(),n.next=9;break;case 8:e.props.handleErrorMessage("Something went wrong.");case 9:case"end":return n.stop()}},n)})))},e.handleStripeCountrySelectPopup=function(t){e.setState({showStripeCountrySelectPopup:t,country:e.props.user.country_code})},e.onSelect=function(t){var a=t.target.value;e.setState({country:a})},e.handleNewStripeUrl=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:hl,variables:{data:{code:e.state.country}}});case 3:return t.next=5,e.props.client.query({query:fl,fetchPolicy:"network-only"});case 5:a=t.sent,n=a.data.me,e.setState({loading:!1,showStripeCountrySelectPopup:!1},function(){e.handleRedirect(n)}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.handleError(t.t0,e.handleNewStripeUrl);case 13:case"end":return t.stop()}},t,null,[[0,10]])})))},e.connectStripeAccount=function(){e.props.user&&(Mt.test(e.props.user.country_code)?e.handleStripeCountrySelectPopup(!0):e.handleRedirect(e.props.user))},e.handleRedirect=function(t){t.stripe_id&&!t.stripe_account_onboard?vl.redirectToStripeDashboard():e.redirectToStripe(t.stripe_connect_url)},e.redirectToStripe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=(t=t||e.state.stripe_url)+"&redirect_uri="+window.location.href,window.open(t,"_self")},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement("div",{onClick:this.connectStripeAccount},this.props.children),i.a.createElement(Je.a,{className:e.popup,keepMounted:!0,open:this.state.showStripeCountrySelectPopup},i.a.createElement(tt.a,{className:e.popupContainer},i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("p",{className:"".concat(e.subTitle)},"Choose your country"),i.a.createElement(oi.a,{className:e.select,value:this.state.country,onChange:this.onSelect},i.a.createElement(si.a,{value:"US"},"USA"),i.a.createElement(si.a,{value:"CA"},"CANADA"))),i.a.createElement("div",{className:e.buttonsContainer},i.a.createElement(Oe.a,{variant:"button",className:e.okButton,onClick:this.handleNewStripeUrl},"Next"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelButton,onClick:this.handleStripeCountrySelectPopup.bind(this,!1)},"Cancel")))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component);var bl=C()(Object(T.withStyles)(ul),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(kl,Object.assign({},t,e))});kl.defaultProps={client:{},classes:{},children:null};var yl=a(13),xl=a.n(yl),Nl=function(e){return{container:{display:"flex",boxSizing:"border-box","& *":{boxSizing:"border-box"},"& .step":{flexGrow:"1",marginRight:"5px",padding:"2px 0",borderRadius:"2px",backgroundColor:"#EAEAEA","&:last-child":{marginRight:"0"},"&.active":{backgroundColor:e.palette.common.blue}}}}};function Sl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var wl=function(e){Object(h.a)(a,e);var t=Sl(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.steps,n=e.completedSteps;return a=Array.from(Array(a).keys()),i.a.createElement("div",{className:t.container},a.map(function(e,t){return i.a.createElement("div",{className:"step ".concat(t<=n-1?"active":"")})}))}}]),a}(n.Component);wl.defaultProps={steps:3,completedSteps:xl.a.number.isRequired};var _l=C()(Object(T.withStyles)(Nl))(wl);function El(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Fl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveConnectedAccount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OauthInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveConnectedAccount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111,source:{body:"mutation saveConnectedAccount($data:OauthInput!){\n\tsaveConnectedAccount(data:$data){\n\t  status\n\t  message\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Cl=function(e){Object(h.a)(a,e);var t=El(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),balance:0},e.handleStripeCode=function(){var t=dl.a.parse(e.props.location.search);t.code&&e.setState({loading:!0},Object(m.a)(c.a.mark(function a(){var n,i,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.client.mutate({mutation:Fl,variables:{data:{code:t.code}}});case 3:n=a.sent,(i=n.data.saveConnectedAccount).status?e.setState({loading:!1},function(){e.props.history.replace("/profile")}):(e.setState({loading:!1,errorMessage:i.message}),console.log("err",i.message)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error",a.t0),o=Gt(a.t0),e.setState({errorMessage:o,loading:!1});case 13:case"end":return a.stop()}},a,null,[[0,8]])})))},e.redirectToStripeDashboard=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:vl.redirectToStripeDashboard();case 1:case"end":return e.stop()}},e)})),e.goBack=function(){e.props.history.goBack()},e.navigateTo=function(t){"/payment-method"!==t?e.props.history.push(t):e.props.history.push({pathname:"/payment-method",state:{needGoBackAfterUpdate:e.props.needGoBackAfterUpdate}})},e.goToVerification=function(){var t=e.props.user,a="showed"===ie.getVerificationGetStarted(),n=t&&t.roles&&"Host"===t.roles[0].name&&t.isAnyPool,i=t&&Wt.isVerified(t.verifications,n);a||i?e.navigateTo("/profile/verification"):e.navigateTo("/profile/verification-get-started")},e.logout=function(){ie.setPreviousUrl(e.props.location.pathname),ie.setPreviousSearchUrl(e.props.location.search),ie.setIsPreviousUrl("yes"),ie.logout(),e.props.history.push("/")},e.goToListYourPool=function(){e.props.history.push("/hostprompt")},e.getProfileImage=function(){var t=e.props.user;return t&&t.img_url?t.img_url:window.location.origin+"/img/profile-icon.png"},e.getProfileName=function(){var t=e.props.user;return t?"".concat(t.firstname," ").concat(t.lastname||""):""},e.getProfileEmail=function(){var t=e.props.user;return t?t.email:""},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleStripeCode(),ie.getAccessToken()?this.props.handleUser():this.logout()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;if(this.state.showHostPlaceholder)return i.a.createElement(cl,{withLogout:!0});var n=a&&a.roles,o=n&&("Swimmer"===a.roles[0].name||"Host"===a.roles[0].name&&!a.isAnyPool),r=n&&"Host"===a.roles[0].name&&a.isAnyPool,s=n&&Wt.isFullVerified(a&&a.verifications,r),l=n&&Wt.isVerified(a&&a.verifications,r),d=Wt.getVerifiedInPercentage(a&&a.verifications,r),c=d.percentage,m=d.completedSteps,u=a&&a.referral_balance?a.referral_balance:0,p=i.a.createElement("i",{className:"".concat(t.rightBlueArrow," fa fa-angle-right right-blue-arrow"),"aria-hidden":"true"});return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.innerContainer},i.a.createElement("div",{className:"".concat(t.alignItemsCenter," ").concat(t.spaceBetween," ").concat(t.marginBottom)},i.a.createElement(Ds,null),i.a.createElement("p",{onClick:this.logout,className:"".concat(t.link)},"Log out")),i.a.createElement("div",{className:t.userInfoContainer},i.a.createElement(io,{user:a,verifiedIconSize:"big",className:t.avatar,src:this.getProfileImage(),alt:"Host Avatar"}),i.a.createElement("div",null,i.a.createElement(Da.j,{variant:"h3"},this.getProfileName()),i.a.createElement(Da.j,{variant:"h4",className:t.email},this.getProfileEmail()))),s?null:i.a.createElement("div",null,i.a.createElement("button",{onClick:this.goToVerification,className:t.verifiedButton},l?"Complete Verification":r?"Become a verified Host":"Become a verified Swimmer",p),r?i.a.createElement("div",{className:t.progressBarContainer},i.a.createElement(_l,{steps:3,completedSteps:m}),i.a.createElement("p",{className:"percentage"},c||0," % verification completed")):null,i.a.createElement("p",{className:t.verifiedMessage},r?"Verified hosts receive more bookings and quicker payments!":"Verified Swimmers are approved more often and get access to more pools.")),i.a.createElement("div",null,i.a.createElement("ul",null,i.a.createElement("li",{className:"".concat(t.item," bank"),onClick:this.navigateTo.bind(this,"/profile/referral-info")},i.a.createElement("p",null,r?"Invite friends to book your pool!":"Swimply Bank"),i.a.createElement("p",{className:"money"},"$ ",u),p))),i.a.createElement("div",null,i.a.createElement(Da.j,{variant:"h2",className:t.sectionTitle},"Account settings"),i.a.createElement("ul",null,i.a.createElement("li",{className:"".concat(t.item," public"),onClick:this.navigateTo.bind(this,"/profile/edit-public-info")},i.a.createElement("p",null,"Public information"),p),i.a.createElement("li",{className:"".concat(t.item," private"),onClick:this.navigateTo.bind(this,"/profile/edit-private-info")},i.a.createElement("p",null,"Private information"),p),s?i.a.createElement("li",{className:"".concat(t.item," verification"),onClick:this.navigateTo.bind(this,"/profile/verification")},i.a.createElement("p",null,"Verification information"),p):null,r&&a.stripe_id?a.stripe_account_onboard?i.a.createElement("li",{onClick:this.redirectToStripeDashboard,className:"".concat(t.item," payments")},i.a.createElement("p",null,"View payments"),p):i.a.createElement("li",{onClick:this.redirectToStripeDashboard,className:"".concat(t.item," ").concat(t.exclamation," payments")},i.a.createElement("p",null,"Setup your Stripe account"),p):null,!r||a.stripe_account_onboard||a.stripe_id?null:i.a.createElement(bl,null,i.a.createElement("li",{className:"".concat(t.item," ").concat(t.exclamation," payments")},i.a.createElement("p",null,"Connect to Stripe"),i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-exclamation-circle with-margin"})),p)),i.a.createElement("li",{className:"".concat(t.item," payments"),onClick:this.navigateTo.bind(this,"/payment-method")},i.a.createElement("p",null,"Choose a Payment Method"),p),i.a.createElement("li",{className:"".concat(t.item," favorites"),onClick:this.navigateTo.bind(this,"/favorites")},i.a.createElement("p",null,"Favorites"),p),i.a.createElement("li",{className:"".concat(t.item," notifications"),onClick:this.navigateTo.bind(this,"/profile/edit-profile-notifications")},i.a.createElement("p",null,"Notifications"),p),o?i.a.createElement("li",{className:"".concat(t.item," present margin-none blue extra-padding"),onClick:this.navigateTo.bind(this,"/profile/referral-info")},i.a.createElement("p",{className:"blue"},"Earn free swims!"),p):null,o?i.a.createElement("li",{className:"".concat(t.item," pool"),onClick:this.goToListYourPool},i.a.createElement("p",null,"List my pool"),p):null)),i.a.createElement("div",null,i.a.createElement(Da.j,{variant:"h2",className:t.sectionTitle},"Information"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{className:"".concat(t.item," link help"),href:"https://swimply.zendesk.com/hc/en-us",rel:"noopener noreferrer",target:"_blank"},i.a.createElement("p",null,"Help center"))),i.a.createElement("li",{className:"".concat(t.item," contact"),onClick:this.navigateTo.bind(this,"/profile/contact-us")},i.a.createElement("p",null,"Contact us"),p),i.a.createElement("li",null,i.a.createElement("a",{className:"".concat(t.item," terms"),href:"https://swimply.com/termsandconditions",rel:"noopener noreferrer",target:"_blank"},i.a.createElement("p",null,"Terms of use"))),i.a.createElement("li",null,i.a.createElement("a",{className:"".concat(t.item," privacy"),href:"https://swimply.com/privacy",rel:"noopener noreferrer",target:"_blank"},i.a.createElement("p",null,"Privacy Policy"))))))),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);Cl.defaultProps={classes:{},user:null};var Tl=C()(Object(T.withStyles)(ml),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(zi).region;return i.a.createElement(Cl,Object.assign({region:a},t,e))});function Pl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Il=function(e){Object(h.a)(a,e);var t=Pl(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history,t=this.props.match.params.id;""!==t&&(ie.logout(),ie.setReferralId(t),ie.setReferralIdStatus("referred"),e.push("/"))}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),a}(i.a.Component),Dl=C()(Object(T.withStyles)(function(e){return{}}),je.a)(Il);function Ol(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Rl=function(e){Object(h.a)(a,e);var t=Ol(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history,t=this.props.match.params.token;""!==t&&(ie.logout(),ie.setVerifyEmailId(t),e.push("/"))}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),a}(i.a.Component),Al=C()(Object(T.withStyles)(function(e){return{}}),je.a)(Rl),Bl=a(429);function Ml(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var jl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ll={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"inviteReferral"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"InviteInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Invite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:79,source:{body:"query inviteReferral($data: InviteInput){\n  Invite(data:$data){\n   status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Wl=function(e){Object(h.a)(a,e);var t=Ml(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={referral:"",loading:!1,copied:!1,referalLink:"",description:"",showEmailError:!1,submitForm:!1,successMessage:"",inviteFrndLink:window.location.origin+"/referral?code=",showHostPlaceholder:Wt.handleHostPlaceholder()},n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n.handleInputs=n.handleInputs.bind(Object(g.a)(n)),n.submitInviteRefers=n.submitInviteRefers.bind(Object(g.a)(n)),n.handleCloseSuccess=n.handleCloseSuccess.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getAccessToken(),a=this.props.history;null!==t&&""!==t?(this.setState({loading:!0}),this.props.client.query({query:jl,fetchPolicy:"network-only"}).then(function(t){e.setState({referral:t.data.me.referral||"",loading:!1}),ie.setUserID(t.data.me.id),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id)}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({loading:!1}),"Unauthenticated."!==n){t.next=5;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())):a.push("/")}},{key:"handleCloseSuccess",value:function(){this.setState({successMessage:""})}},{key:"handleInputs",value:function(e){""===e.target.value?this.setState({showEmailError:!0}):this.setState({showEmailError:!1}),this.setState({description:e.target.value})}},{key:"submitInviteRefers",value:function(){var e=this,t=this.state,a=t.referral,n=t.description,i=t.inviteFrndLink;if(""===n)this.setState({showEmailError:!0,submitForm:!0});else{this.setState({showEmailError:!1,submitForm:!1,loading:!0});var o=n.split(" ");this.props.client.query({query:Ll,variables:{data:{referral:i+""+a,to:o}}}).then(function(t){e.setState({successMessage:"Referral link sent successfully.",description:"",loading:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({profileFailError:n,loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.submitInviteRefers();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"handleBackBtn",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.loading,o=a.description,r=a.referral,s=a.inviteFrndLink,l=a.copied,d=a.showEmailError,c=a.submitForm,m=a.successMessage,u=s+""+r;return this.state.showHostPlaceholder?i.a.createElement(cl,null):i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.profileMain},i.a.createElement("div",{className:t.backButton,onClick:this.handleBackBtn},i.a.createElement("i",{className:"fa fa-angle-left"})," back"),i.a.createElement(Oe.a,{variant:"h2"},"Invite friends! "),""===m?"":i.a.createElement(Oe.a,{variant:"overline",component:"p",className:t.errorMsgClose+" "+t.messageClass},m,i.a.createElement("i",{className:"fa fa-close "+t.closeBtn,onClick:this.handleCloseSuccess})),i.a.createElement("div",{className:t.referalCode},i.a.createElement("label",null,"Referral Link"),i.a.createElement("p",null,u),i.a.createElement(Bl.CopyToClipboard,{text:u,onCopy:function(){return e.setState({copied:!0})}},i.a.createElement(Ae.a,{className:t.managePaymentBtn},"Copy")),"  ",!0===l?i.a.createElement("span",{className:t.copiedText},"Copied!"):""),i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:12,md:8},i.a.createElement("div",{className:t.profileMainLeft},i.a.createElement("div",{className:t.profileMainLeftBox},i.a.createElement("div",{className:(!0===d&&!0===c?t.errorMessage:"")+" "+t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Invite your friends by email"),i.a.createElement(Xe.a,{id:"outlined-email-input",className:t.textFieldTwo,placeholder:"",type:"text",name:"description",autoComplete:"",margin:"normal",variant:"outlined",multiline:!0,rows:8,rowsMax:8,value:o,onChange:this.handleInputs}),i.a.createElement("p",null,"Enter one email address per line")),i.a.createElement("div",{className:t.inviteMessage},i.a.createElement("p",null,"Share a link with your friends and we will give them their first $5 on the house."),i.a.createElement("p",null,"Invite a host and you will both get a $50 bonus after their first booking!")),i.a.createElement(Oe.a,{variant:"button",onClick:this.submitInviteRefers},"Send Invites!"))))))))}}]),a}(i.a.Component);var zl=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",position:"fixed",top:"0",background:"#fff",zIndex:" 9",height:"100vh",overflow:"auto"},"& > a":{display:"block",color:e.palette.common.blue,marginBottom:"7px",textDecoration:"none"}},profileMain:{paddingTop:"40px",paddingBottom:"40px","& h2":{marginBottom:"10px",fontSize:"35px"},"& h2 + p":{marginTop:"0"},"@media (max-width:767px)":{paddingTop:"20px","& h2":{marginTop:"15px",fontSize:"25px"}}},formInputBox:{"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},"& > div > div":{background:"#f3f5f5",padding:"12px 15px",marginTop:"5px",borderRadius:"8px"},"& textarea":{fontSize:"14px"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& p":{fontSize:"14px"},"& label":{textTransform:"uppercase",fontSize:"14px",marginBottom:"3px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"14px",borderRadius:"5px",maxWidth:"300px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},profileMainLeftBox:{width:"100%",maxWidth:"450px","& span":{display:"inline-block",marginTop:"25px",minWidth:"210px",fontSize:"18px",fontWeight:"400"},"@media (max-width:767px)":{"& span":{width:"calc(100% - 50px)",marginBottom:"35px"}}},backButton:{color:e.palette.common.blue,cursor:"pointer",textTransform:"uppercase",fontWeight:"500",paddingBottom:"5px","& i":{fontSize:"18px",verticalAlign:"middle",paddingRight:"2px",marginTop:"-2px"},"@media(max-width:767px)":{color:e.palette.common.black,width:"20px",height:"20px",overflow:"hidden","& i":{fontSize:"22px"}}},referalCode:{margin:"30px 0","& label":{color:e.palette.common.black,textTransform:"uppercase",fontWeight:"500",letterSpacing:"1px"},"& p":{margin:"0"}},managePaymentBtn:{background:"transparent",border:"2px solid #22bfea",padding:"4px 25px",fontSize:"13px",marginTop:"10px",fontWeight:"500",textTransform:"inherit","& span":{color:e.palette.common.black},"&:hover":{background:e.palette.common.white,"& span":{color:e.palette.common.blue}}},inviteMessage:{background:"#edf6fa",padding:"15px",fontSize:"13px",marginTop:"35px","& p":{marginTop:"0",color:e.palette.common.blue,fontWeight:"normal"}},copiedText:{color:"green",paddingTop:"5px",paddingLeft:"5px",display:"inline-block",marginBottom:"5px",position:"relative",bottom:"-6px"},errorMessage:{"& > div > div":{border:"1px solid red"}},closeBtn:{float:"right",fontSize:"18px",position:"absolute",top:"0",bottom:"0",right:"10px",margin:"auto",height:"17px",cursor:"pointer"},messageClass:{position:"relative",maxWidth:"400px",padding:"10px 25px"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Wl,Object.assign({},t,e))});function Ul(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Hl=function(e){Object(h.a)(a,e);var t=Ul(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history,t=window.location.pathname.split("/").pop();ie.setAccessTokenForgotPassword(t),ie.setResetPassword("reset_password"),e.push("/findpool")}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),a}(i.a.Component),Gl=C()(Object(T.withStyles)(function(e){return{}}),je.a)(Hl);function Yl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ql={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reviewPool"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewPool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:98,source:{body:"mutation reviewPool($data:ReviewInput!){\n  reviewPool(data:$data){\n    status\n    message  \n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reservationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227,source:{body:"query reservationDetails($id: Int!){\n  reservationDetails(id: $id){\n    id\n    pool {\n      title\n      images{\n        url\n        cover\n      }\n    }\n    user{\n      id\n      firstname\n      lastname\n      img_url\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$l=function(e){Object(h.a)(a,e);var t=Yl(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={rating:0,comment:"",reviewsFailError:"",loading:!1,ratingStatus:!1,poolId:"",bookingId:"",poolName:"",poolImage:"",showCommentError:!1,errorMessage:""},n.handleChangeRating=n.handleChangeRating.bind(Object(g.a)(n)),n.handleComment=n.handleComment.bind(Object(g.a)(n)),n.validateComment=n.validateComment.bind(Object(g.a)(n)),n.submitReviews=n.submitReviews.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history,a=parseInt(this.props.match.params.bookingId),n=ie.getUserRole(),i=ie.getAccessToken();null!==i&&""!==i?isNaN(a)?"Host"===n?t.push("/host-reservation"):t.push("/my-reservation"):(this.setState({loading:!0,bookingId:a}),this.props.client.query({query:Vl,variables:{id:parseInt(a)},fetchPolicy:"no-cache"}).then(function(t){var n=ft.a.filter(t.data.reservationDetails.pool.images,{cover:!0});n=n.length>=1?n[0].url:"",e.setState({poolName:t.data.reservationDetails.pool.title,poolImage:n,bookingId:a,loading:!1})}).catch(function(a){"Host"===n?t.push("/host-reservation"):t.push("/my-reservation"),e.setState({loading:!1})})):(ie.logout(),ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),t.push("/"))}},{key:"handleChangeRating",value:function(e){this.setState({rating:e,ratingStatus:!0})}},{key:"handleComment",value:function(e){this.setState({comment:e.target.value})}},{key:"validateComment",value:function(){var e=!1;return Ut(this.state.comment)&&(e=!0),this.setState({showCommentError:!0===e}),!0!==e}},{key:"validateForm",value:function(){var e=!1;return this.validateComment()||(e=!0),!0!==e}},{key:"submitReviews",value:function(){var e=this,t=this.props.history,a=this.state,n=a.rating,i=a.comment,o=a.bookingId;this.validateForm()&&(this.setState({loading:!0}),this.props.client.mutate({mutation:ql,variables:{data:{rating:n,comment:i,booking_id:parseInt(o)}}}).then(function(a){e.setState({loading:!1}),"POOL_REVIEW_SUCCESSFULL"===a.data.reviewPool.status?(ie.setReviewType("Swimmer"),t.push("/thankyou")):e.setState({errorMessage:a.data.reviewPool.message,loading:!1,reviewsFailError:""})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({reviewsFailError:n,loading:!1,errorMessage:""}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.submitReviews();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rating,n=t.comment,o=t.reviewsFailError,r=t.loading,s=t.ratingStatus,l=t.showCommentError,d=t.poolImage,c=t.poolName,m=t.errorMessage;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.profileMain},i.a.createElement(Oe.a,{variant:"h2"},"Tell us how it went! "),i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:12,md:8},i.a.createElement("div",{className:e.profileMainLeft},i.a.createElement(Na.a,{alt:"",src:""===d?window.location.origin+"/img/profile-icon.png":d,className:e.bigAvatar}),i.a.createElement("div",{className:e.profileMainLeftBox},""===o?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},o),""===m?"":i.a.createElement(Oe.a,{variant:"caption",className:e.errorLabelMessage,component:"p"},m),i.a.createElement(Oe.a,{variant:"h3"},c),i.a.createElement("div",{className:"ratingNew"},i.a.createElement(Eo.a,{rating:a,changeRating:this.handleChangeRating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px",starHoverColor:"#00ade2"})),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"How Was Your Experience?"),i.a.createElement(Xe.a,{id:"outlined-email-input",className:!1===l?e.textFieldTwo:e.textFieldTwo+" "+e.errorMessage,placeholder:"Help us keep the Swimply community fun and fair by letting us know how you enjoyed the pool.",type:"text",name:"pool",margin:"normal",variant:"outlined",multiline:!0,rows:4,rowsMax:4,value:n,onChange:this.handleComment,onInput:function(e){e.target.value=e.target.value.slice(0,280)}})),i.a.createElement("div",{className:e.reviewBtn},!0!==s?i.a.createElement(Ae.a,{disabled:!0,className:e.disabledBtn},"Submit Review"):i.a.createElement(Oe.a,{variant:"button",onClick:this.submitReviews},"Submit Review")))))))))}}]),a}(i.a.Component);var Ql=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"& > a":{display:"block",color:e.palette.common.blue,marginBottom:"7px",textDecoration:"none"}},profileMain:{paddingTop:"40px","& h2":{marginBottom:"35px","& span":{float:"right",fontSize:"14px",verticalAlign:"middle",color:e.palette.common.blue}}},bigAvatar:{margin:0,width:120,height:120,"@media (max-width:767px)":{margin:"0 auto"}},profileMainLeft:{display:"flex","@media (max-width:767px)":{display:"block"}},profileMainLeftBox:{paddingLeft:"25px",width:"100%",maxWidth:"100%","& h3":{marginBottom:"8px"},"& h6":{color:e.palette.common.blue,fontSize:"14px",fontWeight:"500"},"& p:nth-child(4)":{color:e.palette.common.blue,paddingTop:"10px","& i":{paddingRight:"10px",color:e.palette.common.darkgray,fontSize:"20px",verticalAlign:"bottom"}},"@media (max-width:767px)":{paddingLeft:"0",textAlign:"center","& h3":{marginTop:"10px"}}},profileMainRight:{background:e.palette.common.blue,minHeight:"100px",color:e.palette.common.white,padding:"35px",borderRadius:"10px","& h5":{color:e.palette.common.white},"& span":{display:"inline-block",background:e.palette.common.white,color:e.palette.common.black},"& span:hover":{background:e.palette.common.white,color:e.palette.common.black}},paymentBox:{background:"#f3f5f5",maxWidth:"300px",padding:"20px","& p":{marginTop:0,marginBottom:"5px",textTransform:"uppercase",color:"#232323",fontSize:"16px"}},textFieldTwo:{background:"#f3f5f5",fontSize:"12px",borderRadius:"5px","& > div":{padding:"10px 15px",fontSize:"14px"}},formInputBox:{marginTop:"10px",textAlign:"left","& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"3px",letterSpacing:"0.8px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"14px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},reviewBtn:{"& span":{display:"inline-block",minWidth:"250px"},"@media (max-width:767px)":{"& button":{width:"100%",display:"block",marginTop:"70px"},"& span":{display:"block",marginTop:"70px"}}},disabledBtn:{background:"#d1d4d8",minWidth:"250px",padding:" 10px 25px","& span":{marginTop:"0px",display:"inline-block",minWidth:"250px"}},errorMessage:{"& > div":{border:"1px solid red",borderRadius:"5px"}},errorLabelMessage:{maxWidth:"100%"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement($l,Object.assign({},t,e))});function Kl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Jl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"hostReviewStore"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"HostReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hostReviewStore"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:112,source:{body:"mutation hostReviewStore($data:HostReviewInput!){\n  hostReviewStore(data:$data){\n    status\n    message  \n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reservationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reservationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227,source:{body:"query reservationDetails($id: Int!){\n  reservationDetails(id: $id){\n    id\n    pool {\n      title\n      images{\n        url\n        cover\n      }\n    }\n    user{\n      id\n      firstname\n      lastname\n      img_url\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Xl=function(e){Object(h.a)(a,e);var t=Kl(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={rating:0,comment:"",reviewsFailError:"",loading:!1,ratingStatus:!1,showCommentError:!1,userDetails:{},user_id:"",booking_id:"",errorMessage:""},n.handleChangeRating=n.handleChangeRating.bind(Object(g.a)(n)),n.handleComment=n.handleComment.bind(Object(g.a)(n)),n.validateComment=n.validateComment.bind(Object(g.a)(n)),n.submitReviews=n.submitReviews.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history,a=parseInt(this.props.match.params.bookingId),n=ie.getUserRole(),i=ie.getAccessToken();null!==i&&""!==i?isNaN(a)?"Host"===n?t.push("/host-reservation"):t.push("/my-reservation"):(this.setState({loading:!0,booking_id:a}),this.props.client.query({query:Zl,variables:{id:parseInt(a)},fetchPolicy:"no-cache"}).then(function(t){e.setState({userDetails:t.data.reservationDetails.user,user_id:t.data.reservationDetails.user.id,bookingId:a,loading:!1})}).catch(function(a){"Host"===n?t.push("/host-reservation"):t.push("/my-reservation"),e.setState({loading:!1})})):(ie.logout(),ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),t.push("/"))}},{key:"handleChangeRating",value:function(e){this.setState({rating:e,ratingStatus:!0})}},{key:"handleComment",value:function(e){this.setState({comment:e.target.value})}},{key:"validateComment",value:function(){var e=!1;return Ut(this.state.comment)&&(e=!0),this.setState({showCommentError:!0===e}),!0!==e}},{key:"validateForm",value:function(){var e=!1;return this.validateComment()||(e=!0),!0!==e}},{key:"submitReviews",value:function(){var e=this,t=this.props.history,a=this.state,n=a.user_id,i=a.booking_id,o=a.rating,r=a.comment;this.validateForm()&&(this.setState({loading:!0}),this.props.client.mutate({mutation:Jl,variables:{data:{rating:o,comment:r,user_id:n,booking_id:i}}}).then(function(a){e.setState({loading:!1}),"HOST_REVIEW_SUCCESSFULL"===a.data.hostReviewStore.status?(ie.setReviewType("Host"),t.push("/thankyou")):e.setState({errorMessage:a.data.hostReviewStore.message,reviewsFailError:""})}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),e.setState({reviewsFailError:i,loading:!1,errorMessage:""}),"Unauthenticated."!==i){a.next=7;break}return a.next=5,e.props.refreshToken(t);case 5:"ok"===a.sent&&e.submitReviews();case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rating,n=t.comment,o=t.reviewsFailError,r=t.loading,s=t.ratingStatus,l=t.showCommentError,d=t.userDetails,c=t.errorMessage;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.profileMain},i.a.createElement(Oe.a,{variant:"h2"},"Review this swimmer"),i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:12,md:8},i.a.createElement("div",{className:e.profileMainLeft},i.a.createElement(Na.a,{alt:"",src:""===d.img_url||null===d.img_url?window.location.origin+"/img/profile-icon.png":d.img_url,className:e.bigAvatar}),i.a.createElement("div",{className:e.profileMainLeftBox},""===o?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},o),""===c?"":i.a.createElement(Oe.a,{variant:"caption",className:e.errorLabelMessage,component:"p"},c),void 0!==d.id?i.a.createElement(Oe.a,{variant:"h3"},d.firstname,void 0!==d.lastname&&null!==d.lastname&&""!==d.lastname?d.lastname.charAt(0):"","."):"",i.a.createElement("div",{className:"ratingNew"},i.a.createElement(Eo.a,{rating:a,changeRating:this.handleChangeRating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px",starHoverColor:"#00ade2"})),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"HOW WAS THIS SWIMMER?"),i.a.createElement(Xe.a,{id:"outlined-email-input",className:!1===l?e.textFieldTwo:e.textFieldTwo+" "+e.errorMessage,placeholder:"Was this a good guest? Did they follow pool rules? Would you rent to them again?",type:"text",name:"pool",margin:"normal",variant:"outlined",multiline:!0,rows:4,rowsMax:4,value:n,onChange:this.handleComment,onInput:function(e){e.target.value=e.target.value.slice(0,280)}})),i.a.createElement("div",{className:e.reviewBtn},!0!==s?i.a.createElement(Ae.a,{disabled:!0,className:e.disabledBtn},"Submit Review"):i.a.createElement(Oe.a,{variant:"button",onClick:this.submitReviews},"Submit Review")))))))))}}]),a}(i.a.Component);var ed=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"& > a":{display:"block",color:e.palette.common.blue,marginBottom:"7px",textDecoration:"none"}},profileMain:{paddingTop:"40px","& h2":{marginBottom:"35px","& span":{float:"right",fontSize:"14px",verticalAlign:"middle",color:e.palette.common.blue}}},bigAvatar:{margin:0,width:120,height:120,"@media (max-width:767px)":{margin:"0 auto"}},profileMainLeft:{display:"flex","@media (max-width:767px)":{display:"block"}},profileMainLeftBox:{paddingLeft:"25px",width:"100%",maxWidth:"100%","& h3":{marginBottom:"8px"},"& h6":{color:e.palette.common.blue,fontSize:"14px",fontWeight:"500"},"& p:nth-child(4)":{color:e.palette.common.blue,paddingTop:"10px","& i":{paddingRight:"10px",color:e.palette.common.darkgray,fontSize:"20px",verticalAlign:"bottom"}},"@media (max-width:767px)":{paddingLeft:"0",textAlign:"center","& h3":{marginTop:"10px"}}},profileMainRight:{background:e.palette.common.blue,minHeight:"100px",color:e.palette.common.white,padding:"35px",borderRadius:"10px","& h5":{color:e.palette.common.white},"& span":{display:"inline-block",background:e.palette.common.white,color:e.palette.common.black},"& span:hover":{background:e.palette.common.white,color:e.palette.common.black}},paymentBox:{background:"#f3f5f5",maxWidth:"300px",padding:"20px","& p":{marginTop:0,marginBottom:"5px",textTransform:"uppercase",color:"#232323",fontSize:"16px"}},textFieldTwo:{background:"#f3f5f5",fontSize:"12px",borderRadius:"5px","& > div":{padding:"10px 15px",fontSize:"14px"}},formInputBox:{marginTop:"10px",textAlign:"left","& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"3px",letterSpacing:"0.8px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"14px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},reviewBtn:{"& span":{display:"inline-block",minWidth:"250px"},"@media (max-width:767px)":{"& span":{width:"calc(100% - 50px)"}}},disabledBtn:{background:"#d1d4d8",minWidth:"250px",padding:" 10px 25px","& span":{marginTop:"0px",display:"inline-block",minWidth:"250px"},"@media (max-width:767px)":{width:"100%"}},errorMessage:{"& > div":{border:"1px solid red",borderRadius:"5px"}},errorLabelMessage:{maxWidth:"100%"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Xl,Object.assign({},t,e))});function td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ad=function(e){Object(h.a)(a,e);var t=td(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={open:!1,left:!1,openDrop:!1},n.redirectToFindPool=n.redirectToFindPool.bind(Object(g.a)(n)),n.redirectToReservations=n.redirectToReservations.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"redirectToFindPool",value:function(){this.props.history.push("/findpool")}},{key:"redirectToReservations",value:function(){this.props.history.push("/host-reservation")}},{key:"render",value:function(){var e=this.props.classes,t=ie.getReviewType();return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.profileMain},i.a.createElement(Oe.a,{variant:"h2"},"Thank You! "),i.a.createElement(lt.a,{container:!0,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:12,md:8},i.a.createElement("div",{className:e.profileMainLeft},i.a.createElement(Na.a,{alt:"",src:window.location.origin+"/img/review_thanku.png",className:e.bigAvatar}),i.a.createElement(Oe.a,{variant:"h3",className:e.mobileHeading},"Thank You!"),i.a.createElement("div",{className:e.profileMainLeftBox},i.a.createElement(Oe.a,{variant:"p"},"Thanks for your Review!"),"Host"===t?i.a.createElement("p",{onClick:this.redirectToReservations},"MANAGE YOUR RESERVATIONS"):i.a.createElement("p",{onClick:this.redirectToFindPool},"BOOK YOUR NEXT SWIM"))))))))}}]),a}(i.a.Component),nd=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"& > a":{display:"block",color:e.palette.common.blue,marginBottom:"7px",textDecoration:"none"}},profileMain:{paddingTop:"40px","& h2":{marginBottom:"15px","@media (max-width:767px)":{textAlign:"center",display:"none"}}},bigAvatar:{margin:0,width:120,height:120,"@media (max-width:767px)":{margin:"0 auto",width:"150px",height:"150px"}},profileMainLeft:{display:"flex",alignItems:"center","@media (max-width:767px)":{display:"block"}},profileMainLeftBox:{paddingLeft:"25px",width:"100%",maxWidth:"100%",paddingTop:"35px","& span":{color:e.palette.common.black},"& p":{marginTop:"5px",marginBottom:"0",color:e.palette.common.blue,cursor:"pointer",fontSize:"13px",textTransform:"uppercase"},"@media (max-width:767px)":{paddingTop:"28vh",textAlign:"center",paddingLeft:"0"}},mobileHeading:{display:"none","@media (max-width:767px)":{display:"block",textAlign:"center",paddingTop:" 15px",fontSize:"25px"}}}}),je.a)(ad);function id(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var od=function(e){Object(h.a)(a,e);var t=id(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=Wt.isHost(this.props.user);return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("p",null,i.a.createElement("a",{href:"mailto:\u200b".concat(e?"HostCare@swimply.com":"info@swimply.com","?subject=Help me find a pool!")},"contactus")))}}]),a}(i.a.Component);var rd=C()(Object(T.withStyles)(function(e){return{}}),je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(od,Object.assign({},t,e))});function sd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ld=function(e){Object(h.a)(a,e);var t=sd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).goToSection=function(e){var t=document.getElementById(e);if(t&&t.offsetTop){var a=t.offsetTop-80;try{window.scrollTo({left:0,top:a,behavior:"smooth"})}catch(n){window.scrollTo(0,a)}}},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=!1;return"/mobile-termsandconditions"===this.props.match.path&&(t=!0),i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.termsConditions},i.a.createElement("div",{className:e.container},i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"subtitle1"},"Swimply Terms of Service \u2013 December 2019"),i.a.createElement(Oe.a,{variant:"h2"},"Table of Contents"),i.a.createElement("ol",{type:"1",className:e.linksList},i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-1"),className:e.mainWord},"Definitions")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-2"),className:e.mainWord},"Terms and Conditions")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-3"),className:e.mainWord},"Application of Terms")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-4"),className:e.mainWord},"Account Registration")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-5"),className:e.mainWord},"Member Profiles: use of Our Website")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-6"),className:e.mainWord},"Protect Login Information")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-7"),className:e.mainWord},"Proprietary Data, Communication and Reviews")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-8"),className:e.mainWord},"Third-Party Sites")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-9"),className:e.mainWord},"Pool Listings")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-10"),className:e.mainWord},"Insurance")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-11"),className:e.mainWord},"Booking and Financial Terms")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-12"),className:e.mainWord},"Service Fees")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-13"),className:e.mainWord},"Damages")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-14"),className:e.mainWord},"Overstaying or Usage without Consent")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-15"),className:e.mainWord},"Cancellations and Refunds")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-16"),className:e.mainWord},"User Conduct")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-17"),className:e.mainWord},"Prohibitions")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-18"),className:e.mainWord},"Term, Suspension and Termination")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-19"),className:e.mainWord},"Taxes")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-20"),className:e.mainWord},"Equitable Relief")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-21"),className:e.mainWord},"Member Content")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-22"),className:e.mainWord},"Privacy")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-23"),className:e.mainWord},"Assumption of Risk and Waiver")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-24"),className:e.mainWord},"Indemnification")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-25"),className:e.mainWord},"Liability of Swimply")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-26"),className:e.mainWord},"Disclaimer and acknowledgements")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-27"),className:e.mainWord},"Governing Law and Jurisdiction")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-28"),className:e.mainWord},"Dispute Resolution")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-29"),className:e.mainWord},"Contact Information")))),i.a.createElement(Oe.a,{variant:"h1"},"Terms of use and service"),i.a.createElement("ol",{type:"1"},i.a.createElement("li",{id:"section-1"},i.a.createElement(Oe.a,{variant:"h2"},"1. Definitions"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cAccount\u201d"),"means the account a person registers for to become a Member with Swimply to use the Site, Application or Services.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cAmbassador Program\u201d"),"means the ambassador program established by Swimply, if any.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cApplication\u201d"),"means any applications for mobile and other smart devices andapplication program interfaces through which Swimply provides services, if any.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cBooking\u201d"),"or ",i.a.createElement("span",{className:e.mainWord},"\u201cRental\u201d"),"means a limited license granted by the Hosts to the Guests to use the Pool for the limited duration of the confirmed Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cCollective Content\u201d"),"means Member Content and Swimply Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cCommunication\u201d"),"means an email, message via the Application, and text message or message among Guests, Hosts, and Swimply.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cContent\u201d"),"means text, graphics, images, music, software (excluding the Application), audio, video, information or other materials.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cGuest\u201d"),"means a Member who rents or books a Listing via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cGuest Fee\u201d"),"means the fee that Swimply charges a Guest for the use of the Services (excluding Taxes), which is calculated as a percentage of the applicable Pool Fees.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cHosts\u201d"),"means a Member who creates a Listing and rents its Pool via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cHost Fee\u201d"),"means the fee Swimply charges a Host for use of the Services (excluding Taxes), which is calculated as a percentage of the applicable Pool Fees.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cListing\u201d"),"means Pool that is listed by a Hosts as available for Booking via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMember Content\u201d"),"means all Content that a Member posts, uploads, publishes, submits, transmits, or includes in their Listing, Member Profile or Swimply promotional campaign to be made available through the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMember Profile\u201d"),"means the profile established by the Member on the Site.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMember\u201d"),"means a person who holds an Account, and Membership is the state of being a Member.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMembership Application\u201d"),"means an application for Membership, which may be made electronically, and includes all of the information provided by the prospective Member in that form or in connection with that application.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cOccupancy Tax\u201d"),"has the meaning set forth in clause 19.3.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPayment Method\u201d"),"means a payment method that you have added to your Swimply Account, for instance, a credit card, debit card or PayPal.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPayout Method\u201d"),"means a payout method that you added to your Swimply Account, for example, PayPal, direct deposit or electronic funds transfer, a prepaid card or a debit card (where available).")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPlatform\u201d"),"refers to the Swimply Site, Application and Services.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPool\u201d"),"means the pool and surrounding space (i.e. backyard) booked for a specified duration as specified by the Booking and as agreed upon by the Parties.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPool Fees\u201d"),"means the amounts due by Guest in exchange for use of a Pool asdefined by Hosts, exclusive of Service Fees and Taxes.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cService Fees\u201d"),"means collectively the Guest Fees and the Host Fees plus any third-party charges associated with collection of payments by Swimply shown on the Platform from time to time.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cServices\u201d"),"means the services Swimply makes available through the Site and the Application for Hosts to make Listings and for Guests to apply for Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSite\u201d"),"means www.swimply.com and any other website through which Swimply makes Services available.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSwimply\u201d, "),i.a.createElement("span",{className:e.mainWord},"\u201cWe\u201d "),"or",i.a.createElement("span",{className:e.mainWord}," \u201cwe\u201d "),"or",i.a.createElement("span",{className:e.mainWord}," \u201cOur\u201d "),"or",i.a.createElement("span",{className:e.mainWord}," \u201cour\u201d "),"means Swimply Australia Pty Ltd and its online Platform that connects, pool owners (\u201cHosts\u201d), with potential guests (\u201cGuests\u201d), collectively \u201cParties\u201d.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSwimply  Content\u201d"),"means all content that Swimply makes available through the Platform or its related promotional campaigns and official social media channels, including any Content licensed from a third party, but excluding Member Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTax Authority\u201d"),"has the meaning set forth in clause 19.3.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTax\u201d"),"or",i.a.createElement("span",{className:e.mainWord},"\u201cTaxes\u201d"),"means any means any tax, duty, levy, charge, impost, fee, deduction, goods and services tax, compulsory loan or withholding (together with any interest, penalty, fine or expense that is imposed on or in respect of any of the foregoing) which is assessed, levied, imposed or collected by any government agency.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTerms\u201d"),"means these Terms of Service.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTotal Fees\u201d"),"means collectively the Pool Fees plus Service Fees and Taxes.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cYou\u201d, \u201cyou\u201d, \u201cYour\u201d "),"or",i.a.createElement("span",{className:e.mainWord}," \u201cyour\u201d "),"means you as a Member, unless otherwise specified. The Terms may apply to you as a Guest, as a Host, or as a Guest and Host concurrently.")))),i.a.createElement("li",{id:"section-2"},i.a.createElement(Oe.a,{variant:"h2"},"2. Terms and Conditions"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Who We Are:"),"Swimply is an online marketplace that enables Hosts to list their Pools for Booking and to communicate directly with potential Guests who wish to use those Bookings and to ultimately facilitate transactions whereby Guests pay for and use the Host\u2019s Pool.",i.a.createElement("span",{className:e.mainWord}," Swimply is an introductory service only. "),"These Terms, and in particular clause 26, contain provisions which include important disclaimers and limitations on our liability in connection with the use of Pools.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Parties: "),"This agreement",i.a.createElement("span",{className:e.mainWord}," (\u201cAgreement\u201d) "),"is between Swimply and You.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Acceptance: "),"In order to use the Service you must agree to the terms and conditions set out in these Terms. Upon your electronic acceptance of these Terms via the Platform, you will be legally bound by the Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Feedback: "),"If you have any questions or feedback on the Service, please contact us at info@swimply.com.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Purpose of Headings: "),"Headings in these Terms are solely for reference objectives and do not limit the scope or extent of such section. Except as otherwise stated in these Terms, if any clause of these Terms are found to be invalid, void, or for any reason unenforceable, such clause shall be struck out and shall not affect the validity and enforceability of the remaining provisions.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Your Legal Rights: "),"Please read these Terms carefully as they contain important information regarding your legal rights, remedies, and obligations. By agreeing to these Terms, you hereby acknowledge that you have read and understand that you are bound to a legal agreement between you and Swimply pursuant to these Terms. If you accept or agree to these Terms on behalf of a company or other legal entity, you represent and warrant that you have the authority to bind said company or other legal entity to these Terms and, in such event, \u201cYou\u201d and \u201cYour\u201d will refer and apply to that company or other legal entity. If you do not agree to these Terms, you may not access or use Swimply\u2019s Services. If as a mere visitor of the Platform, you do not agree with any clauses in these Terms or the Swimply Privacy Policy, you may not visit the Platform.")))),i.a.createElement("li",{id:"section-3"},i.a.createElement(Oe.a,{variant:"h2"},"3. Application of Terms"),i.a.createElement("p",null,"These Terms govern your access or use of the Platform, including but not limited to payment procedures, Collective Content, and the Ambassador Program."),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member agreements: "),"These Terms contain non-exhaustive provisions which inform the terms and conditions of the agreement that applies between Hosts and Guests in relation to a Booking and the use of a Pool. The Platform allows Hosts to create Listings for Pools, and Guests may learn about and book Pools directly with Hosts. Swimply is not a party to any agreements entered into between Members (except in its limited agency capacities as set out in these Terms), and disclaims all liability and responsibility arising from or related to any agreements between Members. Swimply has no control over the conduct of Hosts, Guests and other users of the Platform or Services or any Pools, and disclaims all liability in this regard to the maximum extent permitted by law. Except in relation to powers expressly set out in these Terms, Swimply does not adjudicate on or mediate any dispute between Members.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Modifications: "),"Swimply reserves the right, in its sole discretion, to modify or replace the Terms at any time by giving you reasonable prior notice. If Swimply modifies these Terms, it will post the modification on the Platform and/or provide you notice of the modification by email. The date the Terms were \u201cLast Updated\u201d will be shown on the Site. If you disagree with such updated Terms, you may close your Account. If you do not close your Account, your continued access or use of the Platform will constitute acceptance of the modified Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,"Without limiting the above, Swimply may for the benefit of Members and Swimply, in its sole discretion, make changes to any of Terms that inform the terms and conditions of the agreement between Hosts and Guests. The Members agree for the benefit of the Members and Swimply that the modified Terms form part of the agreement between them. Any changes to the Terms will not affect outstanding Bookings unless the changes are required by law.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Waiver: "),"Except as otherwise set out in these Terms, any partial exercise, failure to exercise, or delay in exercising, a right or remedy provided under these Terms or by law does not operate as a waiver or prevent or restrict any further or other exercise of that or any other right or remedy in accordance with these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Duties: "),"Hosts are responsible for identifying, understanding, and complying with all laws, rules, and regulations that apply to their Listings. In particular, Hosts are encouraged to undertake inquiries and obtain legal advice as to the legality of the use of their Pool by Guests through Bookings on the Platform. Hosts are solely responsible for identifying and complying with all laws and regulations applying to the use of their properties and Pools for the purposes of a Listing and use by a Guest through a Booking, including obtaining any planning approvals, permits, authorisations, registrations, licences and certificates. A failure to comply with such laws and a failure to obtain any required approvals, permits, authorisations, registrations, licences and certificates could result in the Host being liable to pay a fine or be subject to other criminal or civil enforcement. Local laws and enforcement vary from State to State and council to council. Swimply takes no position on such legal requirements, and has no liability insofar as a Pool or the use of a Pool by a Guest through a Booking fails to comply with any legal or regulatory requirements. Hosts acknowledge that Swimply may be required to provide information to government or regulatory bodies, investigations, administrative proceedings and litigation.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member Minimum Age: "),"Members must be at least 18 years old to register for an Account, post a Listing, or use the Platform. By accessing the Platform, you represent that you are at least 18 years old. Please report immediately if you are aware of Members under 18, any such Member will be removed immediately. Swimply cannot take accountability for the Member\u2019s misuse of Swimply. To book a listing that would include a minor who is under 18, you represent that you have the authority to do so.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Alcohol: "),"Hosts must take adequate measures to confirm the identification and age of those wishing to drink during the event taking place in the Pool. It may be illegal in different States and Territories in Australia to supply or serve alcohol to or purchase alcoholic beverages for a minor. The parties agree for the benefit of the Members that no individual under the age of 18 may consume alcohol at a Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Sharing Personal Information for Reports: "),"You as a Member agree and authorise Swimply to facilitate the use of your personal information for the purpose of obtaining third-party reports, as permitted by law. To the extent permitted by applicable laws, Swimply may use your personal information to obtain reports from public records of criminal convictions or sex offenders or any other information that can potentially harm anyone associated with Swimply Bookings. Swimply may, directly or indirectly through third parties, make inquiries to verify your identity to prevent fraud.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Entire Agreement: "),"These Terms, written documents or materials referred to in these Terms (such as relevant terms on the Platform) and Swimply\u2019s Privacy Policy constitute the written agreement between you and Swimply. These Terms shall govern in the event of conflict between these Terms and documents or materials referenced herein.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Assignment: "),"You acknowledge and agree that We may transfer our rights or obligations or sub-contract our obligations under these Terms to another legal entity provided that this will not adversely affect the standard of service you receive under these Terms. As set out under these Terms, You may terminate your agreement with us at any time.")))),i.a.createElement("li",{id:"section-4"},i.a.createElement(Oe.a,{variant:"h2"},"4. Account Registration"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Registration: "),"In order to access certain features of the Platform and to book a Pool or create a Listing, you must register for an Account and become a Member. You may register directly via the Platform, or in any other manner described by Swimply now or in the future.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Information Required: "),"In Your Membership Application You will be required to submit personal information such as full name, date of birth, address, post code and other information to create an Account with Swimply for the purpose of verification and safety of the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Ability to reject: "),"We mayaccept or reject any Membership Application in Our absolute discretion.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"One account: "),"You may not create or use more than one Account at a time.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Accurate information: "),"You warrant that the information you provide to Us in Your Membership Application, or at any time while You are a Member, is true, accurate, current, and complete at all times.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Suspension or termination of Account: "),"Swimply reserves the right to suspend or terminate your Account and your access to the Platform if you create more than one Account, or if any information provided proves to be incorrect or misleading in any way (including by omission or being out of date), or otherwise in breach of these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Information must be correct: "),"You must indemnify Us for any claim or loss that We suffer as a result of any information that You provide to Us in relation to this Agreement, Your Membership Application, Membership or Your use of the Service being incorrect or misleading in any way (including by omission or being out of date), whether intentionally or otherwise.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Application of this clause: "),"This clause 4 applies from the time you submit a Membership Application to Us. The rest of this Agreement applies when We give You notice that We accept Your Membership Application.")))),i.a.createElement("li",{id:"section-5"},i.a.createElement(Oe.a,{variant:"h2"},"5. Member Profiles: use of Our Website"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member  Profile: "),"We will create a Member Profile for Youusing the information that You provide to Us in Your Membership Application or by any other method. This Member Profile will be accessible to You via the Member-only section of Our Site.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Up to date Profile: "),"You are responsible for updating and maintaining the currency of Your own Member Content on Our Website. You must ensure that any information posted in Your Member Content is correct and complete and not misleading.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Liability: "),"We will not under any circumstances be liable for any loss or damage resulting from or arising in connection with any errors, inaccuracies or misrepresentations in Your Member Content or any other Member\u2019s Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Protect Login Information: "),"We will issue You with a Member ID for accessing the Member-only areas of Our Site.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Pool registration: "),"We may in our absolute discretion take steps to verify (or engage service providers to verify), at the time that a Member is accepted for Membership, that any Pool that the Member makes available for sharing is appropriately registered, if registration is legally required, or any other matter that we may elect to verify. However We do not guarantee that we will take any verification steps, nor do We guarantee the completeness or correctness of any verification materials that we obtain or any other information that Members provide to Us at the time of submitting Application or afterwards. We will not under any circumstances be liable for any loss or damage resulting from or arising in connection with any verification steps or failure to take verification steps, or any errors, inaccuracies or misrepresentations in Your Member Profile or any other Member\u2019s Member Profile.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Pool inspection: "),"We may in our absolute discretion inspect (or engage service providers to inspect) Pools for, amongst other things, assessing compliance with applicable law. However We do not guarantee that we will inspect any Pool, nor do We guarantee the completeness or correctness of any inspection or inspection report. We will not under any circumstances be liable for any loss or damage resulting from or arising in connection with any inspection or failure to inspect a Pool.")))),i.a.createElement("li",{id:"section-6"},i.a.createElement(Oe.a,{variant:"h2"},"6. Protect Login Information"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"You are responsible for safeguarding your password, user ID or any other form of verification (\u201cLogin Information\u201d). You agree that you will not disclose your Login Information to any third party and will take reasonable steps to ensure its security. Unless expressly authorised, you are not permitted to share your Account. If you fail to adequately safeguard your Login Information or gave someone else your Login Information, You agree that you will take sole responsibility for any activities or actions taken under your Account, whether you authorised such activities or actions and whether or not such activities are fraudulent or you wanted them performed or not. You will immediately notify Swimply of any unauthorised use of your Account. Should you share such information with third-parties you are responsible for all consequences and Swimply reserves the right to take any action to remedy the effects.")))),i.a.createElement("li",{id:"section-7"},i.a.createElement(Oe.a,{variant:"h2"},"7. Proprietary Data, Communication and Reviews"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Communication with  Members: "),"Swimply will not communicate with you via any method unless you consent to such form of communication. Any Feedback you submit to us will be considered non-confidential and non-proprietary to you.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Communication  between  Members: "),"Any communication between Members using the Platform must not include email addresses or phone numbers. Please be aware that any communications may be monitored by our employees and agents and we may delete or redact information from these communications if we consider they are inappropriate or in violation of the law or these Terms. Members are responsible for ensuring that any communications do not infringe applicable law or the Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Use of Member Content: "),"By submitting any form of Content to us, you grant us a non-exclusive, worldwide, royalty-free, irrevocable, sub-licensable, perpetual licence to use and publish those ideas and materials for any purpose, without compensation to you.Swimply, in its sole discretion, may utilise any Member Content posted for any purpose. By posting any Member Content, you grant Swimply a worldwide, irrevocable, perpetual (or for the term of the protection), non-exclusive, transferable, royalty-free licence, with the right to sublicence, to use, view, copy, adapt, translate, modify, distribute, licence, sell, transfer, publicly display, perform, transmit, stream, broadcast, access, view, and otherwise exploit such Member Content, on or through the Platform. Please do not add the personal information of you or someone else to your Member Content. Swimply may review any Member Content and delete it when it is no longer accurate or up-to-date or if we consider that it is inappropriate or in violation of the law or these Terms. Swimply may suspend or prevent the use any involved Account.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"You Represent You Own Data You Post:  "),"You represent and warrant that: (i) you either are the sole and exclusive owner of all Member Content that you make available through the Platform or through Swimply promotional campaigns or you have all rights, licenses, consents and releases that are necessary to grant to Swimply the rights in such Member Content, as contemplated under these Terms; and (ii) neither the Member Content nor your posting, uploading, publication, submission or transmission of the Member Content or Swimply\u2019s use of the Member Content (or any portion thereof) on, through or by means of the Platform or Swimply\u2019s promotional campaigns will infringe, misappropriate or violate a third party\u2019s patent, copyright, trademark, trade secret, moral rights or other proprietary or intellectual property rights, or rights of publicity or privacy, or result in the violation of any applicable law or regulation.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Licence to App: "),"In the event an Application becomes available, Swimply grants you a limited non-exclusive, non-transferable licence to download and install the Application to your devices for personal use. If you access or download the Application from the Apple App Store, you agree to Apple\u2019s Licensed Application End User Licence Agreement. Please review said Agreement carefully.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Google Maps: "),"Some parts of the Site may use Google Maps, your use of such services are subject to the Google Maps terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reviews: "),"For the benefit of Swimply and the Members, Guests may post their reviews of Pools and Hosts on the Site and Hosts may post reviews of Guests on the Site. Swimply disclaims any liability for the contents of any review, however we may remove any review that we consider to be inappropriate or in violation of the law or these Terms. The Members agree to allow Swimply to make such reviews available to other Members.")))),i.a.createElement("li",{id:"section-8"},i.a.createElement(Oe.a,{variant:"h2"},"8. Third-Party Sites"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"The Platform may contain links to third-party websites or resources. You acknowledge and agree that Swimply is not responsible or liable for: (i) the availability or accuracy of such websites or resources; or (ii) the content, products, or services on or available from such websites or resources. Links to such websites or resources do not imply any endorsement by Swimply of such websites or resources or the content, products, or services available from such websites or resources. You acknowledge sole responsibility for and assume all risk arising from your use of any such websites or resources or the Content, products or services on or available from such websites or resources.")))),i.a.createElement("li",{id:"section-9"},i.a.createElement(Oe.a,{variant:"h2"},"9. Pool Listings"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest and Host Responsibility: "),"Hosts, not Swimply, are solely responsible for honouring any confirmed Bookings and making available any Pools reserved through the Platform. The lease or rental of Pools is provided by Hosts to Guests under a separate contract. If you, as a Guest, choose to enter a transaction with a Host for a Booking, you agree and understand that you will be required to enter an agreement with the Host and accept any terms, conditions, rules and restrictions imposed by the Host as may be informed by these Terms. Members acknowledge and agree that Members, and not Swimply, will be responsible for performing any such agreements.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Requirements: "),"As a Host, you may create Listings for the subject Pool in accordance with these Terms. For the benefit of the Members and Swimply, nothing in the Booking or in the Listing may be in contravention of anything in these Terms. Listings must include a valid physical address to be featured on the Site. Listings will be made publicly available via the Platform. It is your duty to disclose all deficiencies relating to your Pool. You must not create a Listing for any Pool situated on a property that you do not own. That is, you must not create a Listing for a Pool if you lease, rent or otherwise have possession but not ownership of the property on which it is situated.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Imposed Requirements: "),"Swimply reserves the right for the benefit of the Members and Swimply to set any requirements with regard to Listings including, but not limited to, minimum or maximum durations, minimum times between Listings, minimum and maximum number of Guest invitees and minimum pricing. Any such requirements from time to time will be set out with reasonable prior notice on the Platform and those that are in effect at the time of the Booking will apply to that Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"You are Responsible for Listings: "),"You acknowledge and agree that you alone are responsible for any and all Listings and Member Content you post. Accordingly, you represent and warrant that any Listing or Member Content you post, including but not limited to photographs, will be an accurate description of the Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No breach of third party agreements: "),"For the benefit of the Members, You represent and warrant that any Listing you post and the Booking of, or a Guest\u2019s stay at, a Pool in a Listing you post:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"Will not breach any agreements you have entered into with any third parties, such as a body corporate, owners corporation, community association, a precinct association or a neighbourhood association, or such other like body corporate or association, or other third party agreements; and")),i.a.createElement("li",null,i.a.createElement("p",null,"Will (i) be in compliance with all applicable laws (such as planning and zoning laws and public health requirements), tax requirements, intellectual property laws, and rules and regulations that may apply to any Pool included in a Listing you post (including having all required planning approvals, permits, authorisations, registrations, licenses and certificates), and (ii) not conflict with the rights of third parties. ")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Price: "),"Hosts shall set the Pool Fee for the Listing, and elect in his or her sole discretion whether to include:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"a pool cleaning fee;")),i.a.createElement("li",null,i.a.createElement("p",null,"an extra charge per Guest invitee per hour;")),i.a.createElement("li",null,i.a.createElement("p",null,"Taxes the Hosts determines that he or she has to collect pursuant to law; or")),i.a.createElement("li",null,i.a.createElement("p",null,"any other fee permitted to be charged by Hosts and published to Guests on the Platform at the time of applying for a Booking."))),i.a.createElement("p",null,"All payments will be charged and made in Australian dollars.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Booking Request: "),"Other Members will be able to apply for a Booking via the Platform based upon the information provided in Your Listing, Your requirements, and Guests\u2019 search parameters and preferences. For the benefit of the Members and Swimply You understand and agree that once you approve a Guest\u2019s application for a Booking, you may not request the Guest to pay a higher price than in the Booking request. Such activity may result in Swimply taking account action against Hosts, including closing a Host\u2019s Account.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Responsibility for other Guests or Co-Owners: "),"You as a Guest or Host are responsible for any modifications to a Booking that you direct Swimply customer service to make, and you agree to pay any Pool Fees, Guest Fees, Host Fees, Services Fees, and/or Taxes associated with such Booking modifications.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Rankings by Swimply: "),"The placement and/or ranking of Listings in search results maydepend on a variety of factors, including, but not limited to, Party preferences, ratings and/or ease of Booking.")))),i.a.createElement("li",{id:"section-10"},i.a.createElement(Oe.a,{variant:"h2"},"10. Insurance"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts should Obtain Insurance:"),"Swimply recommends that Hosts obtain appropriate insurance for their Pools. Please review any insurance policy that you may have for your Pool carefully, and in particular, ensure that you are familiar with and understand any exclusions to, and any deductibles that may apply for, such insurance policy, including, but not limited to, whether your insurance policy will cover the actions or inactions of or relating to Guests (and the individuals the Guest invites to the Pool, if applicable) while at your Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply is not an Insurer:"),"As a Member, you understand and agree that Swimply does not act as an insurer or provide any form of insurance. For the benefit of Members and Swimply, it is the responsibility of the Guest to ask the Hosts about insurance.")))),i.a.createElement("li",{id:"section-11"},i.a.createElement(Oe.a,{variant:"h2"},"11. Booking and Financial Terms"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Payment Method:"),"You authorise Swimply and its payment providers to store your Payment Method information and charge your Payment Method as outlined in these Terms. It is the duty of Members to carefully analyse all the practices of their chosen payment provider, Swimply takes no official position in this matter. If your Payment Method\u2019s account information changes (e.g. account number, routing number, expiration date), you consent to Swimply acquiring such information from Swimply\u2019s financial services partner or your bank and solely for the purpose of updating your Payment Method on file in your Swimply Account. Whatever Payment Method you use may be subject to additional terms and conditions imposed by the applicable third-party payment service provider. Please review such terms and conditions before using your Payment Method. ")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Payment Information:"),"In connection with your requested Booking, you will be asked to provide typical billing information such as name, billing address and Payment Method information either to Swimply or a third-party payment processor(s). You agree to pay Swimply (for itself and as limited payment collection agent for Hosts) for any confirmed Bookings made in connection with your Account in accordance with these Payment Terms by a method supported by the Platform (e.g. PayPal, credit or debit card). You hereby authorise the collection of such amounts by charging the Payment Method provided as part of requesting the Booking, either directly by Swimply or indirectly, via a third-party payment processor or by one of the payment methods described on the Platform. You also authorise Swimply to charge any Payment Method on file in your Swimply Account for damage caused at a Pool in accordance with these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Right to Set-off: "),"Swimply reserves the right to set-off or deduct any amounts owed to you by Swimply or Members with any amounts you may owe Swimply. If Swimply is unable to collect any amounts you owe for a confirmed Booking or a Damage Claim (as defined in clause 13.3), Swimply may for its own account or for the benefit of other Members engage in collection efforts to recover such amounts from you.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Timing of Payment: "),"Swimply will initiate payment of Pool Fees less the Service Fees and Taxes to the Host within seven (7) business days after the date of the Booking, subject to any delays which are not within Swimply\u2019s control. Swimply only guarantees payments to Host for amounts it has received from Guests in accordance with these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Price Discretion: "),"Swimply, in its sole discretion, may increase or discount a Host\u2019s Listing price or a Guest\u2019s Booking cost in any matter it deems appropriate, including but not limited to providing promotional codes to Guests.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Process: "),"If you are a Host, and a Booking is requested for your Pool via the Platform, you will be required to either confirm or reject the Booking request. When you confirm a Booking requested by a Guest, Swimply will send you a communication confirming such Booking, depending on the selections you make via the Platform. Upon receipt of the communication, You, as Host and the Guest have entered into a legally binding agreement, subject to any particular rules or restrictions specified in the Listing which includes the applicable cancellation policy.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Payments: "),"You as a Guest agree and authorise Swimply (for its own account and as limited payment collection agent of Hosts) to charge your Payment Method with the Total Fees for any Booking requested or confirmed in connection with your Account. In order to establish a Booking pending the applicable Host\u2019s confirmation of your requested Booking, you understand and agree that Swimply, on behalf of the Hosts, reserves the right, in its sole discretion, to (i) obtain a pre-authorisation via your Payment Method for the Total Fees and/or (ii) charge your Payment Method a nominal amount, not to exceed one dollar ($1), to verify your Payment Method.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Payment Schedule: "),"Depending on your chosen Payment Method, Swimply will either collect the Total Fees on its own behalf and on behalf of the Host: (i) at the time of the Booking request or (ii) upon the Host\u2019s confirmation. Generally, Swimply will collect the Total Fees due once Swimply receives confirmation of your Booking from the Host. However, if you pay with a push Payment Method, Swimply will collect Total Fees at the time of your Booking request. If Swimply is unable to collect Total Fees in the ordinary course, it may elect to collect Total Fees at a later time. Once the payment transaction for your requested Booking is successfully completed you will receive a confirmation email summarising your confirmed Booking and payment (if any).")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Payment agent: "),"As a Guest Your obligation to pay Pool Fees to the Host is discharged when you pay the required Total Fees to Swimply, who will act as limited payment agent on behalf of the Host in respect of Pool Fees, and once paid to Swimply the Host will only have recourse against Swimply for payment of any outstanding Pool Fees due to the Host in relation to the Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Indemnity for costs: "),"If You as a Guest are in default of any obligation to pay money to Us or to a Host under this Agreement, You must indemnify Us for any costs that We reasonably incur on our behalf or on behalf of the Host in taking action against You to recover that amount.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Disputes: "),"If You wish to query or dispute the amounts shown on an Invoice, You may do so in accordance with the Dispute Resolution procedure set out in these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Card ownership: "),"Where a card registered under the Payment Method (Card) is in Your name, You warrant that the Card is Yours and You (whether alone or with another person or other people) are responsible for all amounts charged or debited to that Card. Where the Card is not in Your name, You warrant that You are authorised to permit and authorise Us to charge the Card in accordance with this Agreement.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Promotional  Codes: "),"We may, in our sole discretion, create promotional codes",i.a.createElement("span",{className:e.mainWord}," (\u201cPromo Codes\u201d) "),"which may be redeemed by you through the Platform. The following are the terms and conditions that commonly apply to promotions on Swimply.com, including promotions where you must redeem a promotional code as part of the offer and subject to any additional terms which we establish on a per Promo Code business",i.a.createElement("span",{className:e.mainWord}," (\u201cPromo Terms\u201d): ")),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"this a limited time offer;")),i.a.createElement("li",null,i.a.createElement("p",null,"it may only be used pursuant to the Promo Terms;")),i.a.createElement("li",null,i.a.createElement("p",null,"Swimply reserves the right to modify or cancel the offer at any time. If you received the promotional code (directly or indirectly) from a third party, that third party also reserves the right to modify or cancel the offer at any time;")),i.a.createElement("li",null,i.a.createElement("p",null,"offer is limited to one per customer and account and may be used by you only;")),i.a.createElement("li",null,i.a.createElement("p",null,"offer may not be combined with other offers;")),i.a.createElement("li",null,i.a.createElement("p",null,"offer is non-transferrable, are not valid for cash and may not be resold;")),i.a.createElement("li",null,i.a.createElement("p",null,"if the booking is refunded, your refund will equal the amount you paid for the product or content, subject to applicable refund policies;")),i.a.createElement("li",null,i.a.createElement("p",null,"offer discount will be allocated proportionally among all promotional items in your order;")),i.a.createElement("li",null,i.a.createElement("p",null,"may expire prior to redemption; and")),i.a.createElement("li",null,i.a.createElement("p",null,"if you violate any of the offer terms, the offer will be invalid.")))))),i.a.createElement("li",{id:"section-12"},i.a.createElement(Oe.a,{variant:"h2"},"12. Service Fees"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Fees and Guest Fees: "),"Swimply will charge Host Fees (plus Taxes) to Hosts and GuestFees (plus Taxes) to Guests for their use of the Services. Swimply will collect Total Fees from a Guest. Swimply deducts the Guest Fee (plus Taxes) and Host Fee (plus Taxes) payable to Swimply from the Total Fees before remitting the Pool Fee to the Host. Balances will be remitted by Swimply to the Host via the Payout Method selected by the Host via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Disclosure of Service Fees: "),"Hosts and Guests can see the Services Fees (plus Taxes) before they submit a Listing or a Booking request. ")))),i.a.createElement("li",{id:"section-13"},i.a.createElement(Oe.a,{variant:"h2"},"13. Damages"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Duty for Damages and Lost Objects: "),"For the benefit of the Members,You as a Guest are responsible for leaving the Pool (including any personal or other property located at a Pool) in the condition it was in when you arrived. You are also responsible for all items you bring with you to the Pool and should you leave such items at the Pool, the Host can elect to return them, however, it is not his or her duty to do so.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guests Liability: "),"For the benefit of the Members,You acknowledge and agree that, as a Guest, you are responsible for your own acts and omissions and the acts and omissions of any individuals you invite or otherwise provide access to, the Pool. We recommend Guests take photographs of the Pool on arrival and departure from Your Booking. Further, we recommend Hosts take photographs of the Pool before and after each Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Remedies: "),"For the benefit of the Members and Swimply, if a Host claims and provides evidence of damage to its Pool (\u201cDamage Claim\u201d) for a confirmed Booking, the Host may seek payment from the Guest through Swimply. The Host may escalate the Damage Claim to Swimply if the Host and Guest are unable to resolve a Damage Claim. If escalating the Damage Claim to Swimply, the Host must send evidence of the damage to Swimply including but not limited to photographs. If a Host escalates a Damage Claim to Swimply you as a Guest will be notified of the Damage Claim and be given an opportunity to respond. If you as a Guest agree to pay the Host in connection with a Damage Claim, or if Swimply determines, acting reasonably, that you are clearly responsible for damaging a Pool or any personal or other property located at a Pool, Swimply will collect any such costs from you from the Payment Method as collection agent for the Host in accordance with the Payment Terms. Swimply may elect to make a determination in this respect in its absolute discretion. If Guests do not agree to pay the Host in connection with a Damage Claim, or if Swimply fails to make a determination in this respect, the Host is free to pursue their legal rights and remedies against the Guest.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reimbursement of excess: "),"If the actual costs of, or associated with, the Damage Claim are less than the amount that You have been charged, or if We recover the costs from any third parties who may have been at fault, then We will reimburse the difference to You within a reasonable time after all costs have been fully quantified and forward to you an invoice for the final amount. Alternatively, if We discover that the actual costs exceed the amount that You have been charged, then we may charge Your Payment Method, either for Our account or for the Host\u2019s account, with the outstanding amount.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member Cooperation: "),"Members agree to cooperate with and assist Swimply in good faith and to provide Swimply with such information as well as to take such actions as may be reasonably requested by Swimply, in connection with any Damage Claims or other complaints or claims made by Members relating to Pools or any personal or other property located at a Pool or with respect to any investigation undertaken by Swimply or a representative of Swimply regarding use or abuse of the Platform. You as a Guest, upon Swimply\u2019s reasonable request and to the extent you are reasonably able to do so, agree to participate in mediation or similar resolution process with a Host, at no cost to you, which process will be conducted by Swimply or a third party selected by Swimply, with respect to losses for which the Host is requesting payment from Swimply under these terms.")))),i.a.createElement("li",{id:"section-14"},i.a.createElement(Oe.a,{variant:"h2"},"14. Overstaying or Usage without Consent"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Pool Availability: "),"For the benefit of the Members and Swimply, You as a Host agree to make the Pool available for the duration agreed upon either (i) at the time of Booking, or (ii) such other time as mutually agreed upon by you and the Guest (\u201cAllowed Duration\u201d). If you fail to do so, you shall be treated as having cancelled the Booking under clause 15.1 for every half hour increment for which the Pool is unavailable for the duration of the Booking. Swimply reserves the right to take other reasonable action in response to address these kinds of actions on its Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Overstaying as a Guest: "),"For the benefit of the Members and Swimply, You as a Guest agree that your confirmed Booking grants you a limited licence to enter and use the Pool for the Allowed Duration. If you exceed the Allowed Duration, you agree that the Host or Swimply (as limited payment collection agent for the Host) may charge you a rate of 200% of the Pool Fees per half hour originally paid by you for every half hour increment exceeding the Allowed Duration. This amount includes compensation to the Host for inconvenience. Swimply is authorised to collect fees pursuant to this section from the Guest\u2019s Payment Methods.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Unauthorised Access of Pool: "),"For the benefit of the Members and Swimply, You as a Guest agree that you are responsible for any individuals whom you invite to, or otherwise provide access to, the Pool, and as such for the benefit of the Members, if you invite or provide access to more persons than agreed upon between you and the Host or otherwise permitted by the Host, the Host or Swimply (as limited payment agent for the Host) may charge you a $50 fee per person per hour in excess of the agreed upon number of persons as set out in the agreement between You and the Host. You authorise that Swimply may as limited payment collection agent deduct this amount from Your Payment Method on behalf of the Host.")))),i.a.createElement("li",{id:"section-15"},i.a.createElement(Oe.a,{variant:"h2"},"15. Cancellations and Refunds "),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Cancellations: "),"If as a Host you cancel a confirmed Booking made via the Platform, except due to rain (which is covered in clause 15.5), Swimply will for the benefit of the Members refund the Total Fees for such Booking to the applicable Guest. You will owe Swimply the Pool Fee and the Host Fee for the Booking. Other consequences may apply to you or your Listing, including (i) publishing an automated review on your Listing indicating that a Booking was cancelled; or (ii) keeping the calendar for your Listing unavailable or blocked for the dates of the cancelled Booking, or (iii) for more than one cancellation in any three month period without good reason, increasing the Hosts Fee payable to Swimply for future Listings.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Cancellations: "),"If as a Guest you wish to cancel a confirmed Booking made via the Platform, you may do so on the Platform in accordance with the cancellation terms agreed with the Host. You will owe Swimply the Guest Fee for a cancelled Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Cancellations by Swimply: "),"In certain circumstances, Swimply may decide, in its sole discretion, that it is necessary or desirable in the interests of Swimply and the Members to cancel a confirmed Booking made via the Platform. This may be for reasons set forth on the Platform, due to the suspension or termination of a Member\u2019s Account or where it considers it is necessary to protect it, the Members or any third parties from the risk of harm while taking the legitimate interests or those of the Members or any third party into account. If Swimply cancels a Booking through no action or fault of a Guest, Swimply will refund the Total Fees for such Booking to the Guest, and the Host agrees that neither the Guest nor Swimply will have any liability to the Host for the Pool Fee. Except if a Booking is cancelled by Swimply through no action or fault of a Member, or Swimply otherwise determines, in its sole discretion, to forgo a Service Fee owing by a Member, Members will owe Swimply Service Fees for a Booking that is cancelled by Swimply.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Cancellation through Platform: "),"You must submit all cancellations through the Swimply Platform. Your cancellation of a Booking is not effective unless and until you have requested the cancellation through your Account.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Other Cancellations: "),"In the event of rain, Swimply will assist the Guest to request that the Host accommodate the Booking at a different date. If the Host fails to confirm a new Booking date within one week from the initial Booking date, the Host may cancel the Booking. If the Host cancels the Booking due to rain, the Pool Fee will be remitted to the Host and the Service Fees for the Booking will be retained by Swimply."),i.a.createElement("p",{className:e.mainWord},"Swimply reserves the right, at any time and without prior notice, to remove or disable access to any Listing for any reason, including Listings that Swimply, acting reasonably, considers to be objectionable for any reason, in breach of these terms or Swimply\u2019s then-current policies, or otherwise harmful to the Site, Application or Services.")))),i.a.createElement("li",{id:"section-16"},i.a.createElement(Oe.a,{variant:"h2"},"16. User Conduct"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"You understand and agree that you are solely responsible for compliance with any and all laws, rules, regulations, and Tax obligations that may apply to your use of the Platform and Collective Content, and you agree that you may not and will not:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Breach the Law: "),"breach any local, state, national, or other laws or regulations, or any order of a court, including, without limitation, planning laws and restrictions and Tax regulations;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Observance of Terms and Policies: "),"Member agrees not to breach these Terms or Swimply\u2019s then-current Policies and Community Guidelines or Standards, if any exist.")))),i.a.createElement("li",null,i.a.createElement("p",{className:e.mainWord},"No discrimination: "),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"Swimply will not tolerate any discriminatory actions taken by Guests and Hosts.. We explicitly prohibit offensive behavior (e.g. derogatory comments towards colleagues of a specific gender or ethnicity.)")),i.a.createElement("li",null,i.a.createElement("p",null,"Discrimination is any negative action or attitude directed toward someone because of protected characteristics, like race and gender. Other protected characteristics are:"),i.a.createElement("ul",{className:e.dotsList},i.a.createElement("li",null,i.a.createElement("p",null,"Age")),i.a.createElement("li",null,i.a.createElement("p",null,"Religion")),i.a.createElement("li",null,i.a.createElement("p",null,"Ethnicity/ nationality")),i.a.createElement("li",null,i.a.createElement("p",null,"Disability/ medical history")),i.a.createElement("li",null,i.a.createElement("p",null,"Marriage / civil partnership")),i.a.createElement("li",null,i.a.createElement("p",null,"Pregnancy / maternity/ paternity")),i.a.createElement("li",null,i.a.createElement("p",null,"Gender identity/ sexual orientation")),i.a.createElement("li",null,i.a.createElement("p",null,"different backgrounds")))),i.a.createElement("li",null,i.a.createElement("p",null,"Any discrimination against a Member can result in any consequences up to and including expulsion from the site and potential even civil or criminal penalties. We will not be lenient in cases of assault, sexual harassment or violence, whether physical or psychological.")))))),i.a.createElement("li",{id:"section-17"},i.a.createElement(Oe.a,{variant:"h2"},"17. Prohibitions"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"A Member must not directly or indirectly:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Page Scrape or Cause Site Damage: "),"use manual or automated software, scripts or systematic retrieval, or devices, scripts, robots, backdoors or other means or processes to access, \u201cscrape,\u201d \u201ccrawl\u201d or \u201cspider\u201d any web pages or other services contained in the Platform or Collective Content or any other form of gleaning information to create or compile, directly or indirectly, in single or multiple downloads, a collection, compilation, database, directory or the like;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Interfere or damage the Platform: "),"interfere with or damage the Platform, including, without limitation, through the use of viruses, cancel bots, Trojan horses, harmful code, flood pings, denial-of-service attacks, backdoors, packet or IP spoofing, forged routing or electronic mail address information or similar methods or technology;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Tamper with the Platform: "),"access, tamper with, or use non-public areas of the Platform, Swimply\u2019s computer systems, or the technical delivery systems of Swimply\u2019s providers;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Test any Swimply system: "),"attempt to probe, scan, or test the vulnerability of any Swimply system or network or breach any security or authentication measures;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Circumvent technological measures: "),"avoid, bypass, remove, deactivate, impair, descramble, or otherwise circumvent any technological measure implemented by Swimply or any of Swimply\u2019s providers or any other third party (including another user) to protect the Platform or Collective Content or attempt to decipher, decompile, disassemble or reverse engineer any of the software used for the Platform or Collective Content;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Send false information: "),"forge any TCP/IP packet header or any part of the header information in any email or newsgroup posting, or in any way use the Platform or Collective Content to send altered, deceptive or false source-identifying information;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Use for Restricted Commercial Purposes: "),"use the Platform or Collective Content for any commercial or other purposes that are not expressly permitted by these Terms or in a manner that falsely implies Swimply endorsement, partnership or otherwise misleads others as to your affiliation with Swimply;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Use Platform Content: "),"use, display, mirror or frame the Platform or Collective Content, or any individual element within the Platform or Collective Content;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Use for Competing Business: "),"access the Site for the purpose of a competing platform or business, submit any Listing with false or misleading information (including by omission or that is out of date), including price information, or submit any Listing with a price that you do not intend to honour")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Cannot Circumvent Swimply: "),"attempt to bypass Swimply to rent or book any Pool outside the Swimply Platform. Members who are discovered to be breaching this rule will be liable to Swimply for 200% of the Service Fees for such as a booking as if it was made on the Platform, plus fees incurred by Swimply. Additionally, Members cannot use the Platform or Collective Content to find a Host or Guest and then complete a booking of a Pool independently of the Platform, and Members will be liable to Swimply for 200% of the Service Fees for such as a booking as if it was made on the Platform plus fees incurred by Swimply;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reputational Harm: "),"purport to say or take any actions with regard to Swimply thathas the potential to harm, damage or tarnish its reputation in any way. Please reach out to us as a first point of contact should you have any such concerns;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Content Restrictions: "),"post, upload, publish, submit or transmit any Content that: (i)infringes, misappropriates or breaches a third party\u2019s patent, copyright, trademark, trade secret, moral rights or other intellectual property rights, or rights of publicity or privacy; (ii) breaches, or encourages any conduct that would breach, any applicable law or regulation or would give rise to civil liability; (iii) is fraudulent, false, misleading (directly or by omission or failure to update information) or deceptive; (iv) is defamatory, obscene, pornographic, vulgar or offensive; (v) promotes discrimination, bigotry, racism, hatred, harassment or harm against any individual or group; (vi) is violent or threatening or promotes violence or actions that are threatening to any other person; or (vii) promotes illegal or harmful activities or substances;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Spam: "),"use the Platform or Collective Content in connection with the distribution of unsolicited commercial email (\u201cspam\u201d) or advertisements unrelated to Listing a Pool;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Inappropriate Interactions with Third-Parties: "),"use the Platform to transmit, distribute, post or submit any information concerning any other person or entity, including without limitation, photographs of others without their permission, personal contact information or credit, debit, calling card or account numbers;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Breach Payment Practices: "),"accept or make a payment for Pool Fees outside Swimply. If you do so, you acknowledge and agree that, you: (i) would be in breach of these Terms, (ii) accept all risks and responsibility for such payment, and (iii) hold Swimply harmless from any liability for such payment;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Harassment: "),"\u201cstalk\u201d or harass any other user of the Platform or Collective Content, or collect or store any personally identifiable information about any other user other than for purposes of transacting as a Swimply Guest or Host or engage in disruptive, circumventive, abusive or harassing behaviour in any area or aspect of Swimply\u2019s Platform;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Offer Another\u2019s or Restricted Property: "),"offer, as a Host, any Pool that you do not yourself have rights to offer (without limiting the foregoing, you will not list Pools as a Host if you are serving in the capacity of an agent for a third party); offer, as a Host, any Pool that may not be Booked pursuant to an agreement with a third party;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Book for Another: "),"request or book a stay at any Pool if you will not actually be staying at the Pool yourself. You agree not to impersonate any person or entity, or falsify or otherwise misrepresent yourself or your affiliation with any person or entity, or advocate, encourage, or assist any third party in doing any of the foregoing. Further, if you bring additional Guests with you it is your duty to ensure they follow the rules;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Direct Contact with Member not for Swimply Finalised Booking: "),"contact another Member for any purpose other than asking a question related to a Booking, Pool, Listing, or the Member\u2019s use of the Platform or recruit or otherwise solicit any Member to join third-party services, applications or websites, without Swimply\u2019s prior written approval;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Falsify Reviews: "),"publish reviews that are not in accordance with your views, orwithhold or tarnish or improve a review for any gain or use relating to extortion.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Breach Intellectual Property Restrictions: "),"dilute, tarnish or otherwise harm the Swimply brand in any way, including through unauthorised use of Collective Content, registering and/or using Swimply or derivative terms in domain names, trade names, trademarks or other source identifiers, or registering and/or using domains names, trade names, trademarks, logos or other source identifiers that closely imitate or are confusingly similar to Swimply domains, trademarks, taglines, promotional campaigns or Collective Content, other proprietary information or infringe the rights of Swimply or the any other person or entity, including without limitation, their intellectual property, privacy, publicity or contractual right, copy, store or otherwise access or use any information contained on the Platform or Collective Content for purposes not expressly permitted by these Terms.")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reporting Misconduct: "),"If you feel that any Member is acting or has acted inappropriately, including but not limited to anyone who (i) engages in offensive, violent or sexually inappropriate behaviour, (ii) you suspect of stealing from you, or (iii) engages in any other wrongful or improper conduct, you should immediately report such person to the appropriate authorities and then to Swimply by contacting Swimply with your police station and report number. You acknowledge that your report will not obligate Swimply to take any action beyond that required by law (if any) or cause Swimply to incur any liability to you.")))),i.a.createElement("li",{id:"section-18"},i.a.createElement(Oe.a,{variant:"h2"},"18. Term, Suspension and Termination"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Term: "),"These Terms commence from the date that these Terms are accepted by you and will continue until terminated in accordance with this clause.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Action: "),"In addition to its rights as set out elsewhere in these Terms, Swimply may remove or disable access to any or all of your Member Content or deactivate or cancel your Listing(s) or Account in response to a breach of the Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Termination with notice by Us: "),"We may terminate these Terms and close any Account you have with Us, for any reason by giving you no less than 30 days\u2019 notice in writing.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Termination without notice: "),"Swimply may terminate these Terms and close any Account you have with Us by notice with immediate effect if:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"you materially breach these Terms or other Policies and Community Guidelines or Standards referenced herein or on the Site;")),i.a.createElement("li",null,i.a.createElement("p",null,"you breach applicable laws, regulations or third party rights;")),i.a.createElement("li",null,i.a.createElement("p",null,"Swimply believes in good faith that a Member, in renting their Pool via the Platform, is in violation of the law; or")),i.a.createElement("li",null,i.a.createElement("p",null,"Swimply believes in good faith that termination is reasonably necessary to protect the safety or property of other Members, Swimply or third parties, for fraud prevention, risk assessment, security or investigation purposes.")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Consequences of breach: "),"If any of clauses 18.4(a) to 18.4(d) apply or Swimply reasonably believes that they are likely to apply, or if You receive one or more poor ratings from Members (with the definition of \u201cpoor\u201d to be at Swimply\u2019s sole and absolute discretion), Swimply may:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"deactivate or delay Listings, reviews, or other Member Content;")),i.a.createElement("li",null,i.a.createElement("p",null,"cancel any pending or confirmed Bookings;")),i.a.createElement("li",null,i.a.createElement("p",null,"limit your use of or access to your Account and the Platform, temporarily or permanently revoke any special status associated with your Account, or temporarily or permanently suspend your Account. Swimply\u2019s right to take action under this clause is in addition to, and does not affect its right to take action under, clause 18.4.")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Termination of Host: "),"If Swimply takes any of the measures described in clauses 18.3 to 18.5 relating to a Host, it may:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"communicate to your Guests that a pending or confirmed Booking has been cancelled;")),i.a.createElement("li",null,i.a.createElement("p",null,"refund your Guests in full for any and all confirmed Bookings, irrespective of applicable cancellation policies set out in these Terms and/or any agreement between a Guest and a Host; and")),i.a.createElement("li",null,i.a.createElement("p",null,"suport your Guests, on an exceptional basis, in finding potential alternative Pools."))),i.a.createElement("p",null,"You will not be entitled to any compensation for confirmed Bookings that were cancelled.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Right to Account Restoration: "),"When this Agreement has been terminated, you are not entitled to restore your Swimply Account or any of your Member Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member Termination: "),"You may terminate your Account by cancelling it on the Site or by sending Swimply an email in which you request that Swimply terminate your Account. If you cancel your Account as a Host, any confirmed Bookings will be automatically cancelled, and your Guests will receive a full refund of the Pool Fee. No refunds of Host Fees will be provided. If you cancel your Swimply Account as a Guest, any confirmed Booking will be automatically cancelled, and you will be issued a refund in accordance with the cancellation policy referenced herein.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Ban on Issue of New Account after Suspension/termination: "),"If your access to or use of the Platform has been limited or your Swimply Account has been suspended or this Agreement has been terminated by Swimply, you may not register a new Swimply Account or attempt to access and use the Platform through other Swimply Accounts.")))),i.a.createElement("li",{id:"section-19"},i.a.createElement(Oe.a,{variant:"h2"},"19. Taxes"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Tax Requirements: "),"Tax regulations may require Swimply to collect appropriate tax data from Hosts, or to withhold taxes from payouts to Hosts, or both. You as a Host are solely responsible for keeping the information in your tax forms current, complete and accurate. If you as a Host fail to provide Swimply with documentation that Swimply determines to be sufficient to alleviate Swimply\u2019s obligation (if any) to withhold taxes from payments to you, Swimply reserves the right in its sole discretion to freeze all payouts to you until resolution, to withhold such amounts as required by law, or to do both.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Responsibility: "),"You as a Host understand and agree that you are solely responsible for determining (i) your applicable Tax reporting requirements, and (ii) the Taxes that should be included and including Taxes to be collected or obligations relating to applicable Taxes in Listings. You are also solely responsible for remitting to the relevant authority any Taxes included or received by you. Swimply cannot and does not offer Tax-related advice to any Members.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Collection of taxes by Swimply: "),"You understand and acknowledge that appropriate governmental agencies, departments or authorities (the",i.a.createElement("span",{className:e.mainWord}," \u201cTax Authority\u201d) "),"where your Pool is located may require Taxes to be collected from Guests or Hosts on the amount paid for the right to use and/or occupancy of Pools, and to be remitted to the respective Tax Authority. We reserve the right to collect taxes that would be wanted by any governmental authority. The laws in jurisdictions may vary, but these taxes may be required to be collected and remitted as a percentage of the Pool Fees set by Hosts, a set amount per day, or other variations, and are sometimes called \u201coccupancy taxes,\u201d \u201chotel taxes,\u201d \u201clodging taxes,\u201d \u201ctransient taxes,\u201d \u201csales and use taxes,\u201d \u201cvalue added taxes,\u201d \u201croom taxes\u201d or \u201ctourist taxes\u201d (hereafter,",i.a.createElement("span",{className:e.mainWord}," \u201cOccupancy Taxes\u201d)."))))),i.a.createElement("li",{id:"section-20"},i.a.createElement(Oe.a,{variant:"h2"},"20. Equitable Relief"),i.a.createElement("p",null,"You acknowledge and agree that in the event of a breach or threatened breach of our intellectual property rights and confidential and proprietary information by you, we will suffer irreparable harm and will therefore be entitled to injunctive relief to enforce this Agreement. We may, without waiving any other remedies under this Agreement, seek from any court having jurisdiction any interim, equitable, provisional, or injunctive relief that is necessary to protect our rights.")),i.a.createElement("li",{id:"section-21"},i.a.createElement(Oe.a,{variant:"h2"},"21. Member Content"),i.a.createElement("p",null,"We are not responsible for any Member Content and you use and rely on the Member Content at Your Own risk. We neither warrant the accuracy of the Member Content nor exercise any editorial control over Member Content, nor do we assume any legal obligation for editorial control of Member Content or liability in connection with Member Content, including any responsibility or liability for investigating or verifying the accuracy of any Member Content.")),i.a.createElement("li",{id:"section-22"},i.a.createElement(Oe.a,{variant:"h2"},"22. Privacy"),i.a.createElement("p",null,"We will comply with all relevant privacy legislation and our Privacy Policy in relation to Your personal information."),i.a.createElement("p",null,"Please review Swimply\u2019s Privacy Policy at www.swimply.com/privacy_policy, which also governs your access and use of this Platform."),i.a.createElement("p",null,"The terms of Our Privacy Policy form part of this Agreement. Our Privacy Policy sets out how We collect, use, store and disclose Your personal information."),i.a.createElement("p",null,"If We do not collect personal information from You, We will not be able to provide Our Services to You and if any of the personal information You provide is incomplete or inaccurate, the quality of Our services may be compromised."),i.a.createElement("p",null,"You consent to Us providing Your personal information to other Members as required by the Booking."),i.a.createElement("p",null,"You can tell Us if You do not consent to Our use of such information, or if You do not wish to receive such information, or if you have any questions about Our Privacy Policy, by calling Us on +1 212-202-0472 or by sending an email to info@swimply.com."),i.a.createElement("p",null,"By entering into this Agreement and by providing us with personal information, You represent to us that You have read, and agree to, the terms of Our Privacy Policy."),i.a.createElement("p",null,"By using the Platform and registering for an Account, you agree to said Privacy Policy.")),i.a.createElement("li",{id:"section-23"},i.a.createElement(Oe.a,{variant:"h2"},"23. Assumption of Risk and Waiver"),i.a.createElement("p",null,"You as a Guest agree that you are aware of and assume all risks voluntarily for yourself as well as any other Guest or invitees attending your Booking.. To the maximum extent permitted by law, You hereby agree to release, waive, discharge, and covenant not to sue and to hold harmless Swimply or the Hosts for any injuries, death, loss or harm arising from or related to use of the Pool."),i.a.createElement("p",null,"You agree that the Pools carry inherent risk, and by using such Pools, you choose to assume those risks voluntarily. For example, the Pools may carry risk of illness, bodily injury, disability, or death, and you freely and wilfully assume those risks by choosing to enter into these Terms and use the Pools. You assume full responsibility for the choices you make before, during and after the use by you and your invitees of a Pool. If you are bringing a minor as an additional Guest, you are solely responsible for the supervision of that minor at all times throughout the duration of your time in the Pool. To the maximum extent permitted by law, you agree to release, waive, discharge, not to take legal action and hold harmless Swimply from all liabilities and claims that arise in any way from any injury, death, loss or harm that occurs to any minor under your supervision during swimming or in any way arising from or related to the use of the Pool.")),i.a.createElement("li",{id:"section-24"},i.a.createElement(Oe.a,{variant:"h2"},"24. Indemnification"),i.a.createElement("p",null,"You agree to forever release, defend, discharge, indemnify, and hold Swimply and its affiliates and subsidiaries, and their members, managers, officers, directors, employees and agents, harmless from and against any claims (howsoever arising, under any theory of liability) or investigations and all damages, losses, and expenses, including, without limitation, reasonable legal and accounting fees that we incur in relation to such claims and investigations, arising out of or in any way connected with:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"your breach of these Terms or Policies;")),i.a.createElement("li",null,i.a.createElement("p",null,"your breach of any laws or third party rights;")),i.a.createElement("li",null,i.a.createElement("p",null,"your Member Content;")),i.a.createElement("li",null,i.a.createElement("p",null,"the use of a Pool by you or your invitees,"))),i.a.createElement("p",null,"except if and to the extent that Swimply was negligent, or caused or contributed to the loss.")),i.a.createElement("li",{id:"section-25"},i.a.createElement(Oe.a,{variant:"h2"},"25. Liability of Swimply"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Force majeure: "),"You hereby waive any potential liability for delays in payment on account of force majeure. Swimply is not responsible or liable for non-performance caused by telecommunications failures, non-performance of vendors, fires or other acts of nature, strife or acts of political discord, or other events outside its reasonable control (each a \u201cForce Majeure\u201d).")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No liability for consequential loss: "),"To the maximum extent permitted by law, Swimply will not be liable to Members for any:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"loss to the extent that it is for special, indirect, consequential or economic loss; or")),i.a.createElement("li",null,i.a.createElement("p",null,"any loss of profits, loss of revenue of any nature whatsoever, loss of expected savings, loss of use, loss of chance or business opportunity, business interruption, loss of data or loss or reduction of goodwill, service interruption, computer damage, system failure or damage to reputation, "))),i.a.createElement("p",null,"although this limitation will not apply if and to the extent that we are also liable for that loss caused by our breach of the consumer guarantees under the Australian Consumer Law.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Limitation of liability: "),"Notwithstanding any other provision these Terms, but subject to your statutory rights, Swimply\u2019s total liability to the customer as a result of or arising out of or in connection with these terms and your use of the Services, will be limited to the amounts paid by Swimply to you in the twelve (12) month period prior to the event giving rise to the liability. This limitation will not apply to our obligations to pay Pool Fees to Hosts or to pay refunds to Members pursuant to these Terms.")))),i.a.createElement("li",{id:"section-26"},i.a.createElement(Oe.a,{variant:"h2"},"26. Disclaimer and acknowledgements"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"As is basis: "),"The Service comes with consumer guarantees under the Australian Consumer Law in the Consumer and Competition Act 2010 (Cth) that cannot be excluded by this Agreement. Nothing in this Agreement affects your statutory rights as a consumer. We make no express warranties beyond the consumer guarantees.However, you acknowledge and agree that, where such statutory provisions apply, to the extent Swimply is permitted to do so, our total liability for any loss or damage that you suffer or incur from using the Service is limited to us re-supplying the Service to you or, at our option, refunding to you the amount you have paid for the Services to which your claim relates. The Service is subject to limitations, delays and other problems which are inherent in the use of internet and electronic communications.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No warranty re Accuracy: "),"To the maximum extent permitted by law the material in the Site could include technical inaccuracies or typographical errors. We accept no responsibility for and make no representations or warranties to you or to any other user as to the reliability, accuracy or completeness of the information provided through the Service. We recommend that you maintain your own records and use your discretion when acting on information received through the Service. Swimply cannot ensure that any files, documents or other data you download from the Site will be free of viruses or contamination or destructive features.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply is an introductory service only: "),"Swimply is an introductory service only. We provide a platform to connect you with Hosts and/or Guests and facilitate payment for the use of the Pools under these Terms. You acknowledge and agree that:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"we make no representations that your Listings will attract requests for Bookings;")),i.a.createElement("li",null,i.a.createElement("p",null,"we make no representations that your requests for Bookings will be accepted;")),i.a.createElement("li",null,i.a.createElement("p",null,"we are not a party to any arrangements between Host and Guest, and we act in a limited capacity as a booking and payment collection agent as set out in these Terms. Any arrangements made for the use of a Pool is between the Guest and the Host only;")),i.a.createElement("li",null,i.a.createElement("p",null,"we do not control the condition of any Pool, the actions of any Member, or the information provided to us by You or other Members and included in any Member Profiles or otherwise made available to You. You are solely responsible for Your actions and inactions in relation to Your use of the Service and Your interactions with other Members;")),i.a.createElement("li",null,i.a.createElement("p",null,"we take no responsibility as to whether a Pool is registered, if registration is legally required, or whether a Pool or the use of a Pool complies with legal and regulatory requirements. We do not guarantee that we inspect Pools;")),i.a.createElement("li",null,i.a.createElement("p",null,"we do not provide any form of insurance or similar protection for Guest or Hosts, whether in relation to property damage, personal injury or otherwise. It is the Member\u2019s responsibility to enquire about insurance;")),i.a.createElement("li",null,i.a.createElement("p",null,"the use of any Pool by you and your invitees is at Your own risk. We owe You no duty of care, and disclaim all responsibility or liability to You or any third party (howsoever arising, whether under contract, tort (including negligence), statute or otherwise) resulting from the use of a Pool including but not limited to any death, injury, losses, or damages (compensatory, direct, incidental, consequential or otherwise) of any kind arising in connection with or as a result of a Booking or use of a Pool;")),i.a.createElement("li",null,i.a.createElement("p",null,"you release us and agree not to attempt to claim against or impose liability on or seek any legal remedy from Us, with respect to any legal claim or remedy that You seek to make or obtain (including by way of cross-claim, contribution or under proportionate liability legislation) under or arising out of an agreement with a Member, or for your actions or omissions or those of other Members or third parties. If You have a dispute with or claim against one or more Members, You release us (and our officers, directors, agents, and employees) from liability (howsoever arising, whether under contract, tort (including negligence), statute or otherwise) in any way connected with such disputes or claims;")),i.a.createElement("li",null,i.a.createElement("p",null,"we have no obligation to conduct background or registered sex offender searches;")),i.a.createElement("li",null,i.a.createElement("p",null,"Swimply is not responsible for any Member\u2019s conduct on the Platform or otherwise. You agree to take reasonable precautions in all communications and interactions with other Members and users of the Platform and with other persons with whom you communicate or interact as a result of your use of the Platform, including, but not limited to, Guests and Hosts, particularly if you decide to meet offline or in person regardless of whether such meetings are organized by Swimply. Swimply explicitly disclaims all liability for any act or omission of any Member or other third party.")),i.a.createElement("li",null,i.a.createElement("p",null,"to the maximum extent permitted by law, Swimply makes no representations or warranties as to any Pool or Listing. Guests are solely responsible for inquiring or performing any due diligence necessary to evaluate a Pool. Swimply does not endorse any Member, Listing, or Pool.")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Application of disclaimers: "),"The foregoing disclaimers apply to the maximum extent permitted by law. You may have statutory rights that cannot be excluded by the foregoing disclaimers, including under the Australian Consumer Law. However, the duration of statutorily required warranties, if any, shall be limited in time to the maximum extent permitted by law.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No agency: "),"Swimply does not appoint any Member or other user of the Platform as its employee, mandatory, legal agent, or form any kind of legal partnership or joint venture. You are not authorised to make any commitments on behalf of Swimply.")))),i.a.createElement("li",{id:"section-27"},i.a.createElement(Oe.a,{variant:"h2"},"27. Governing Law and Jurisdiction"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"These Terms are governed by the laws and to be construed in accordance with of New South Wales, Australia. You submit to the non-exclusive jurisdiction of the courts of the State of New South Wales, Australia.")))),i.a.createElement("li",{id:"section-28"},i.a.createElement(Oe.a,{variant:"h2"},"28. Dispute Resolution"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"If you wish to:"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,"provide us with any feedback;")),i.a.createElement("li",null,i.a.createElement("p",null,"make a complaint in relation to the Service or make a claim under these Terms; or")),i.a.createElement("li",null,i.a.createElement("p",null,"make a complaint about other Members or users of the Service,"))),i.a.createElement("p",null,"please email us at info@swimply.com.")),i.a.createElement("li",null,i.a.createElement("p",null,"Each party agrees to act reasonably and without delay in seeking to resolve any disputes arising under these Terms.")))),i.a.createElement("li",{id:"section-29"},i.a.createElement(Oe.a,{variant:"h2"},"29. Contact Information"),i.a.createElement("p",{className:e.mainWord},"Email: info@swimply.com"))))),t?"":i.a.createElement($a,null))}}]),a}(i.a.Component),dd=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"& ol":{counterReset:"item",paddingLeft:"20px"},"& > ol":{padding:"0"},"& ol ol":{paddingLeft:"0"},"& ol > li > ol[type=a]":{paddingLeft:"20px"},"& ul":{paddingLeft:"10px"},"& > ol > li":{listStyleType:"none"},"& ol > li":{counterIncrement:"item"},"& h1":{fontSize:"30px"},"& h2":{marginTop:"20px",fontSize:"20px",fontWeight:"600"}},termsConditions:{padding:"60px 0","@media (max-width:767px)":{padding:"30px 0"},"& h1":{"@media (max-width:767px)":{maxWidth:"200px"}},"& h2":{"@media (max-width:767px)":{fontSize:"16px"}},"& p":{fontSize:"13px",color:e.palette.common.black,marginTop:"7px",lineHeight:"23px","@media (max-width:767px)":{paddingRight:"15px",fontSize:"12px"}}},linksList:{"& a":{color:e.palette.common.black,cursor:"pointer"}},innerNumerationList:{"& > li":{display:"block",position:"relative",marginTop:"15px",paddingLeft:"30px"},"& > li:before":{content:"counters(item, '.') ' '",marginRight:"6px",position:"absolute",left:"0",top:"0"},"& p":{marginTop:"0"},"& ol > li":{paddingLeft:"40px"},"& ol":{marginLeft:"-30px"}},dotsList:{"& li":{listStyleType:"disc"}},mainWord:{fontWeight:"600",marginRight:"4px","&:not(:first-child)":{marginLeft:"4px"}},underLine:{textDecoration:"underline"},minusMarginLeft:{marginLeft:"-40px"}}}),je.a)(ld);function cd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var md=function(e){Object(h.a)(a,e);var t=cd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).goToSection=function(e){var t=document.getElementById(e);if(t&&t.offsetTop){var a=t.offsetTop-80;try{window.scrollTo({left:0,top:a,behavior:"smooth"})}catch(n){window.scrollTo(0,a)}}},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=!1;return"/mobile-termsandconditions"===this.props.match.path&&(t=!0),i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.termsConditions},i.a.createElement("div",{className:e.container},i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"subtitle1"},"Swimply Terms of Service \u2013 July 30, 2019"),i.a.createElement(Oe.a,{variant:"h2"},"Table of Contents"),i.a.createElement("ol",{type:"1",className:e.linksList},i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-1"),className:e.mainWord},"Definitions")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-2"),className:e.mainWord},"Terms and Conditions")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-3"),className:e.mainWord},"Account Registration")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-4"),className:e.mainWord},"Protect Login Information")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-5"),className:e.mainWord},"Proprietary Data and Communication")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-6"),className:e.mainWord},"Third-Party Sites")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-7"),className:e.mainWord},"Pool Listings")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-8"),className:e.mainWord},"Pool Inspection Corporate Partnerships")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-9"),className:e.mainWord},"Insurance")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-10"),className:e.mainWord},"Booking and Financial Terms")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-11"),className:e.mainWord},"Fees")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-12"),className:e.mainWord},"Damages and Security Deposits")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-13"),className:e.mainWord},"Overstaying or Usage without Consent")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-14"),className:e.mainWord},"Cancellations and Refunds")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-15"),className:e.mainWord},"User Conduct")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-16"),className:e.mainWord},"Term, Suspension and Termination")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-17"),className:e.mainWord},"Taxes")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-18"),className:e.mainWord},"Digital Millennium Copyright Act (DMCA)")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-19"),className:e.mainWord},"Class Action Waiver")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-20"),className:e.mainWord},"Equitable Relief")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-21"),className:e.mainWord},"Communications Decency Act Notice")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-22"),className:e.mainWord},"Privacy")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-23"),className:e.mainWord},"Assumption of Risk and Waiver")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-24"),className:e.mainWord},"Indemnification and Limitation of Liability")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-25"),className:e.mainWord},"Disclaimer")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-26"),className:e.mainWord},"Governing Law and Jurisdiction")),i.a.createElement("li",null,i.a.createElement("span",{onClick:this.goToSection.bind(null,"section-27"),className:e.mainWord},"Contact Information")))),i.a.createElement(Oe.a,{variant:"h1"},"Terms of use and service"),i.a.createElement("ol",{type:"1"},i.a.createElement("li",{id:"section-1"},i.a.createElement(Oe.a,{variant:"h2"},"1. Definitions"),i.a.createElement("ol",{type:"a"},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSwimply.com\u201d"),", and/or ",i.a.createElement("span",{className:e.mainWord},"\u201cSwimply\u201d"),"shall mean Swimply, Inc. and its online Platform that connects, pool owners, (\u201cHosts\u201d), with potential guests (\u201cGuests\u201d), collectively \u201cParties\u201d.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cAccount\u201d"),"means the account a person registers for to become a Member with Swimply to use the Site, Application or Services.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cAllowed Duration\u201d"),"has the meaning set forth in Section 10.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cAmbassador Program\u201d"),"means the ambassador program established by Swimply, if any.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cApplication\u201d"),"means any applications for mobile and other smart devices and application program interfaces through which Swimply provides services, if any.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cBooking Request Period\u201d"),"means the time period after Guests books a Pool through the Site or Application, and before Hosts confirms or rejects such Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cBooking\u201d"),"or ",i.a.createElement("span",{className:e.mainWord},"\u201cRental\u201d"),"means a limited license granted by the Hosts to the Guests to use the Pool for the limited duration of the confirmed Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cCollective Content\u201d"),"means Member Content and Swimply Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cCommunication\u201d"),"means an email, message via the Application, and text message or message among Guests, Hosts, and Swimply.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cContent\u201d"),"means text, graphics, images, music, software (excluding the Application), audio, video, information or other materials.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cListing\u201d"),"means Pool that is listed by a Hosts as available for Booking via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMember Content\u201d"),"means all Content that a Member posts, uploads, publishes, submits, transmits, or includes in their Listing, Member profile or Swimply promotional campaign to be made available through the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cMember\u201d"),"refers to a person who completes Swimply\u2019s account registration process, including but not limited to Hosts and Guests, as described under \u201cAccount Registration\u201d below.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cOccupancy Tax\u201d"),"has the meaning set forth in Section 16.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPayment Method\u201d"),"means a payment method that you have added to your Swimply Account, for instance, a credit card, debit card or PayPal.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPayout Method\u201d"),"means a payout method that you added to your Swimply Account, for example, PayPal, direct deposit or electronic funds transfer, a prepaid card or a debit card (where available).")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPlatform\u201d"),"refers to the Swimply Site, Application and Services.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPool\u201d"),"means the pool and surrounding space (i.e. backyard) booked for a specified duration as specified by the Booking and as agreed upon by the Parties.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cPool Fees\u201d"),"means the amounts due by Guest in exchange for use of a Pool, exclusive of Service Fees and Taxes as defined by Hosts.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cHosts\u201d"),"means a Member who creates a Listing and rents its Pool via the Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cHosts Fee\u201d"),"means the fee Swimply charges a Hosts for use of the Services, which is calculated as a percentage of the applicable Pool Fees.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cService Fees\u201d"),"means collectively the Guest Fees and the Hosts Fees plus any third-party charges associated with collection of payment.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cServices\u201d"),"means the services Swimply makes available through its site for Hosts to list pools and for Guests to book such pools.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSite\u201d"),"means www.swimply.com and any other website through which Swimply makes Services available.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cGuest\u201d"),"means a Member who rents or books a Listing via the Platform and uses the Pool according to the agreement governing the Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cGuest Fee\u201d"),"means the fee that Swimply charges a Guest for the use of the Services, which is calculated as a percentage of the applicable Pool Fees.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cSwimply Content\u201d"),"means all content that Swimply makes available through the Platform or its related promotional campaigns and official social media channels, including any Content licensed from a third party, but excluding Member Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTax Authority\u201d"),"has the meaning set forth in Section 16.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTax\u201d"),"or ",i.a.createElement("span",{className:e.mainWord},"\u201cTaxes\u201d"),"means any sales , value added taxes (VAT), goods and services taxes (GST), transient occupancy, tourist or other visitor taxes, Pool or lodging taxes, fees Hosts may be required by law to collect and remit to governmental agencies, other similar municipal, state, federal and national indirect or other withholding and personal or corporate income taxes, or any other tax that is required to be or permitted to be collected by law.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTerms\u201d"),"means these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cTotal Fees\u201d"),"means collectively the Pool Fees plus Service Fees (inclusive of Guests and Hosts Fees) and Taxes.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"\u201cYou\u201d"),"or ",i.a.createElement("span",{className:e.mainWord},"\u201cyour\u201d"),"means you as a Member, unless otherwise specified. The Terms may apply to you as a Guests and Member or Guests and Hosts concurrently.")))),i.a.createElement("li",{id:"section-2"},i.a.createElement(Oe.a,{variant:"h2"},"2. Terms and Conditions"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Who We Are:"),"Swimply is an online marketplace that enables Hosts to list their Pools for Booking and to communicate directly with potential Guests who wish to use those Bookings and to ultimately facilitate transactions whereby Guests pay for and use the Host\u2019s Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Purpose of Headings:"),"Headings in these Terms are solely for reference objectives and do not limit the scope or extent of such section. Except as otherwise stated in these Terms, if any clause of these Terms are found to be invalid, void, or for any reason unenforceable, such clause shall be struck out and shall not affect the validity and enforceability of the remaining provisions.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Your Legal Rights:"),"PLEASE READ THESE TERMS CAREFULLY AS THEY CONTAIN IMPORTANT INFORMATION REGARDING YOUR LEGAL RIGHTS, REMEDIES, AND OBLIGATIONS. BY AGREEING TO THESE TERMS, YOU HEREBY ACKNOWLEDGE THAT YOU HAVE READ AND UNDERSTAND THAT YOU ARE BOUND TO A LEGAL AGREEMENT BETWEEN YOU AND SWIMPLY PURSUANT TO THESE TERMS. If you"),i.a.createElement("p",null,"These Terms govern your access or use of the Platform, including but not limited to payment procedures, Collective Content, and the Ambassador Program. The Platform allows Hosts to create Listings for Pools and Guests may learn about and book Pools directly with Hosts. SWIMPLY IS NOT A PARTY TO ANY FACET OF ANY AGREEMENTS ENTERED INTO BETWEEN POOL OWNERS AND GUESTS, NOR IS SWIMPLY AN INSURER, SWIMPLY HAS NO CONTROL OVER THE CONDUCT OF HOSTS, GUESTS AND OTHER USERS OF THE SITE, APPLICATION OR SERVICES OR ANY POOLS, AND DISCLAIMS ALL LIABILITY IN THIS REGARD TO THE MAXIMUM EXTENT PERMITTED BY LAW.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Modifications:"),"Swimply reserves the right, in its sole discretion, to modify the Terms or Platform at any time and without prior notice. If Swimply materially changes or modifies these Terms, it will post the modification on the Platform and/or provide you notice of the modification by email. The date the Terms were \u201cLast Updated\u201d will be shown on the Site. Changes to the Terms will be effective at the time of posting. If you disagree with such updated Terms, you may terminate your Account. If you do not terminate your Account, your continued access or use of the Platform will constitute acceptance of the modified Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Waiver: "),"Swimply, in its sole discretion, may determine whether to prosecute a right or claim, and failing to do so is not a waiver of its right, or of any subsequently accruing right or claim.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Duties:"),"HOSTS ARE RESPONSIBLE FOR IDENTIFYING, UNDERSTANDING, AND COMPLYING WITH ALL LAWS, RULES, AND REGULATIONS THAT APPLY TO THEIR LISTINGS. FOR EXAMPLE, SOME CITIES MAY RESTRICT POOL OWNERS FROM RENTING FOR SHORT PERIODS OF TIME, HOSTS MAY BE REQUIRED TO REGISTER OR OBTAIN A PERMIT OR LICENSE BEFORE, LISTING A PROPERTY OR ACCEPTING GUESTS. LOCAL LAWS AND ENFORCEMENT VARY FROM CITY TO CITY; PENALTIES MAY INCLUDE FINES OR OTHER ENFORCEMENT. If you have questions about the applicability of local laws to your Listing or Pool, you should seek legal guidance. SWIMPLY TAKES NO OFFICIAL POSITION ON SUCH LEGAL REQUIREMENTS, SAID DUTY LIES SOLELY WITH THE MEMBERS. With the exception of Swimply\u2019s obligations pursuant to these Terms, Swimply disclaims all liability and responsibility arising from or related to any Member agreements.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member Minimum Age:"),"Members must be at least 18 years old to register for an account, post a Listing, or use the Platform. By accessing the Platform, you represent that you are at least 18 years old. Please report immediately if you are aware of Members under 18, any such Member will be removed immediately. Swimply cannot take accountability for the Member\u2019s misuse of Swimply. To book a listing that would include a minor who is under 18, you represent that you have the authority to do so.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Alcohol:"),"Hosts must take adequate measures to confirm the identification and age of those wishing to drink during the event taking place in the Pool. It is illegal to serve alcohol to or purchase alcoholic beverages for a minor. NO INDIVIDUAL UNDER THE AGE OF 21 MAY CONSUME ALCOHOL AT A BOOKING.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Sharing Personal Information for Reports:"),"You as a Member agree and authorize Swimply to facilitate the use of your personal information for the purpose of obtaining third-party reports, as permitted by law. To the extent permitted by applicable laws, Swimply may use your personal information to obtain reports from public records of criminal convictions or sex offenders or any other information that can potentially harm anyone associated with Swimply Bookings. Swimply may, directly or indirectly through third parties, make inquiries to verify your identity to prevent fraud.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Entire Agreement:"),"These terms, supplemented by documents referenced on the Platform or herein, including but not limited to, Swimply\u2019s Privacy Policy, constitute the entire agreement between you and Swimply. In the event of conflict between these Terms and other documents referenced on the Site or herein, the most recently updated terms shall govern. These terms supersede and replace any and all prior oral or written understandings or agreements between you and Swimply.")))),i.a.createElement("li",{id:"section-3"},i.a.createElement(Oe.a,{variant:"h2"},"3. Account Registration"),i.a.createElement("p",null,"In order to access certain features of the Site and Application and to book a Pool or create a Listing, you must register for an Account and become a Member. You may register directly via the Platform, or in any other manner described by Swimply now or in the future."),i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Information Required:"),"You will be required to submit personal information such as full name, date of birth, address, and other information to create an Account with Swimply for the purpose of verification and safety of the site. You may not create or use more than one Account at a time. You agree that the information you provide us is accurate, current, and complete at all times. Swimply reserves the right to suspend or terminate your Account and your access to the Platform if you create more than one Account, or if any information provided proves to be inaccurate, fraudulent, not current, incomplete, or otherwise in violation of these Terms.")),i.a.createElement("li",{id:"section-4"},i.a.createElement(Oe.a,{variant:"h2"},"4. Protect Login Information"),i.a.createElement("p",null,"You are responsible for safeguarding your password, user ID or any other form of verification (\u201cLogin Information\u201d). You agree that you will not disclose your Login Information to any third party and will take reasonable steps to ensure its security. Unless expressly authorized, you are not permitted to share your Account. You agree that you will take sole responsibility for any activities or actions taken under your Account, whether you authorized such activities or actions. You will immediately notify Swimply of any unauthorized use of your Account. Should you share such information with third-parties you are responsible for all consequences and Swimply reserves the right to take any action to remedy the effects.")),i.a.createElement("li",{id:"section-5"},i.a.createElement(Oe.a,{variant:"h2"},"5. Proprietary Data and Communication"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Communication with Members:"),"Swimply will not communicate with you via any method unless you consent to such form of communication. Any Feedback you submit to us will be considered non-confidential and non-proprietary to you.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Use of Member Content:"),"By submitting Feedback to us, you grant us a non-exclusive, worldwide, royalty-free, irrevocable, sub-licensable, perpetual license to use and publish those ideas and materials for any purpose, without compensation to you. Swimply, in its sole discretion, may utilize any Member Content posted for any purpose. By posting any Member Content, you grant Swimply a worldwide, irrevocable, perpetual (or for the term of the protection), non-exclusive, transferable, royalty-free license, with the right to sublicense, to use, view, copy, adapt, translate, modify, distribute, license, sell, transfer, publicly display, perform, transmit, stream, broadcast, access, view, and otherwise exploit such Member Content, on or through the Platform. Please do not add the personal information of you or someone else to your Member Content.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"You Represent You Own Data You Post:"),"You represent and warrant that: (i) you either are the sole and exclusive owner of all Member Content that you make available through the Platform or through Swimply promotional campaigns or you have all rights, licenses, consents and releases that are necessary to grant to Swimply the rights in such Member Content, as contemplated under these Terms; and (ii) neither the Member Content nor your posting, uploading, publication, submission or transmittal of the Member Content or Swimply\u2019s use of the Member Content (or any portion thereof) on, through or by means of the Platform or Swimply\u2019s promotional campaigns will infringe, misappropriate or violate a third party\u2019s patent, copyright, trademark, trade secret, moral rights or other proprietary or intellectual property rights, or rights of publicity or privacy, or result in the violation of any applicable law or regulation.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"License to App:"),"In the event an Application becomes available, Swimply grants you a limited non-exclusive, non- transferable license to download and install the Application to your devices for personal use. If you access or download the Application from the Apple App Store, you agree to Apple\u2019s Licensed Application End User License Agreement. Please review said Agreement carefully.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Google Maps:"),"Some parts of this site may use Google Maps, your use of such services are subject to the Google Maps terms.")))),i.a.createElement("li",{id:"section-6"},i.a.createElement(Oe.a,{variant:"h2"},"6. Third-Party Sites"),i.a.createElement("p",null,"The Platform may contain links to third-party websites or resources. You acknowledge and agree that Swimply is not responsible or liable for: (i) the availability or accuracy of such websites or resources; or (ii) the content, products, or services on or available from such websites or resources. Links to such websites or resources do not imply any endorsement by Swimply of such websites or resources or the content, products, or services available from such websites or resources. You acknowledge sole responsibility for and assume all risk arising from your use of any such websites or resources or the Content, products or services on or available from such websites or resources.")),i.a.createElement("li",{id:"section-7"},i.a.createElement(Oe.a,{variant:"h2"},"7. Pool Listings"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Requirements:"),"As a Member, you may create Listings for the subject Pool in accordance with these Terms. Nothing in the Agreement or in the Listing may be in contravention of anything in these Terms. Listings must include a valid physical address to be featured on the Site. Listings will be made publicly available via the Platform. It is your duty to disclose all deficiencies relating to your property."),i.a.createElement("p",null,i.a.createElement("span",{className:e.underLine},"Swimply Imposed Requirements: "),"SWIMPLY RESERVES THE RIGHT TO IMPOSE ANY AND ALL REQUIREMENTS IT DEEMS FIT WITH REGARD TO SUCH LISTINGS INCLUDING, BUT NOT LIMITED TO, MINIMUM OR MAXIMUM DURATIONS, MINIMUM TIMES BETWEEN LISTINGS, AND MINIMUM PRICING."),i.a.createElement("p",null,i.a.createElement("span",{className:e.underLine},"You are Responsible for Listings:"),"You acknowledge and agree that you alone are responsible for any and all Listings and Member Content you post. Accordingly, you represent and warrant that any Listing or Member Content you post, including but not limited to photographs, will be an accurate description of the Pool."),i.a.createElement("p",null,"You represent and warrant that any Listing you post and the Booking of, or a Guest\u2019s stay at, a Pool in a Listing you post (i) will not breach any agreements you have entered into with any third parties, such as a homeowners association, condominium association, or other third party agreements, and (ii) will (a) be in compliance with all applicable laws (such as zoning laws), tax requirements, intellectual property laws, and rules and regulations that may apply to any Pool included in a Listing you post (including having all required permits, licenses and registrations), and (b) not conflict with the rights of third parties.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Price:"),"Hosts shall set the Pool Fee for the Listing, and elect in his or her sole discretion whether to include (i) a pool cleaning fee; (ii) Taxes the Hosts determines that he or she has to collect pursuant to local law; or (iii) any other fee permitted according to the Swimply Terms herein. All payments will be charged and made in U.S. dollars.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Booking Request:"),"Other Members will be able to book your Pool via the Platform based upon the information provided in your Listing, your requirements, and Guests\u2019 search parameters and preferences. You understand and agree that once you approve a Guests requests to Book your Pool, you may not request the Guests to pay a higher price than in the Booking request. Such activity may result in Swimply taking account action against Hosts, up to and including removal from the site. Hosts may not list their Pool for rent in any other location.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Responsibility for other Guests or Co-Owners:"),"You as a Guest or Host are responsible for any modifications to a Booking that you direct Swimply customer service to make, and you agree to pay any Pool Fees, Guest Fees, Host Fees, Services Fees, and/or Taxes associated with such Booking Modifications.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Listing Rankings by Swimply:"),"The placement and/or ranking of Listings in search results may depend on a variety of factors, including, but not limited to, Party preferences, ratings and/or ease of Booking. Hosts agree that by listing their Pool they will not list it elsewhere.")))),i.a.createElement("li",{id:"section-8"},i.a.createElement(Oe.a,{variant:"h2"},"8. Pool Inspection Corporate Partnerships"),i.a.createElement("p",null,"Swimply has a partnership with PoolWerx, LLC, AquaMasters, America\u2019s Swimming Pool Company, and Miami Pool Tech, the relevant services of which depending on location may differ, as well as, which partners are available (collectively \u201cPool Assessors\u201d). Pool Assessors inspect Pools for the purpose of assessing compliance with pertinent, federal, state, town and other legal requirements. Please review their policies carefully and reach out to them with pertinent questions. Pool Assessors shall be indemnified from liability in all instances in which they use all commercially reasonable practices to ensure appropriate compliance for each Pool. Should there be a concern with a Pool, Pool Assessors will notify Swimply within 48 hours and Swimply will address accordingly.")),i.a.createElement("li",{id:"section-9"},i.a.createElement(Oe.a,{variant:"h2"},"9. Insurance"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts should Obtain Insurance:"),"Swimply recommends that Hosts obtain appropriate insurance for their Pools. Please review any insurance policy that you may have for your Pool carefully, and in particular, ensure that you are familiar with and understand any exclusions to, and any deductibles that may apply for, such insurance policy, including, but not limited to, whether your insurance policy will cover the actions or inactions of or relating to Guests (and the individuals the Guest invites to the Pool, if applicable) while at your Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply is not an Insurer:"),"As a Host, you understand and agree that Swimply does not act as an insurer. If a Guest requests a Booking of your Pool and stays at your Pool, any agreement you enter into with such Guest is between you and the Guest. It is the responsibility of the Guest to ask the Hosts about insurance.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply can Make a Claim under your Insurance:"),"If you are a Member, you understand and agree that Swimply may make a claim under your homeowner\u2019s, renter\u2019s or other insurance policy related to any damage or loss that you may have caused or been responsible for or to a Pool or any personal or other property located at a Pool. You agree to cooperate with and assist Swimply in good faith, and to provide Swimply with such information as may be reasonably requested by Swimply, in order to make a claim under your homeowner\u2019s, renter\u2019s or other insurance policy, including, but not limited to, executing documents and taking such further acts as Swimply may reasonably request to assist Swimply in accomplishing the foregoing.")))),i.a.createElement("li",{id:"section-10"},i.a.createElement(Oe.a,{variant:"h2"},"10. Booking and Financial Terms"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Payment Method:"),"You authorize Swimply to store your Payment Method information and charge your Payment Method as outlined in these Terms. It is the duty of Members to carefully analyze all the practices of chosen payment provider, Swimply takes no official position in this matter. If your Payment Method\u2019s account information changes (e.g. account number, routing number, expiration date), you consent to Swimply acquiring such information from Swimply\u2019s financial services partner or your bank and solely for the purpose of updating your Payment Method on file in your Swimply Account. Whatever Payment Method you use may be subject to additional terms and conditions imposed by the applicable third-party payment service provider; please review such terms and conditions before using your Payment Method.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Payment Information:"),"In connection with your requested Booking, you will be asked to provide typical billing information such as name, billing address and Payment Method information either to Swimply or a third-party payment processor(s). You agree to pay Swimply for any confirmed Bookings made in connection with your Swimply account in accordance with these Payments Terms by a method supported by the Platform (e.g. PayPal, credit or debit card). You hereby authorize the collection of such amounts by charging the Payment Method provided as part of requesting the Booking, either directly by Swimply or indirectly, via a third-party payment processor or by one of the payment methods described on the Platform. You also authorize Swimply to charge any Payment Method on file in your Swimply Account if damage caused at a Pool in accordance with these Terms.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Right to Setoff or Payment Disbursement:"),"Swimply reserves the right to setoff any amounts owed to you by Swimply with any amounts you may owe Swimply. For example, if you as a Host are owed a Pool Fee from Swimply, and concurrently owe Swimply an overage fee, Swimply may setoff the amounts against each other. Similarly, if you as a Guest have booked a Pool and are entitled to a refund for a separate cancelled Booking, Swimply may setoff the amounts against each other. Both Swimply and you as either a Guest or Host, will be relieved of your obligation with respect to setoff amounts following such a setoff. Swimply will initiate payment of Pool Fees less the Service Fees and Taxes to the Host within seven (7) business days after the date of the Booking, subject to any delays not within Swimply\u2019s control. If Swimply is unable to collect any amounts you owe for a confirmed Booking or a Damage Claim, Swimply may engage in collection efforts to recover such amounts from you.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Price Discretion:"),"Swimply, in its sole discretion, may increase or discount a Host\u2019s Listing price or a Guest\u2019s Booking cost in any matter it deems appropriate, including but not limited to providing promotional codes to Guests.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Process:"),"If you are a Hosts, and a Booking is requested for your Pool via the Platform, you will be required to either confirm or reject the Booking request within the Booking Request Period, otherwise the request will automatically expire and any Simply collected fees will be returned to the Guest. When you confirm a Booking requested by a Guest, Swimply will send you a Communication confirming such Booking, depending on the selections you make via the Platform."),i.a.createElement("p",null,"Host shall set the Pool Fee for the Listing, and elect in his or her sole discretion whether to include (i) a pool cleaning fee; (ii) Taxes the Host determines that he or she has to collect pursuant to local law; or (iii) any other fee permitted according to the Swimply Terms herein.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Responsibility:"),"Hosts, not Swimply, are solely responsible for honoring any confirmed Bookings and making available any Pools reserved through the Platform. If you, as a Guest, choose to enter a transaction with a Host for a Booking, you agree and understand that you will be required to enter an agreement with the Host and accept any terms, conditions, rules and restrictions imposed by the Host. You acknowledge and agree that you, and not Swimply, will be responsible for performing the obligations of any such agreements")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Payments:"),"You as a Guest agree that Swimply may charge your Payment Method the Total Fees for any Booking requested in connection with your Swimply Account. In order to establish a Booking pending the applicable Host\u2019s confirmation of your requested Booking, you understand and agree that Swimply, on behalf of the Hosts, reserves the right, in its sole discretion, to (i) obtain a pre-authorization via your Payment Method for the Total Fees and/or (ii) charge your Payment Method a nominal amount, not to exceed one dollar ($1), to verify your Payment Method.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guest Payment Schedule:"),"Depending on your chosen Payment Method, Swimply will either collect the Total Fees (i) at the time of the Booking request or (ii) upon the Host\u2019s confirmation. Generally, Swimply will collect the Total Fees due once Swimply receives confirmation of your Booking from the applicable Host. However, if you pay with a push Payment Method, Swimply will collect Total Fees at the time of your Booking request. If Swimply is unable to collect Total Fees in the ordinary course, it may elect to collect Total Fees at a later time. Once the payment transaction for your requested Booking is successfully completed you will receive a confirmation email summarizing your confirmed Booking.")),i.a.createElement("li",null,i.a.createElement("p",null,"These are terms and conditions that commonly apply to promotions on Swimply.com, including ones where you must redeem a promotional code as part of the offer and where no alternative terms and conditions apply."),i.a.createElement("ul",{className:e.dotsList},i.a.createElement("li",null,i.a.createElement("p",null,"This is a limited time offer.")),i.a.createElement("li",null,i.a.createElement("p",null,"Swimply reserves the right to modify or cancel the offer at any time. If you received the promotional code (directly or indirectly) from a third party, that third party also reserves the right to modify or cancel the offer at any time.")),i.a.createElement("li",null,i.a.createElement("p",null,"Offer limited to one per customer and account.")),i.a.createElement("li",null,i.a.createElement("p",null,"Offer may not be combined with other offers.")),i.a.createElement("li",null,i.a.createElement("p",null,"Offer is non-transferrable and may not be resold.")),i.a.createElement("li",null,i.a.createElement("p",null,"If the booking is refunded, your refund will equal the amount you paid for the product or content, subject to applicable refund policies.")),i.a.createElement("li",null,i.a.createElement("p",null,"Offer discount will be allocated proportionally among all promotional items in your order.")),i.a.createElement("li",null,i.a.createElement("p",null,"If you violate any of the offer terms, the offer will be invalid.")))))),i.a.createElement("li",{id:"section-11"},i.a.createElement(Oe.a,{variant:"h2"},"11. Fees"),i.a.createElement("p",null,"Service Fees or charges may include collection fees, convenience fees, other third-party charges or any other fee that may be needed to address your account and is permitted by law. Where applicable, Swimply may also charge Taxes relating to the Host Fees and Guest Fees. Swimply deducts the Host Fees from the Pool Fees before remitting the balance to the Host."),i.a.createElement("p",null,"Balances will be remitted by Swimply to Host via the Payout Method selected by the Host in the Host\u2019s currency of choice, depending on the selections Host makes via the Platform. Swimply may, in its sole discretion, round up or round down amounts payable from or to Guests and Hosts to the nearest whole dollar (i.e. $101.50 to $102.00, or $101.49 to $101.00).")),i.a.createElement("li",{id:"section-12"},i.a.createElement(Oe.a,{variant:"h2"},"12. Damages"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Duty for Damages and Lost Objects:"),"You as a Guest are responsible for leaving the Pool (including any personal or other property located at a Pool) in the condition it was in when you arrived. You are also responsible for all items you bring with you to the Pool and should you leave such items at the Pool, the Host can elect to return them, however, it is not his or her duty to do so.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Guests Guests Liability:"),"You acknowledge and agree that, as a Guest, you are responsible for your own acts and omissions and the acts and omissions of any individuals you invite or otherwise provide access to, the Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Damage Payment Process:"),"If a Host claims and provides evidence of damage to its Pool (\u201cDamage Claim\u201d), including but not limited to photographs, you agree to pay the cost of replacement. Such cost may be collected from the Payment Method used to book the Pool, or any other Payment Method on file at the time of the Damage Claim. Swimply reserves the right to collect payment from you and pursue any options available if it is unable to collect from the Payment Method.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Incident Reporting:"),"You will need to use all reasonable efforts to secure evidence from any available witnesses and to provide Swimply or insurance-related parties with a written description of the incident and any other information requested, including identity and insurance information of any parties involved in the incident. You are also required to cooperate in any loss investigation conducted by Swimply, or third party insurers. After an incident, you may not continue to use the Pool unless you have the explicit permission of Swimply.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Remedies:"),"If a Hosts has a Damage Claim for a confirmed Booking, the Host may seek payment from the Guest through Swimply. The Hosts may escalate the Damage Claim to Swimply if the Host and Guest are unable to resolve a Damage Claim. If escalating the Damage Claim to Swimply, the Host must send evidence of the damage to Swimply. If a Host escalates a Damage Claim to Swimply, you as a Guest will be notified of the Damage Claim and be given an opportunity to respond. If you as a Guest agree to pay the Host in connection with a Damage Claim, or if Swimply determines, in its sole discretion, that you are responsible for damaging a Pool or any personal or other property located at a Pool, Swimply will collect any such costs from you from the Payment Method in accordance with the Payments Terms. Swimply also reserves the right to otherwise collect payment from you and pursue any avenues available to Swimply in this regard, in situations in which you have been determined, in Swimply\u2019s sole discretion, to have damaged any Pool or any personal or other property located at a Pool.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Member Cooperation:"),"Members agree to cooperate with and assist Swimply in good faith and to provide Swimply with such information as well as to take such actions as may be reasonably requested by Swimply, in connection with any Damage Claims or other complaints or claims made by Members relating to Pools or any personal or other property located at a Pool or with respect to any investigation undertaken by Swimply or a representative of Swimply regarding use or abuse of the Platform. You as a Guest, upon Swimply\u2019s reasonable request and to the extent you are reasonably able to do so, you agree to participate in mediation or similar resolution process with a Hosts, at no cost to you, which process will be conducted by Swimply or a third party selected by Swimply or its insurer, with respect to losses for which the Host is requesting payment from Swimply under these terms.")))),i.a.createElement("li",{id:"section-13"},i.a.createElement(Oe.a,{variant:"h2"},"13. Overstaying or Usage without Consent"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Pool Availability:"),"You as a Host agree to make the Pool available for the duration agreed upon either (i) at the time of Booking, or (ii) such other time as mutually agreed upon by you and the Guest (\u201cAllowed Duration\u201d). If you fail to do so, you shall be subject to a charge of at least $50 for every half hour increments for which the Pool is unavailable for the duration of the Booking, to be deducted from amounts owed to you by Swimply for the Booking. Swimply reserves the right to take whatever action necessary to address these kinds of actions on its Platform.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Overstaying as a Guest:"),"You as a Guest agree that your confirmed Booking grants you a limited license to enter and use the Pool for the Allowed Duration. If you exceed the Allowed Duration, without the Host\u2019s consent, you agree that the Host or Swimply may charge you a rate of at least $100 for every half hour increment exceeding the Allowed Duration and Host may set out other fees in their independent agreement. This amount shall be to compensate the Hosts for any inconvenience. Swimply is authorized to collect fees pursuant to this Section from the Guest\u2019s Payment Methods.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Unauthorized Access of Pool:"),"You as a Guest agree that you are responsible for any individuals whom you invite to, or otherwise provide access to, the Pool, and as such, if you invite or provide access to more persons than agreed upon between you and the Host or otherwise permitted by the Host, you will be subject to a $25 fee per person per hour in excess of the agreed upon number of persons.")))),i.a.createElement("li",{id:"section-14"},i.a.createElement(Oe.a,{variant:"h2"},"14. Cancellations and Refunds"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Host Cancellations:"),"If you cancel a confirmed Booking made via the Platform, Swimply will refund the Total Fees for such Booking to the applicable Guest. If, as a Host, you cancel a confirmed Booking, you may be subject to a cancellation fee. Each host on the Platform sets the cancellation policy for their pool. For cancellations made 72 hours prior to the Booking date, you will not be charged a cancellation fee, unless such cancellation causes Swimply unexpected fees (cost of unexpected fees will apply to cancellation at any time). For cancellations made within 24 through 72 hours prior to the Booking date, you will be charged a cancellation fee equal to 50% of the Total Fees. For cancellations made within 24 hours of the confirmed Booking date, you will be charged a cancellation fee equal to the Total Fees. Other consequences may apply to you or your Listing, including (i) publishing an automated review on your Listing indicating that a Booking was cancelled, (ii) keeping the calendar for your Listing unavailable or blocked for the dates of the cancelled Booking, or (iii) increasing the Hosts Fee payable to Swimply for future Listings.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimmer Cancellations:"),"If as a Swimmer you wish to cancel a confirmed Booking made via the Platform, you may do so on the Platform. Swimmer\u2019s cancellation effects will be based on cancellation policy elected by Host.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Cancellations Generally:"),"In certain circumstances, Swimply may decide, in its sole discretion, that it is necessary or desirable to cancel a confirmed Booking made via the Platform. This may be for reasons set forth on the Site or for any other reason as deemed fit under Swimply\u2019s discretion. Swimply may also determine, in its sole discretion, to forgo a cancellation fee from the Hosts or refund to the Guest part or all of the amounts charged to the Guest. You agree that Swimply will not have any liability for such cancellations or refunds. If Guest or Hosts have medical circumstances which prevent them from taking the reservation with medical evidence, the party shall not be financially responsible. You must submit all cancellations through the Swimply Platform. Your cancellation of a Listing is not effective unless and until you have requested the cancellation through your Swimply account. You acknowledge and agree that any and all Fees (as defined herein) are 100% non-cancellable and non-refundable. You may only cancel one Booking in any three (3) month period. If you cancel any Booking, your calendar will stay blocked for the cancelled Booking and you will not be able to accept another reservation for the same date of the canceled reservation.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Other Host Cancellations:"),"In certain circumstances, such as rain, Swimply may decide, in its sole discretion, that it is necessary or desirable to postpone a confirmed Booking made via the Platform. In the event of rain, Swimply will allow the Host to accommodate the reservation at a different date, within one weeks time from the initial booking date. Swimply will allow the Host to cancel the reservation due to rain, and the reservation price, minus the 10% service fee per booking."),i.a.createElement("p",{className:e.mainWord},"SWIMPLY RESERVES THE RIGHT, AT ANY TIME AND WITHOUT PRIOR NOTICE, TO REMOVE OR DISABLE ACCESS TO ANY LISTING FOR ANY REASON, INCLUDING LISTINGS THAT SWIMPLY, IN ITS SOLE DISCRETION, CONSIDERS TO BE OBJECTIONABLE FOR ANY REASON, IN VIOLATION OF THESE TERMS OR SWIMPLY\u2019S THEN-CURRENT POLICIES, OR OTHERWISE HARMFUL TO THE SITE, APPLICATION OR SERVICES.")))),i.a.createElement("li",{id:"section-15"},i.a.createElement(Oe.a,{variant:"h2"},"15. User Conduct"),i.a.createElement("p",null,"You understand and agree that you are solely responsible for compliance with any and all laws, rules, regulations, and Tax obligations that may apply to your use of the Platform and Collective Content, you agree that you may not and will not (as applied to primary headers 15.1, 15.2):"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Violate the Law or Policies:"),"Violate any local, state, provincial, national, or other law or regulation, or any order of a court, including, without limitation, zoning restrictions and Tax regulations;"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"Member agrees not to violate these Terms or Swimply\u2019s then-current Policies and Community Guidelines or Standards, if any exist; Swimply will not tolerate any discriminatory actions taken by guests and hosts. Swimply complies with all anti-discrimination laws. We explicitly prohibit offensive behavior (e.g. derogatory comments towards colleagues of a specific gender or ethnicity.)")),i.a.createElement("li",null,i.a.createElement("p",null,"Discrimination is any negative action or attitude directed toward someone because of protected characteristics, like race and gender. Other protected characteristics are:"),i.a.createElement("ul",{className:e.dotsList},i.a.createElement("li",null,i.a.createElement("p",null,"Age")),i.a.createElement("li",null,i.a.createElement("p",null,"Religion")),i.a.createElement("li",null,i.a.createElement("p",null,"Ethnicity/ nationality")),i.a.createElement("li",null,i.a.createElement("p",null,"Disability/ medical history")),i.a.createElement("li",null,i.a.createElement("p",null,"Marriage / civil partnership")),i.a.createElement("li",null,i.a.createElement("p",null,"Pregnancy / maternity/ paternity")),i.a.createElement("li",null,i.a.createElement("p",null,"Gender identity/ sexual orientation"),i.a.createElement("p",null,"Any discrimination against a Member can result in any consequences up to and including expulsion from the site and potential even civil or criminal penalties. We will not be lenient in cases of assault, sexual harassment or violence, whether physical or psychological.")),i.a.createElement("li",null,i.a.createElement("p",null,"different backgrounds"))),i.a.createElement(Oe.a,{className:e.minusMarginLeft,variant:"h3"},"What to do in cases of discrimination"),i.a.createElement("p",{className:e.minusMarginLeft},"If you are the victim of discriminatory behavior (or if you suspect that others are being discriminated against,) please contact us as soon as possible."),i.a.createElement("p",{className:e.minusMarginLeft},"Punishment for discriminatory behavior depends on the severity of the offence. For example, inadvertently offending someone might warrant a reprimand. Conversely, willfully bypassing a Guest because of a protected characteristic will result in termination from the site."),i.a.createElement(Oe.a,{className:e.minusMarginLeft,variant:"h3"},"How we address discrimination complaints"),i.a.createElement("p",{className:e.minusMarginLeft},"Swimply is proactive and responsive about determining whether discrimination occurs."),i.a.createElement("p",{className:e.minusMarginLeft},"We will investigate all claims discreetly. We will never disclose who made a complaint to anyone or give out information that may help others identify that person (e.g. which department or role they work in.)"),i.a.createElement("p",{className:e.minusMarginLeft},"We should all strive to prevent and address discrimination. Be aware of your implicit biases and speak up whenever you or your colleagues are discriminated against. If you have any ideas on how we can ensure fairness and equality in our workplace, we are happy to hear them.")))),i.a.createElement("li",null,i.a.createElement("p",null,"Page Scrape or Cause Site Damage: Use manual or automated software, scripts or systematic retrieval, or devices, scripts, robots, backdoors or other means or processes to access, \u201cscrape,\u201d \u201ccrawl\u201d or \u201cspider\u201d any web pages or other services contained in the Platform or Collective Content or any other form of gleaning information to create or compile, directly or indirectly, in single or multiple downloads, a collection, compilation, database, directory or the like; Member will not:"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,"interfere with or damage the Platform, including, without limitation, through the use of viruses, cancel bots, Trojan horses, harmful code, flood pings, denial-of-service attacks, backdoors, packet or IP spoofing, forged routing or electronic mail address information or similar methods or technology;")),i.a.createElement("li",null,i.a.createElement("p",null,"access, tamper with, or use non-public areas of the Platform, Swimply\u2019s computer systems, or the technical delivery systems of Swimply\u2019s providers;")),i.a.createElement("li",null,i.a.createElement("p",null,"attempt to probe, scan, or test the vulnerability of any Swimply system or network or breach any security or authentication measures;")),i.a.createElement("li",null,i.a.createElement("p",null,"avoid, bypass, remove, deactivate, impair, descramble, or otherwise circumvent any technological measure implemented by Swimply or any of Swimply\u2019s providers or any other third party (including another user) to protect the Platform or Collective Content or attempt to decipher, decompile, disassemble or reverse engineer any of the software used for the Platform or collective content;")),i.a.createElement("li",null,i.a.createElement("p",null,"forge any TCP/IP packet header or any part of the header information in any email or newsgroup posting, or in any way use the Platform or Collective Content to send altered, deceptive or false source-identifying information;")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Use for Restricted Commercial Purposes:"),"Use the Platform or Collective Content for any commercial or other purposes that are not expressly permitted by these Terms or in a manner that falsely implies Swimply endorsement, partnership or otherwise misleads others as to your affiliation with Swimply;"),i.a.createElement("p",{className:e.mainWord},"Member will not:"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Use Platform Content:"),"Use, display, mirror or frame the Platform or Collective Content, or any individual element within the Platform or Collective Content;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Use for Competing Business:"),"Access the site for the purpose of a competing platform or business as a Hosts, submit any Listing with false or misleading information, including price information, or submit any Listing with a price that you do not intend to honor;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Cannot Circumvent Swimply:"),"Attempt to bypass Swimply to rent or book any Pool outside the Swimply Platform. Members discovered violating this rule will owe Swimply the full cost they would have incurred on the site, plus fees incurred by Swimply. Additionally, Members cannot use the Platform or Collective Content to find a Hosts or Guest and then complete a Booking of a Pool independent of the Platform;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reputational Harm:"),"Purport to say or take any actions with regard to Swimply that has the potential to harm, damage or tarnish its reputation in any way, please reach out to us as a first point of contact should you have any such concerns;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Falsify Reviews:"),"You agree to only publish reviews in accordance with your views and you agree to never withhold or tarnish or improve a review for any gain or use relating to extortion;")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Violate Payment Practices:"),"You may not accept or make a payment for Pool Fees outside Swimply. If you do so, you acknowledge and agree that, you: (i) would be in breach of these Terms, (ii) accept all risks and responsibility for such payment, and (iii) hold Swimply harmless from any liability for such payment.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Violate Intellectual Property Restrictions:"),"You agree that, without Swimply\u2019s written consent, you will not dilute, tarnish or otherwise harm the Swimply brand in any way, including through unauthorized use of Collective Content, registering and/or using Swimply or derivative terms in domain names, trade names, trademarks or other source identifiers, or registering and/or using domains names, trade names, trademarks, logos or other source identifiers that closely imitate or are confusingly similar to Swimply domains, trademarks, taglines, promotional campaigns or Collective Content, other proprietary information or infringe the rights of Swimply or the any other person or entity, including without limitation, their intellectual property, privacy, publicity or contractual right, copy, store or otherwise access or use any information contained on the Platform or Collective Content for purposes not expressly permitted by these Terms;"),i.a.createElement("p",{className:e.mainWord},"Member will not:"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Content Restrictions:"),"Post, upload, publish, submit or transmit any Content that: (i) infringes, misappropriates or violates a third party\u2019s patent, copyright, trademark, trade secret, moral rights or other intellectual property rights, or rights of publicity or privacy; (ii) violates, or encourages any conduct that would violate, any applicable law or regulation or would give rise to civil liability; (iii) is fraudulent, false, misleading (directly or by omission or failure to update information) or deceptive; (iv) is defamatory, obscene, pornographic, vulgar or offensive; (v) promotes discrimination, bigotry, racism, hatred, harassment or harm against any individual or group; (vi) is violent or threatening or promotes violence or actions that are threatening to any other person; or (vii) promotes illegal or harmful activities or substances;")))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Inappropriate Interactions with Third-Parties:"),"You may not use the Platform to transmit, distribute, post or submit any information concerning any other person or entity, including without limitation, photographs of others without their permission, personal contact information or credit, debit, calling card or account numbers;"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Spam:"),"Use the Platform or Collective Content in connection with the distribution of unsolicited commercial email (\u201cspam\u201d) or advertisements unrelated to lodging in a private residence;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Direct Contact with Member not for Swimply Finalized Booking:"),"No contacting another Member for any purpose other than asking a question related to a Booking, Pool, Listing, or the Member\u2019s use of the Platform or recruit or otherwise solicit any Member to join third-party services, applications or websites, without Swimply\u2019s prior written approval;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Harassment:"),"Member agrees not to \u201cStalk\u201d or harass any other user of the Platform or Collective Content, or collect or store any personally identifiable information about any other user other than for purposes of transacting as a Swimply Guest or Hosts engage in disruptive, circumventive, abusive or harassing behavior in any area or aspect of Swimply\u2019s Platform;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Offer Another\u2019s or Restricted Property:"),"Offer, as a Hosts, any Pool , that you do not yourself have rights to offer (without limiting the foregoing, you will not list Pools as a Hosts if you are serving in the capacity of an agent for a third party); offer, as a Hosts, any Pool that may not be Booked pursuant to an agreement with a third party;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Register for Multiple Accounts:"),"Member will not register for more than one Swimply Account or register for a Swimply Account on behalf of an individual other than yourself;")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Book for Another:"),"Unless Swimply explicitly permits otherwise, request or book a stay at any Pool if you will not actually be staying at the Pool yourself, you agree not to impersonate any person or entity, or falsify or otherwise misrepresent yourself or your affiliation with any person or entity; advocate, encourage, or assist any third party in doing any of the foregoing. Further, if you bring additional Guests with you it is your duty to ensure they follow the rules")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Reporting Misconduct:"),"If you feel that any Member is acting or has acted inappropriately, including but not limited to anyone who (i) engages in offensive, violent or sexually inappropriate behavior, (ii) you suspect of stealing from you, or (iii) engages in any other disturbing conduct, you should immediately report such person to the appropriate authorities and then to Swimply by contacting Swimply with your police station and report number; provided that your report will not obligate Swimply to take any action beyond that required by law (if any) or cause Swimply to incur any liability to you.")))))),i.a.createElement("li",{id:"section-16"},i.a.createElement(Oe.a,{variant:"h2"},"16. Term, Suspension and Termination"),i.a.createElement("ol",{className:e.innerNumerationList},i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Response to Violations:"),"Swimply has the right to investigate and prosecute violations of any violations of these Terms or the law to the fullest extent of the law. In addition, and as set in these Terms, Swimply may take a range of actions against you, including but not limited to removing or disabling access to any or all of your Member Content or deactivating or canceling your Listing(s) or Swimply Account, for a violation of the Terms. While Swimply takes due diligence to review all content that would potentially be nefarious or egregious, Swimply takes no responsibility for content that evades the vetting system. Swimply may refuse to surface, delete or delay any Listings, Ratings, Reviews, or other Member Content or cancel any pending or confirmed Bookings. Swimply may terminate without notice if (i) you breached these Terms or other Policies referenced herein or on the Site, (ii) you have provided inaccurate, fraudulent, outdated or incomplete information during the Swimply Account registration, or Listing process or thereafter, (iii) you have violated applicable laws, regulations or third party rights, or (iv) Swimply believes in good faith that such action is reasonably necessary to protect the safety or property of other Members, Swimply or third parties, for fraud prevention, risk assessment, security or investigation purposes.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Termination for Cause:"),"Swimply may deactivate or delay Listings, reviews, or other Member Content, cancel any pending or confirmed Bookings, limit your use of or access to your Swimply Account and the Platform, temporarily or permanently revoke any special status associated with your Swimply Account, or temporarily or permanently suspend your Swimply Account if you have breached these Terms or policies, including material and non-material breaches, and if you receive one or more poor ratings from Hosts or Guests (with the definition of \u201cpoor\u201d to be at Swimply\u2019s sole and absolute discretion).")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Termination:"),"If Swimply takes any of the measures described herein relating to a Hosts, it may (i) communicate to your Guests or Hosts that a pending or confirmed Booking has been cancelled, (ii) refund your Guests in full for any and all confirmed Bookings, irrespective of applicable cancellation policies, (iii) support your Guests, on an exceptional basis, in finding potential alternative Pools, and (iv) you will not be entitled to any compensation for confirmed Bookings that were cancelled.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"No Right to Account Restoration:"),"When this Agreement has been terminated, you are not entitled to a restoration of your Swimply Account or any of your Member Content. If your access to or use of the Swimply Platform has been limited or your Swimply Account has been suspended or this Agreement has been terminated by us, you may not register a new Swimply Account or access and use the Swimply Platform through a Swimply Account of another Member.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Swimply Rationale for Data Access:"),"Swimply may access, preserve and disclose any of your information if required to do so by law, or if it believes in good faith that it is reasonably necessary to (i) respond to claims asserted against Swimply or to comply with legal process (for example, subpoenas or warrants), (ii) enforce or administer Swimply\u2019s agreements with users, such as these Terms, (iii) for fraud prevention, risk assessment, investigation, customer support, product development and de-bugging purposes, or (iv) protect the rights, property or safety of Swimply, its users, or members of the public. Swimply reserves the right, at any time and without prior notice, to remove or disable access to any Collective Content that Swimply, at its sole discretion, considers to be objectionable for any reason, in violation of these Terms or otherwise harmful to the Platform. (v) you have repeatedly received poor Ratings or Reviews or Swimply otherwise becomes aware of or has received complaints about your performance or conduct, or (vi) you have repeatedly cancelled confirmed bookings or failed to respond to booking requests without a valid reason.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"User Volitional Termination:"),"You may terminate your Swimply Account by canceling it on the Site or by sending Swimply an email in which you request that Swimply terminate your Swimply Account. If you cancel your Swimply Account as a Hosts, any confirmed Bookings will be automatically cancelled, and your Guests will receive a full refund of the Pool Fee. No refunds of Service Fees will be provided. If you cancel your Swimply Account as a Guest, any confirmed Booking will be automatically cancelled, and you will be issued a refund in accordance with the cancellation policy referenced herein.")),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Ban on Issue of New Account after Suspension:"),"If your access to or use of the Platform has been limited or your Swimply Account has been suspended or this Agreement has been terminated by Swimply, you may not register a new Swimply Account or attempt to access and use the Platform through other Swimply Accounts.")))),i.a.createElement("li",{id:"section-17"},i.a.createElement(Oe.a,{variant:"h2"},"17. Taxes"),i.a.createElement("p",null,"Tax regulations may require Swimply to collect appropriate tax data from Hosts, or to withhold taxes from payouts to Hosts, or both. You as a Hosts are solely responsible for keeping the information in your tax forms current, complete and accurate. If you as a Hosts fail to provide Swimply with documentation that Swimply determines to be sufficient to alleviate Swimply\u2019s obligation (if any) to withhold taxes from payments to you, Swimply reserves the right in its sole discretion to freeze all payouts to you until resolution, to withhold such amounts as required by law, or to do both."),i.a.createElement("p",null,"You as a Hosts understand and agree that you are solely responsible for determining (i) your applicable Tax reporting requirements, and (ii) the Taxes that should be included and including Taxes to be collected or obligations relating to applicable Taxes in Listings. You are also solely responsible for remitting to the relevant authority any Taxes included or received by you. Swimply cannot and does not offer Tax-related advice to any Members."),i.a.createElement("p",null,"You understand and acknowledge that appropriate governmental agencies, departments or authorities (the",i.a.createElement("span",{className:e.mainWord},"\u201cTax Authority\u201d"),") where your Pool is located may require Taxes to be collected from Guests or Hosts on the amount paid for the right to use and/or occupancy of Pools, and to be remitted to the respective Tax Authority. We reserve the right to collect taxes that would be wanted by any governmental authority. The laws in jurisdictions may vary, but these taxes may be required to be collected and remitted as a percentage of the Pool Fees set by Hosts, a set amount per day, or other variations, and are sometimes called \u201coccupancy taxes,\u201d \u201chotel taxes,\u201d \u201clodging taxes,\u201d \u201ctransient taxes,\u201d \u201csales and use taxes,\u201d \u201cvalue added taxes,\u201d \u201croom taxes\u201d or \u201ctourist taxes\u201d (hereafter,",i.a.createElement("span",{className:e.mainWord},"\u201cOccupancy Taxes\u201d"),").")),i.a.createElement("li",{id:"section-18"},i.a.createElement(Oe.a,{variant:"h2"},"18. Digital Millennium Copyright Act (DMCA)"),i.a.createElement("p",null,"Swimply respects the intellectual property rights of others and attempts to comply with all relevant laws. We will review all claims of copyright infringement received and remove any content deemed to have been posted or distributed in violation of any such laws. Our designated agent under the Digital Millennium Copyright Act (the \u201cAct\u201d) for the receipt of any Notification of Claimed Infringement which may be given under that Act is as follows: info@swimply.com If you believe that your work has been copied on the Site in a way that constitutes copyright infringement, please provide our agent with notice in accordance with the requirements of the Act, including (i) a description of the infringed work and the specific location on the Site where such work is located; (ii) a description of the location of the original or an authorized copy of the copyrighted work; (iii) your address, telephone number and e-mail address; (iv) a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent or the law; (v) a statement by you, made under penalty of perjury, that the information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner\u2019s behalf; and (vi) an electronic or physical signature of the owner of the copyright or the person authorized to act on behalf of the owner of the copyright interest.")),i.a.createElement("li",{id:"section-19"},i.a.createElement(Oe.a,{variant:"h2"},"19. Class Action Waiver"),i.a.createElement("p",null,"You agree that any arbitration or proceeding shall be limited to the dispute between us and you individually. To the full extent permitted by law, (i) no arbitration or proceeding shall be joined with any other; (ii) there is no right or authority for any dispute to be arbitrated or resolved on a class action-basis or to utilize class action procedures; and (iii) there is no right or authority for any dispute to be brought in a purported representative capacity on behalf of the general public or any other persons. YOU AGREE THAT YOU MAY BRING CLAIMS AGAINST US ONLY IN YOUR INDIVIDUAL CAPACITY AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE PROCEEDING. You may opt-out of this class action and jury waiver described herein by emailing us at info@swimply.com within 30 days of your first use of the Platform or Services. You must include your name, phone number, physical address, and email address in your opt-out notice. This is your only mechanism for opting out of this Section and failure to do so as described constitutes your consent to this waiver. If you choose to opt out of this Section please note that all other provisions in these Terms will remain intact and in full force and effect.")),i.a.createElement("li",{id:"section-20"},i.a.createElement(Oe.a,{variant:"h2"},"20. Equitable Relief"),i.a.createElement("p",null,"You acknowledge and agree that in the event of a breach or threatened violation of our intellectual property rights and confidential and proprietary information by you, we will suffer irreparable harm and will therefore be entitled to injunctive relief to enforce this Agreement. We may, without waiving any other remedies under this Agreement, seek from any court having jurisdiction any interim, equitable, provisional, or injunctive relief that is necessary to protect our rights and property pending the outcome of the arbitration referenced above. You hereby irrevocably and unconditionally consent to the personal and subject matter jurisdiction of the federal and state courts in the State of New Jersey for purposes of any such action by us.")),i.a.createElement("li",{id:"section-21"},i.a.createElement(Oe.a,{variant:"h2"},"21. Communications Decency Act Notice"),i.a.createElement("p",null,"Swimply may be a provider of \u201cinteractive computer services\u201d as defined under the Communications Decency Act, 47 U.S.C. Section 230, and as such, our liability for defamation, libel, product disparagement, and other claims arising out of any Collective Content is limited as described therein. We are not responsible for any Collective Content. We neither warrant the accuracy of the Collective Content nor exercise any editorial control over Collective Content, nor do we assume any legal obligation for editorial control of Collective Content or liability in connection with Collective Content, including any responsibility or liability for investigating or verifying the accuracy of any Collective Content.")),i.a.createElement("li",{id:"section-22"},i.a.createElement(Oe.a,{variant:"h2"},"22. Privacy"),i.a.createElement("p",null,"Please review Swimply\u2019s Privacy Policy at www.swimply.com/privacy_policy, which also governs your access and use of this Platform. By using the Platform you agree to said Privacy Policy.")),i.a.createElement("li",{id:"section-23"},i.a.createElement(Oe.a,{variant:"h2"},"23. Assumption of Risk and Waiver"),i.a.createElement("p",null,"You as a Guest agree that you are aware of and assume all risks for yourself as well as any other Guest or invitees attending your Booking. Neither Swimply nor the Hosts is responsible for any accidents caused or incurred by you as a Guest or any of your Guests or invitees, related to swimming or otherwise. You hereby release, waive, discharge, and covenant not to sue Swimply or the Hosts for any injuries arising from or related to use of the Pool. You agree that some Listings may carry inherent risk, and by participating in such services, you choose to assume those risks voluntarily. For example, some Listings may carry risk of illness, bodily injury, disability, or death, and you freely and willfully assume those risks by choosing to participate in those Pools. You assume full responsibility for the choices you make before, during and after your participation in a Pool. If you are bringing a minor as an additional Guest, you are solely responsible for the supervision of that minor throughout the duration of your time in the Pool and to the maximum extent permitted by law, you agree to release and hold harmless Swimply from all liabilities and claims that arise in any way from any injury, death, loss or harm that occurs to that minor during swimming or in any way related to the Pool you choose.")),i.a.createElement("li",{id:"section-24"},i.a.createElement(Oe.a,{variant:"h2"},"24. Indemnification and Limitation of Liability"),i.a.createElement("p",null,"You agree to forever release, defend, discharge, indemnify, and hold Swimply and its affiliates and subsidiaries, and their members, managers, officers, directors, employees and agents, harmless from and against any claims, liabilities, damages, losses, and expenses, including, without limitation, reasonable legal and accounting fees, arising out of or in any way connected with (a) your access to or use of the Platform or Collective Content or your violation of these Terms; (b) your Member Content; (c) your (i) interaction with any Member, (ii) Booking of a Pool, or (iii) creation of a Listing; and (d) the use, condition or Booking of a Pool by you, including but not limited to any injuries, losses, or damages (compensatory, direct, incidental, consequential or otherwise) of any kind arising in connection with or as a result of a Booking or use of an Pool. You hereby waive any potential liability for delays in payment on account of force majeure. Swimply is not responsible or liable for nonperformance caused by telecommunications failures, nonperformance of vendors, fires or other acts of nature, strife or acts of political discord, or other events outside its reasonable control (each a \u201cForce Majeure\u201d)."),i.a.createElement("p",null,"YOU ACKNOWLEDGE AND AGREE THAT, TO THE MAXIMUM EXTENT PERMITTED BY LAW, YOU ASSUME THE ENTIRE RISK ARISING OUT OF YOUR USE OF THE PLATFORM. IF YOU PERMIT OR AUTHORIZE ANOTHER PERSON TO USE YOUR SWIMPLY ACCOUNT IN ANY WAY, YOU ARE RESPONSIBLE FOR THE ACTIONS TAKEN BY THAT PERSON. NEITHER SWIMPLY NOR ANY THIRD PARTY INVOLVED IN PROVIDING PAYMENT SERVICES WILL BE LIABLE FOR ANY INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, LOSS OF DATA OR LOSS OF GOODWILL, SERVICE INTERRUPTION, COMPUTER DAMAGE OR SYSTEM FAILURE OR THE COST OF SUBSTITUTE PRODUCTS OR SERVICES, OR FOR ANY DAMAGES FOR PERSONAL OR BODILY INJURY OR EMOTIONAL DISTRESS ARISING OUT OF OR IN CONNECTION WITH THESE TERMS, FROM THE USE OF OR INABILITY TO USE THE SERVICES, FROM ANY COMMUNICATIONS, INTERACTIONS OR MEETINGS WITH OTHER PERSONS WITH WHOM YOU COMMUNICATE OR INTERACT AS A RESULT OF YOUR USE OF THE SERVICES, WHETHER BASED ON WARRANTY, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT SWIMPLY HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGE, EVEN IF A LIMITED REMEDY SET FORTH HEREIN IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO, IN THOSE STATES, THE HEREIN LIMITATION SHALL BE TO THE MAXIMUM EXTENT PERMITTED UNDER APPLICABLE LAW."),i.a.createElement("p",null,i.a.createElement("span",{className:e.mainWord},"Hosts Liability:"),i.a.createElement("p",null,"YOU ACKNOWLEDGE AND AGREE THAT, TO THE MAXIMUM EXTENT PERMITTED BY LAW, THE ENTIRE RISK ARISING OUT OF YOU PROVIDING ACCESS TO AND USE OF YOUR POOL AND BROADER PREMISES AND MEMBER CONTENT, ANY RELATIONSHIP OR COMMUNICATION YOU HAVE WITH ANY GUEST IS OWNED BY YOU, POOL OWNER. SWIMPLY WILL NOT BE LIABLE FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, INCLUDING LOST PROFITS, LOSS OF DATA OR LOSS OF GOODWILL, SERVICE INTERRUPTION, COMPUTER DAMAGE OR SYSTEM FAILURE OR THE COST OF SUBSTITUTE PRODUCTS OR SERVICES, OR FOR ANY DAMAGES FOR PERSONAL OR BODILY INJURY OR EMOTIONAL DISTRESS ARISING OUT OF OR IN CONNECTION WITH (I) THESE TERMS, (II) FROM THE USE OF OR INABILITY TO USE THE SWIMPLY PLATFORM, (III) FROM ANY COMMUNICATIONS, INTERACTIONS OR MEETINGS WITH OTHER MEMBERS OR OTHER PERSONS WITH WHOM YOU COMMUNICATE, INTERACT OR MEET WITH AS A RESULT OF YOUR USE OF SWIMPLY, OR (IV) FROM YOUR PUBLISHING OR BOOKING OF A LISTING, INCLUDING WHETHER BASED ON WARRANTY, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT SWIMPLY HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGE, EVEN IF A LIMITED REMEDY SET FORTH HEREIN IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE. EXCEPT FOR OUR OBLIGATIONS TO PAY AMOUNTS TO APPLICABLE POOL OWNERS PURSUANT TO THESE TERMS OR AN APPROVED PAYMENT REQUEST UNDER THE POOL OWNER\u2019S INSURANCE, IN NO EVENT WILL SWIMPLY AGGREGATE LIABILITY ARISING OUT OF OR IN CONNECTION WITH THESE TERMS AND YOUR USE OF THE SWIMPLY PLATFORM INCLUDING, BUT NOT LIMITED TO, FROM YOUR PUBLISHING OR BOOKING OF ANY LISTINGS VIA THE SWIMPLY PLATFORM, OR FROM THE USE OF OR INABILITY TO USE THE SWIMPLY PLATFORM AND IN CONNECTION WITH ANY BOOKING OR INTERACTIONS WITH ANY OTHER MEMBERS, OR THE AMOUNTS PAID BY SWIMPLY TO YOU IN THE TWELVE (12) MONTH PERIOD PRIOR TO THE EVENT GIVING RISE TO THE LIABILITY. THE LIMITATIONS OF DAMAGES SET FORTH ABOVE ARE FUNDAMENTAL ELEMENTS OF THE BASIS OF THE BARGAIN BETWEEN SWIMPLY AND YOU. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, SO THE ABOVE LIMITATION MAY NOT APPLY TO YOU. SOME JURISDICTIONS, INCLUDING THE STATE OF NEW JERSEY, DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES. THEREFORE, SOME OF THE ABOVE LIMITATIONS ON WARRANTIES IN THIS SECTION MAY NOT APPLY TO YOU. NOTHING IN THESE TERMS OF USE SHALL AFFECT ANY NON-WAIVABLE STATUTORY RIGHTS THAT APPLY TO YOU."),i.a.createElement("p",null,"Swimply is not a party to the Hosts\u2019s process for deciphering an acceptable Booking and is not involved in the scope of the agreement. Swimply may in its sole discretion increase or decrease the time period within which the Hosts must confirm or reject such Booking. Any such modification will be posted to these Terms within 30 business days of the decision to change the standard for fees."))),i.a.createElement("li",{id:"section-25"},i.a.createElement(Oe.a,{variant:"h2"},"25. Disclaimer"),i.a.createElement("p",null,"SWIMPLY DOES NOT PROMISE THAT THE SITE OR ANY CONTENT, DOCUMENT OR FEATURE OF THE SITE WILL BE ERROR-FREE OR UNINTERRUPTED, OR THAT ANY DEFECTS WILL BE CORRECTED OR THAT YOUR USE OF THE SITE WILL PROVIDE SPECIFIC RESULTS. THE MATERIAL IN THIS SITE COULD INCLUDE TECHNICAL INACCURACIES OR TYPOGRAPHICAL ERRORS. SWIMPLY CANNOT ENSURE THAT ANY FILES, DOCUMENTS OR OTHER DATA YOU DOWNLOAD FROM THE SITE WILL BE FREE OF VIRUSES OR CONTAMINATION OR DESTRUCTIVE FEATURES. SWIMPLY DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING ANY WARRANTIES OF ACCURACY, NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE."),i.a.createElement("p",null,"SWIMPLY DOES NOT HAVE AN OBGLIATION TO CONDUCT BACKGROUND OR REGISTERED SEX OFFENDER SEARCHES, BUT MAY DO SO TO THE EXTENT PERMITTED BY APPLICABLE LAWS. EVEN IF SWIMPLY CHOOSES TO DO SO, IT DISCLAIMS WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, THAT SUCH CHECKS WILL IDENTIFY PRIOR MISCONDUCT BY A USER OR GUARANTEE THAT A USER WILL NOT ENGAGE IN MISCONDUCT IN THE FUTURE."),i.a.createElement("p",null,"SWIMPLY MAKES NO REPRESENTATIONS OR WARRANTIES AS TO ANY MEMBER\u2019S CONDUCT ON THE PLATFORM OR OTHERWISE. YOU AGREE TO TAKE REASONABLE PRECAUTIONS IN ALL COMMUNICATIONS AND INTERACTIONS WITH OTHER USERS OF THE PLATFORM AND WITH OTHER PERSONS WITH WHOM YOU COMMUNICATE OR INTERACT AS A RESULT OF YOUR USE OF THE PLATFORM, INCLUDING, BUT NOT LIMITED TO, GUESTS AND POOL OWNERS, PARTICULARLY IF YOU DECIDE TO MEET OFFLINE OR IN PERSON REGARDLESS OF WHETHER SUCH MEETINGS ARE ORGANIZED BY SWIMPLY. SWIMPLY EXPLICITLY DISCLAIMS ALL LIABILITY FOR ANY ACT OR OMISSION OF ANY GUEST OR OTHER THIRD PARTY."),i.a.createElement("p",null,"SWIMPLY MAKES NO REPRESENTATIONS OR WARRANTIES AS TO ANY POOL OR LISTING. GUESTS ARE SOLELY RESPONSIBLE FOR INQUIRING OR PERFORMING ANY DUE DILIGENCE NECESSARY TO EVALUATE A POOL. SWIMPLY DOES NOT ENDORSE ANY MEMBER, LISTING, OR POOL."),i.a.createElement("p",null,"The foregoing disclaimers apply to the maximum extent permitted by law. You may have other statutory rights. However, the duration of statutorily required warranties, if any, shall be limited to the maximum extent permitted by law."),i.a.createElement("p",null,"Swimply does not appoint you or any other user as its employee, mandatory, legal agent, or form any kind of legal partnership or joint venture. You are not authorized to make any commitments on behalf of Swimply.")),i.a.createElement("li",{id:"section-26"},i.a.createElement(Oe.a,{variant:"h2"},"26. Governing Law and Jurisdiction"),i.a.createElement("p",null,"Any dispute, claim, or controversy relating to, and the use of, the Platform and/or relating to the Terms, and the materials contained herein (\u201cClaims\u201d) is governed by the laws of the state of New Jersey without regard to conflict of law rules. All Claims, including the determination of the scope or applicability of this paragraph, shall be determined by arbitration in New Jersey by JAMS pursuant to its Streamlined Arbitration Rules and Procedures. Subject to the foregoing terms in this paragraph, you consent to the exclusive jurisdiction of the federal and state courts located in Ocean County, New Jersey."),i.a.createElement("p",null,"The Site is based in the North America. We make no claims concerning whether the Content may be downloaded, viewed, or be appropriate for use outside of North America. If you access or use the Site, the Content, or the Services from outside of North America, you do so at your own risk. Whether inside or outside of North America, you are solely responsible for ensuring compliance with the laws of your specific jurisdiction.")),i.a.createElement("li",{id:"section-27"},i.a.createElement(Oe.a,{variant:"h2"},"27. Contact Information"),i.a.createElement("p",{className:e.mainWord},"Email: info@swimply.com"))))),t?"":i.a.createElement($a,null))}}]),a}(i.a.Component),ud=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"& ol":{counterReset:"item",paddingLeft:"20px"},"& > ol":{padding:"0"},"& ol ol":{paddingLeft:"0"},"& ol > li > ol[type=a]":{paddingLeft:"20px"},"& ul":{paddingLeft:"10px"},"& > ol > li":{listStyleType:"none"},"& ol > li":{counterIncrement:"item"},"& h1":{fontSize:"30px"},"& h2":{marginTop:"20px",fontSize:"20px",fontWeight:"600"}},termsConditions:{padding:"60px 0","@media (max-width:767px)":{padding:"30px 0"},"& h1":{"@media (max-width:767px)":{maxWidth:"200px"}},"& h2":{"@media (max-width:767px)":{fontSize:"16px"}},"& p":{fontSize:"13px",color:e.palette.common.black,marginTop:"7px",lineHeight:"23px","@media (max-width:767px)":{paddingRight:"15px",fontSize:"12px"}}},linksList:{"& a":{color:e.palette.common.black,cursor:"pointer"}},innerNumerationList:{"& > li":{display:"block",position:"relative",marginTop:"15px",paddingLeft:"30px"},"& > li:before":{content:"counters(item, '.') ' '",marginRight:"6px",position:"absolute",left:"0",top:"0"},"& p":{marginTop:"0"},"& ol > li":{paddingLeft:"40px"},"& ol":{marginLeft:"-30px"}},dotsList:{"& li":{listStyleType:"disc"}},mainWord:{fontWeight:"600",marginRight:"4px"},underLine:{textDecoration:"underline"},minusMarginLeft:{marginLeft:"-40px"}}}),je.a)(md);function pd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var vd=function(e){Object(h.a)(a,e);var t=pd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=!1;return"/mobile-privacy"===this.props.match.path&&(t=!0),i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.termsConditions},i.a.createElement("div",{className:e.container},i.a.createElement(Oe.a,{variant:"h2"},"privacy policy"),i.a.createElement("p",null,"Last updated: December 21, 2018"),i.a.createElement("p",{className:e.mailBreak},"We can be reached via email at info@swimply.com."),i.a.createElement("p",null,"Your privacy is important to us. This privacy policy (\u201cPrivacy Policy\u201d) describes how Pools For You LLC d/b/a Swimply (\u201cSwimply\u201d) collects, uses, and discloses information with respect to the Site, Application or Services (collectively, the \u201cPlatform\u201d). We want to clearly explain the types of information we gather, how it is maintained and used, and how to correct or change it."),i.a.createElement(Oe.a,{variant:"h4"},"1. Definitions"),i.a.createElement("p",null,"Capitalized terms not otherwise defined herein shall have the meanings ascribed to them in Swimply\u2019s Terms of Service."),i.a.createElement("p",null,"\u201cAccount\u201d means the account you registered for to access and use the Platform.",i.a.createElement("br",null),"\u201cApplication\u201d means any applications for mobile, tablet and other smart devices and application program interfaces through which Swimply provides services, if any.",i.a.createElement("br",null),"\u201cPersonal Information\u201d means information (which may include sensitive information) relating to an individual who is identifiable or may be identified from that information in conjunction with other information that is in, or is likely to come into Swimply\u2019s possession.",i.a.createElement("br",null),"\u201cServices\u201d means the services Swimply makes available through its site for hosts to list pools and for guests to book such pools.",i.a.createElement("br",null),"\u201cSite\u201d means www.swimply.com and any other website through which Swimply makes Services available.",i.a.createElement("br",null),"\u201cThird Parties\u201d means companies or persons not related by common ownership or control (i.e. non-affiliates) or other unrelated individuals. Third Parties may be financial and non-financial companies, or persons other than you or Swimply.",i.a.createElement("br",null),"\u201cUsers\u201d means any individual who accesses or uses the Platform for any reason"),i.a.createElement(Oe.a,{variant:"h4"},"2. What types of information does Swimply gather about you?"),i.a.createElement("p",null,"We collect several types of information from and about users of the Platform, including Personal Information by which you may be personally identified, such as name, address, e-mail address, phone number, and any other information Swimply obtains about you."),i.a.createElement("p",null,"We receive, store and process information, including Personal Information that you make available to Swimply by your use of the Platform. We collect this information directly from you when you provide it to us, automatically as you navigate through the Platform, and from Third Parties as described herein."),i.a.createElement("p",{className:e.termsHead},"Information You Provide to Us"),i.a.createElement("p",null,"In order to register for an Account via the Platform, you must provide a username, email address, level of education, identifying information related to education, and preferences. Swimply may store all information for as long as you maintain an Account with Swimply. Should you choose to cancel your Account, we will delete your user information upon request."),i.a.createElement("p",null,"You make available to us any correspondence or transactions you engage in on the Platform, including but not limited to, posting listings, booking Accommodations, posting reviews or comments, and linking your Account to Third Party websites such as Facebook."),i.a.createElement("p",{className:e.termsHead},"Information We Collect Through Your Use of the Platform"),i.a.createElement("p",null,"When you use certain features of the Platform, Swimply may receive, store and process information about your location, including general information (e.g. IP address, zip code) and more specific information (e.g. GPS-based functionality on mobile devices used to access the Platform)."),i.a.createElement("p",null,"We may also receive, store and process log data, which is information that is automatically recorded by our servers whenever you access or use the Platform. This information includes your IP address, date and time of access, the hardware and software you are using, referring and exit pages and URLS, the number of clicks, device event information, pages viewed and the order of pages, and the time spent on particular pages."),i.a.createElement("p",{className:e.termsHead},"Cookies"),i.a.createElement("p",null,"We use cookies to allow users to log into their Accounts and use the Platform. We may use technologies such as our own cookies to provide you with advertising based on your specific interests or preferences. If you would like to opt-out of receiving behavioral-based advertising from advertising companies with whom we have a relationship, you may do so by visiting the Network Advertising Initiative or Digital Advertising Alliance."),i.a.createElement("p",null,"We may participate in demographic, interest, and location-based advertising. If we do so, we will not use Personal Information in conjunction with this information. You may opt out or customize your demographic and interest based settings, on the Google Display Network, using the Ad Settings."),i.a.createElement(Oe.a,{variant:"h4"},"3. How does the Company use and process the information it gathers?"),i.a.createElement("p",null,"We use information that we collect about you or that you provide to us, including any Personal Information, to enable you to access and use the Platform, connect and communicate with other users, and to foster a trusted and safe environment for users of the Platform. Additionally, we use your information to send you important notices regarding the Platform as well as marketing, advertising and promotional messages that may be of interest to you. You may opt-out from receiving such communications in the \u201cAccount\u201d section of the settings"),i.a.createElement("p",null,"We use information that we collect about you or that you provide to us to comply with our legal obligations, resolve any disputes that we may have with any of our users, and enforce our agreements with Third Parties."),i.a.createElement("p",null,"We may, either directly or through Third Parties, review, scan or analyze your communications with other users on the Platform for fraud prevention, risk assessment, regulatory compliance, investigation, product development, research and customer support purposes. We will not review, scan, or analyze your communications for sending Third-Party marketing messages to you. We will also not sell these reviews or analyses of communications to Third Parties."),i.a.createElement(Oe.a,{variant:"h4"},"4. How does the Company disclose or share your Personal Information and to whom does it disclose to such information?"),i.a.createElement("p",null,"Information that you provide to create your profile and Listings may be visible to the general public for marketing purposes. Listings may include information such as the city, neighborhood, and approximate geographic location displayed on a map of where the Accommodation is located."),i.a.createElement("p",null,"Your profile and Listings may appear as search results on search engines by default. You may opt-out of this feature by changing your settings. Please be aware that Swimply does not control the practices of Third Party search engines and as a result, your information may continue to be visible as a search result."),i.a.createElement("p",null,"Swimply does not share your telephone number with other users without your consent. As a Guest, if you agree to be contacted by Hosts before your request for a Booking has been accepted, and the Host decides to do so, Swimply will act as an intermediary and connect you with the Host. We will not share your phone number unless a Booking is confirmed. If a Booking is confirmed, your phone number will become visible to the Host and Guest, and either party may contact one another directly."),i.a.createElement("p",null,"Your payment and billing information will never be shared with other users."),i.a.createElement("p",null,"We disclose your information to Third Parties as further explained in Section 5 below."),i.a.createElement("p",null,"We may, without notice to you, store, transfer and disclose data to the Tax Authority relating to transactions, Bookings, Accommodations and Taxes including but not limited to, Personal Information, Listings, transaction dates and amounts, tax identification numbers, amount of taxes received by Hosts from Guests, or allegedly due, contact information and similar information."),i.a.createElement("p",null,"In the event legal enforcement requests information about you, we will use commercially reasonable efforts to notify you (before or after) about such requests unless (i) providing notice is prohibited by the legal process itself, court order or by applicable law, or (ii) providing notice would (a) be futile, (b) be ineffective, (c) create a risk of injury or bodily harm to others or (d) create a risk or increase a risk of fraud upon Swimply, its users, or the Platform."," "),i.a.createElement("p",{className:e.termsHead},"Third Party Access and Use"),i.a.createElement("p",null,"We may allow our business partners to use their cookies and other tracking technologies on our Platform. We may also, either directly or through Third Parties we engage to provide services to us, track your behavior in utilizing the Platform for purposes of our own customer support, analytics, research, product development, fraud prevention, risk assessment, regulatory compliance, investigation, as well as enable you to use and access the Platform. If you disable cookies, you may lose certain features and functionality of the Application or Site, as cookies are necessary to track and enhance use of and access to the Platform."),i.a.createElement("p",null,"At times, you may be directed to Third Party websites and/or offered the option to download an application using a Third Party platform. Hosts may elect to use Third Party services made available through the Swimply."),i.a.createElement("p",null,"Swimply may use social plugins provided and operated by Third Parties such as Facebook\u2019s \u201cLike\u201d button. By clicking on the such social plugin, you may be sending your information to a Third Party. Please be aware that the terms of the Third Party\u2019s privacy policy will apply to your use of any Third Party platforms (e.g. social plugin, website, or applications)."),i.a.createElement("p",null,"If Swimply undertakes or is involved with any merger, acquisition, reorganization, sale of assets, bankruptcy or event of insolvency, then we may sell, transfer or share some or all of our assets including your Personal Information. In this event, we will notify you of the transfer of Personal Information, which may become subject to a different privacy policy."),i.a.createElement(Oe.a,{variant:"h4"},"5. Children Under 13"),i.a.createElement("p",null,"The Platform is not intended for individuals under the age of thirteen (13), and we request that these individuals do not provide Personal Information through our Application. We do not knowingly collect information from children under thirteen (13) without parental consent. Visit the Federal Trade Commission website for more information about the Children\u2019s Online Privacy Protection Act (COPPA)."),i.a.createElement("p",null,"How to access, change, or delete your information, or cancel your Account You may review, update, correct or delete the Personal Information in your Account. You may cancel your Account entirely by accessing the settings on the Site or Application. Please note that any reviews, forum postings, and materials you have posted may continue to be publicly available on the Site or Application even after you cancel your Account."," "),i.a.createElement(Oe.a,{variant:"h4"},"Disclaimer"),i.a.createElement("p",null,"We are continuously implementing and updating administrative, technical, and physical security measures to help protect your Personal Information against unauthorized access, destruction or alteration. However, no method of transmission over the Internet, and no method of storing electronic information, can be 100% secure. So, we cannot guarantee the security of your transmissions to us and of your Personal Information that we store."," "),i.a.createElement(Oe.a,{variant:"h4"},"Modifications"),i.a.createElement("p",null,"The Privacy Policy is subject to change. We suggest you review the policy from time to time. If we make changes to the Privacy Policy, we will revise the \u201cLast Updated\u201d date at the top of this policy. Any changes to this policy will become effective when we post the revised Privacy Policy with respect to the Platform. Your use of the Platform following these changes constitutes acceptance of the revised Privacy Policy."," "),i.a.createElement("p",null,"PLEASE READ THE TERMS OF THIS PRIVACY POLICY CAREFULLY AS IT CONTAINS IMPORTANT INFORMATION REGARDING YOUR PERSONAL INFORMATION. IF YOU DO NOT AGREE TO ANY OF THESE TERMS, YOU MUST DISCONTINUE YOUR USE OF THE PLATFORM AND CANCEL YOUR ACCOUNT."))),!0!==t?i.a.createElement($a,null):"")}}]),a}(i.a.Component),gd=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},termsConditions:{padding:"60px 0","@media (max-width:767px)":{padding:"30px 0"},"& h2":{marginBottom:"20px",fontWeight:"600",textTransform:"capitalize"},"& h4":{marginTop:"25px",fontWeight:"600",fontSize:"14px",lineHeight:"24px"},"& p":{fontSize:"13px",color:e.palette.common.black,marginTop:"7px",marginBottom:"20px",lineHeight:"23px"}},termsHead:{fontWeight:"500",marginBottom:"0 !important",paddingTop:"10px",textDecoration:"underline"},mailBreak:{"@media (max-width:767px)":{paddingRight:"65px"}}}}),je.a)(vd);function hd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var fd=function(e){Object(h.a)(a,e);var t=hd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.redirectToFondPool=n.redirectToFondPool.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"redirectToFondPool",value:function(){this.props.history.push("findpool")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.hostCommunity},i.a.createElement("div",{className:e.container},i.a.createElement(lt.a,{container:!0,className:e.root,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement(Oe.a,{variant:"h2"},"Welcome! ",i.a.createElement("br",null),"A bit about ",me?"Shvimply":"Swimply"),i.a.createElement(Oe.a,{variant:"h4"},"The first online marketplace for pool sharing."),i.a.createElement("p",null,me?"Shvimply":"Swimply"," is an online platform for pool sharing that connects owners of private pools with people looking to get their hands on one. ",me?"Shvimply":"Swimply"," allows non-pool owners affordable access to an otherwise inaccessible luxury, while allowing pool owners to earn an effortless, substantial income from their underutilized pools."),i.a.createElement(Oe.a,{variant:"button",className:e.button,onClick:this.redirectToFondPool},"Find A Pool")),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",null,i.a.createElement("img",{src:window.location.origin+"/img/About-Photo.png",alt:""})))))),i.a.createElement("div",{className:e.hostCommunity+" "+e.aboutBg},i.a.createElement("div",{className:e.container},i.a.createElement(lt.a,{container:!0,className:e.root,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement(Oe.a,{variant:"h2"},"Why do hosts use ",me?"Shvimply":"Swimply","?"),i.a.createElement("p",null,"The extra income earned from renting a pool on ",me?"Shvimply":"Swimply"," can be used to help cover costs and even turn a profit while helping out the community at the same time. It's a win-win for everyone. Pool owners simply list their pools, customize their accounts and decide when exactly they are available for rent."),i.a.createElement("p",null,"Non-pool owners can read all about the pools, see user reviews, and book directly on ",me?"Shvimply":"Swimply",". If anyone needs assistance, our support team ensures that the entire process of listing, reserving and payment is as smooth as possible for all involved.")),i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement("div",null,i.a.createElement("img",{src:window.location.origin+"/img/About-Photo2.png",alt:""})))))),i.a.createElement("div",{className:e.hostCommunity+" "+e.ourMisson},i.a.createElement("div",{className:e.container},i.a.createElement(lt.a,{container:!0,className:e.root,spacing:24},i.a.createElement(lt.a,{item:!0,xs:12,sm:6},i.a.createElement(Oe.a,{variant:"h2"},"Our Mission"),i.a.createElement(Oe.a,{variant:"h4"},'To make awesome places the new "cafe."'),i.a.createElement("p",null,"Whether you're stuck at home with the kids, tired from a long day of work (or homework), or just bored, we want you to be able to teleport somewhere awesome with a few clicks of a button."),i.a.createElement("p",null,"We want mini-escapes to be as ordinary as visiting a cafe or a good nap. Wherever you are, whatever you're doing, it should only take a moment from the time you want to be somewhere happier until the time you actually are."),i.a.createElement(Oe.a,{variant:"h5"},me?"Shvimply":"Swimply","."),i.a.createElement(Oe.a,{variant:"h4",className:e.ourMisson},"Be Somewhere Happier."))))),i.a.createElement($a,null))}}]),a}(i.a.Component),kd=(C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:980px)":{maxWidth:"700px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},hostCommunity:{padding:"60px 0 60px","@media (max-width:767px)":{padding:"20px 0 0"},"& img":{width:"100%","@media (max-width:767px)":{margin:"0 -15px -7px",width:"calc(100% + 30px)"}},"& h2":{lineHeight:"35px",fontSize:"30px",marginBottom:"10px","@media (max-width:767px)":{maxWidth:"240px",marginBottom:"15px"}},"& h4":{color:e.palette.common.darkgray,fontWeight:"300",fontSize:"18px",marginBottom:"10px","@media (max-width:767px)":{paddingRight:"45px",lineHeight:"27px"}},"& h5":{fontWeight:"bold",marginBottom:"6px",marginTop:"10px"},"& p":{color:e.palette.common.black,paddingRight:"55px","@media (max-width:767px)":{paddingRight:"0"}},"& span":{display:"inline-block",padding:"7px 35px",marginTop:"8px",fontWeight:"500"}},aboutBg:{background:"#f3f5f5","& img":{maxWidth:"300px","@media (max-width:767px)":{maxWidth:"260px",margin:"0 auto 25px",display:"block"}}},ourMisson:{"@media (max-width:767px)":{padding:"50px 0 30px","& h4":{padding:"0"}},"& h4":{fontSize:"15px",color:e.palette.common.black,"@media (max-width:767px)":{fontSize:"18px",paddingRight:"45px"}}}}}),je.a)(fd),a(214)),bd=a.n(kd);function yd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var xd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Nd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mypool"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myPools"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_step"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:291,source:{body:"query mypool{\n  myPools{\n    id\n    title\n    street_number\n    state\n    city\n    zip_code\n    full_address\n    images{\n      url\n      cover\n    }\n    createdBy{\n      tutorial_status,\n      stripe_id,\n      img_url,\n      firstname,\n      description\n    }\n    status\n    last_step\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Sd=function(e){Object(h.a)(a,e);var t=yd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getPoolDetails=function(){n.setState({loading:!0}),n.props.client.query({query:Nd,fetchPolicy:"no-cache"}).then(function(e){null!==e.data.myPools?n.setState({myPools:e.data.myPools,loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),incompleteHostData:ie.getHostDataIncomplete()||null,lastPoolLastStep:e.data.myPools[0].last_step}):n.setState({loading:!1,myPools:[],showHostPlaceholder:Wt.handleHostPlaceholder()})}).catch(function(){var e=Object(m.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Gt(t),n.setState({loading:!1,hostError:a}),"Unauthenticated."!==a){e.next=7;break}return e.next=5,n.props.refreshToken(n.props.history);case 5:"ok"===e.sent&&n.getPoolDetails();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.goToFinishListingYourPool=function(e,t){var a=jt.find(function(t){return t.key===e}).value;ie.setHostPoolID(t),n.props.history.push({pathname:"/addpool",state:{lastStep:a,completionProgress:n.state.lastPoolLastStep}})},n.getPercentage=function(e,t){var a=parseInt(100/14*e),i=jt.find(function(e){return"imagesStatus"===e.value}).key;return!t.images.length&&e>i&&(a-=parseInt(100/14),t.actualStep=9),n.state.incompleteHostData&&(t.actualStep=3,t.last_step>i?a-=5*parseInt(100/14):t.last_step>3?a-=parseInt(100/14):a=parseInt(100/14*t.last_step)),a},n.showFinishListingYourPool=function(e,t){var a="number"===typeof e&&!isNaN(e)&&e<14;return t.images.length||(a=!0,t.actualStep=9),n.state.incompleteHostData&&(a=!0,t.actualStep=3),e<2&&(t.actualStep=2),a},n.state={stripe_url:null,stripe_id:null,realStripeAccount:!1,myPools:[],lastStep:null,loading:!1,hostError:"",lastPoolId:null,showHostPlaceholder:Wt.handleHostPlaceholder(),lastPoolLastStep:null},n.redirectToAddPool=n.redirectToAddPool.bind(Object(g.a)(n)),n.getProfileDetails=n.getProfileDetails.bind(Object(g.a)(n)),n.redirectToStripeDashboard=n.redirectToStripeDashboard.bind(Object(g.a)(n)),n.redirectToStripe=n.redirectToStripe.bind(Object(g.a)(n)),n.getMissingDetails=n.getMissingDetails.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getProfileDetails(),this.getPoolDetails()}},{key:"getProfileDetails",value:function(){var e=this;this.setState({loading:!0}),this.props.client.query({query:xd,fetchPolicy:"network-only"}).then(function(t){ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id),t.data.me.notify_olden&&ie.removeHostDataIncomplete(),e.setState({loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),stripe_url:t.data.me.stripe_connect_url,stripe_id:t.data.me.stripe_id,lastPoolId:t.data.me.last_pool_id,realStripeAccount:t.data.me.stripe_account_onboard})}).catch(function(t){var a=Gt(t);e.setState({loading:!1},Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==a){t.next=5;break}return t.next=3,e.props.refreshToken(e.props.history);case 3:"ok"===t.sent&&e.getProfileDetails();case 5:case"end":return t.stop()}},t)})))})}},{key:"redirectToAddPool",value:function(){var e=this.props.history,t=this.state.myPools;ie.removeEditPoolStatus(),ie.removeHostPoolID(),t.length>0?e.push("/addpool"):e.push("/hostprompt")}},{key:"redirectToEditPool",value:function(e){var t=this.props.history;ie.setHostPoolID(e),t.push("editpool")}},{key:"redirectToStripeDashboard",value:function(){vl.redirectToStripeDashboard()}},{key:"getMissingDetails",value:function(e,t,a){var n="";a.images.length||(n=" images");var i=this.state.incompleteHostData;return e<2?n=" pool name, images, pricing, availability":(e<3||t<3||i)&&!a.images.length?n=" images, pricing, availability":(e<3||t<3||i)&&(n=" pricing, availability"),n}},{key:"redirectToStripe",value:function(){var e=this.state.stripe_url;e=e+"&redirect_uri="+window.location.href,window.open(e,"_self")}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.loading,o=a.myPools;return a.showHostPlaceholder?i.a.createElement(cl,null):i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:t.hostContainer},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.hostPools},i.a.createElement(Oe.a,{variant:"h2"},"My Pools",i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToAddPool},"Add a pool")),0===o.length?i.a.createElement("div",{className:t.noPools},i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:"/img/ONB-EnjoySwimming.png"})),i.a.createElement("p",null,"Begin earning an effortless income by adding your pool to ",me?"Shvimply":"Swimply","!")):i.a.createElement("div",{className:t.myPools},o.map(function(a,n){var o="";o=0===a.status?"PENDING INSPECTION":1===a.status||5===a.status?"Active":2===a.status||6===a.status?"PENDING SWIMPLY APPROVAL":3===a.status?"INACTIVE":"PENDING APPROVAL";var r=ft.a.filter(a.images,{cover:!0});return r=r.length>=1?r[0].url:"",i.a.createElement("div",{key:n},4===a.status?"":i.a.createElement("div",{className:t.myPoolBox},i.a.createElement("div",{className:"social-icons-absolute top right"},i.a.createElement(mo,{poolId:a.id,userRole:"host",poolStatus:a.status})),i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:""===r?"/img/default-pool.png":r}),i.a.createElement(Oe.a,{className:"PENDING INSPECTION"===o||"PENDING APPROVAL"===o||"PENDING SWIMPLY APPROVAL"===o?t.greenBtn:"INACTIVE"===o?t.redBtn:"",variant:"button"},o)),i.a.createElement(Oe.a,{variant:"h3"},""===a.title?"":a.title),i.a.createElement("p",null,a.full_address),i.a.createElement("div",{className:t.accorodianBox},i.a.createElement("ul",null,e.showFinishListingYourPool(a.last_step,a)&&i.a.createElement("li",{className:t.finishListingPoolContainer,onClick:e.goToFinishListingYourPool.bind(e,parseInt(a.actualStep)||a.last_step+1,a.id)},i.a.createElement("div",{className:t.flex},i.a.createElement("img",{className:"image",alt:"Finish Listing Your Pool",src:"/img/finish_listing_your_pool.png"}),i.a.createElement("div",{className:"".concat(t.flex," ").concat(t.stepperContainer)},i.a.createElement("span",null,"Finish Listing Your Pool ","(".concat(e.getPercentage(a.last_step,a),"%)")),i.a.createElement("p",{className:t.progressLabel},"Missing: ",e.getMissingDetails(a.last_step,a.actualStep,a)),i.a.createElement(bd.a,{completed:e.getPercentage(a.last_step,a),className:t.stepperNew,color:"#22bfea"}))),i.a.createElement("i",{className:"fa fa-angle-right"})),i.a.createElement("li",{onClick:e.redirectToEditPool.bind(e,a.id)},i.a.createElement("img",{alt:"",src:"/img/Pool-Details.png"})," Edit Pool Details ",i.a.createElement("i",{className:"fa fa-angle-right"})),e.state.stripe_id?e.state.realStripeAccount?i.a.createElement("li",{onClick:e.redirectToStripeDashboard},i.a.createElement("i",{className:"".concat(t.customColor," creditIcon fas fa-credit-card")}),"View payments",i.a.createElement("i",{className:"fa fa-angle-right"})):i.a.createElement("li",{onClick:e.redirectToStripeDashboard,style:{color:"red"}},i.a.createElement("i",{className:"".concat(t.customColor," creditIcon fas fa-credit-card")}),"Setup your Stripe account",i.a.createElement("i",{className:"fa fa-angle-right"})):i.a.createElement(bl,null,i.a.createElement("li",{className:t.connectStripe},i.a.createElement("div",null,i.a.createElement("i",{className:"".concat(t.customColor," creditIcon fas fa-credit-card")}),"Connect to Stripe"),i.a.createElement("div",null,i.a.createElement("i",{className:"fa fa-exclamation-circle with-margin"}),i.a.createElement("i",{className:"fa fa-angle-right"})))),i.a.createElement(ze.a,{to:"/daily-calendar-management/"+a.id},i.a.createElement("li",null,i.a.createElement("img",{alt:"",src:"/img/Date-Active.png"})," ","Manage Calendar"," ",i.a.createElement("i",{className:"fa fa-angle-right"}))),i.a.createElement(ze.a,{to:"/host-reservation"},i.a.createElement("li",{className:t.lastLink},i.a.createElement("img",{alt:"",src:"/img/starr-n.png"})," Manage Reservations ",i.a.createElement("i",{className:"fa fa-angle-right"})))))))}))),i.a.createElement(Oe.a,{variant:"button",className:t.mobileBtnAdd,onClick:this.redirectToAddPool},"Add a pool"))))}}]),a}(i.a.Component);var wd=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},hostContainer:{padding:"60px 0","& h2":{marginBottom:"25px","& span":{fontSize:"12px",float:"right",padding:"7px 25px","@media (max-width:767px)":{display:"none"}}}},noPools:{display:"flex",alignItems:"center","& figure":{marginLeft:"0",marginRight:"25px","& img":{maxWidth:"100px"}},"@media (max-width:767px)":{display:"table",textAlign:"center"}},hostPools:{maxWidth:"500px",minHeight:"calc(100vh - 240px)","& p":{fontWeight:"300\t"}},myPoolBox:{position:"relative","& figure":{margin:"0",position:"relative",minHeight:"50px","& span":{position:"absolute",bottom:"20px",left:"15px",padding:"4px 20px",fontSize:"13px"}},"& img":{width:"100%",borderRadius:"4px"},"& h3":{marginTop:"15px"},"& p":{marginTop:"7px"}},accorodianBox:{"& ul":{listStyle:"none",paddingLeft:"0",marginRight:"5px",marginTop:"10px","& li":{padding:"12px 15px",border:"1px solid #ccc",borderBottom:"0",cursor:"pointer","&:last-child":{},"& i":{fontSize:"22px",float:"right",color:"#7b858b"},"& .fa-exclamation-circle":{float:"left",color:"red",fontSize:20},"& .creditIcon":{float:"left !important",marginRight:8,color:e.palette.common.blue},"& img":{maxWidth:"23px",verticalAlign:"middle",marginTop:"-2px",marginRight:"5px"}}}},connectStripe:{color:"red",display:"flex",justifyContent:"space-between","& div":{display:"flex",alignItems:"center","& .with-margin":{marginRight:10}}},greenBtn:{background:"#008000"},redBtn:{background:"#ff0000"},lastLink:{borderBottom:"1px solid #ccc  !important"},contentBox:{borderBottom:"1px solid #ccc"},mobileBtnAdd:{display:"none","@media (max-width:767px)":{display:"block",marginTop:"25px"}},flex:{display:"flex",alignItems:"center"},finishListingPoolContainer:{display:"flex",justifyContent:"space-between","& div img.image":{marginRight:"8px"}},stepperContainer:{flexDirection:"column"},stepperNew:{padding:"0",maxWidth:"375px",width:"100%",background:"#f3f5f5","& div":{height:"5px !important"}},progressLabel:{fontSize:11,color:"gray",margin:"0px !important",alignSelf:"flex-start"}}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Sd,Object.assign({},t,e))});function _d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ed={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fd=function(e){Object(h.a)(a,e);var t=_d(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getProfileDetails=function(){n.props.client.query({query:Ed,fetchPolicy:"network-only"}).then(function(e){n.setState({emailAddress:e.data.me.email,firstName:e.data.me.firstname}),ie.setUserID(e.data.me.id),ie.setUserCountry(e.data.me.country_code),ie.setSwimmerCountry(e.data.me.country_code_swimmer),ie.setLastPoolId(e.data.me.last_pool_id)}).catch(function(){var e=Object(m.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Gt(t),n.setState({loading:!1}),"Unauthenticated."!==a){e.next=7;break}return e.next=5,n.props.refreshToken(n.props.history);case 5:"ok"===e.sent&&n.getProfileDetails();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.state={loading:!1,emailAddress:"",firstName:""},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getProfileDetails()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.emailAddress,o=t.firstName;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",{className:e.addPoolContainer},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.addPool},i.a.createElement(Oe.a,{variant:"h2"},"Become a ",me?"Shvimply":"Swimply"," Host! "),i.a.createElement("p",{className:e.smallFont},"Get ready to earn an extra income from your pool with 4 simple steps!"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/ONB-DiscoverPools.png"})),i.a.createElement("p",null,"List your pool")),i.a.createElement("li",null,i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/ONB-SetPay.png"})),i.a.createElement("p",null,"Set prices and calendar ")),i.a.createElement("li",null,i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/ONB-TakeReservations.png"})),i.a.createElement("p",null,"Take reservations")),i.a.createElement("li",null,i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/ONB-GetPaid.png"})),i.a.createElement("p",null,"Get paid for bookings"))),i.a.createElement(ze.a,{to:"addpool"},i.a.createElement(Oe.a,{variant:"button"},"Get Started")))),i.a.createElement("img",{style:{position:"absolute",visibility:"hidden"},src:"https://www.ref-r.com/campaign/t1/settings?bid_e=35B20B04DB28FDCEF3DCACD87B6962B5&bid=26502&t=420&event=sale&email="+n+"&orderID="+n+"&purchaseValue=0&fname="+o,alt:""})))}}]),a}(i.a.Component);var Cd=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},addPoolContainer:{padding:"60px 0","& h2":{marginBottom:"0","& span":{fontSize:"12px",float:"right",padding:"7px 25px"}},"& p":{marginTop:"8px"},"& span":{maxWidth:"300px",marginTop:"25px","@media(max-width:767px)":{maxWidth:"100%"}},"@media(max-width:767px)":{padding:"30px 0"}},smallFont:{fontSize:"12px"},addPool:{maxWidth:"600px","& p":{fontWeight:"400\t",fontSize:"14px"},"& ul":{listStyle:"none",marginTop:"20px","& li":{display:"flex",alignItems:"center",marginBottom:"15px","& figure":{margin:"0 20px 0 0","& img":{maxWidth:"50px"}}}},"@media(max-width:767px)":{"& ul":{paddingLeft:"0"}}}}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Fd,Object.assign({},t,e))});function Td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Pd=function(e){Object(h.a)(a,e);var t=Td(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.activeStep;return i.a.createElement(bd.a,{completed:a,className:t.stepperNew,color:"#22bfea"})}}]),a}(i.a.Component),Id=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"375px",background:"#f3f5f5","& div":{height:"5px !important"},"@media(max-width:767px)":{position:"fixed",bottom:"0",left:"0",right:"0",zIndex:"99",maxWidth:"initial"}}}}),b.b)(Pd);function Dd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Od={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolLocationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolLocation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:125,source:{body:"mutation savePoolLocation($data:PoolLocationInput!){\n  savePoolLocation(data:$data){\n    pool_id\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Rd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ad={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"changeRole"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"changeRole"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:60,source:{body:"mutation changeRole{\n\tchangeRole{\n\t  status\n\t  message\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Bd=function(e){Object(h.a)(a,e);var t=Dd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).convertToHost=Object(m.a)(c.a.mark(function e(){var t,a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.client.mutate({mutation:Ad});case 3:t=e.sent,(a=t.data.changeRole).status?(n.setState({errorMessage:""}),n.props.handleUser(Object(u.a)({},n.props.user,{roles:[{name:"Host"}]})),ie.setUserRole("Host")):n.setState({loading:!1,errorMessage:a.message}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i=Gt(e.t0),n.setState({loading:!1,errorMessage:i},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Unauthenticated."!==i){e.next=5;break}return e.next=3,n.props.refreshToken(n.props.history);case 3:"ok"===e.sent&&n.convertToHost();case 5:case"end":return e.stop()}},e)})));case 12:case"end":return e.stop()}},e,null,[[0,8]])})),n.state={activeStep:8.3,specialInstructions:"",fullAddress:"",placeHolderAddress:"",streetNumber:"",state:"",zipCode:"",route:"",city:"",loading:!1,hostError:"",addressStatus:!1,poolID:"",addressDetails:{},address:"",addressSelected:!1},n.onSelect=n.onSelect.bind(Object(g.a)(n)),n.onChange=n.onChange.bind(Object(g.a)(n)),n.handleSpecialInstructions=n.handleSpecialInstructions.bind(Object(g.a)(n)),n.redirectToListingInfo=n.redirectToListingInfo.bind(Object(g.a)(n)),n.redirectToBackBtn=n.redirectToBackBtn.bind(Object(g.a)(n)),n.setSearchOptions=n.setSearchOptions.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){this.setSearchOptions()}},{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:Rd,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){null!==a.data.pool.special_access_instruction&&""!==a.data.pool.special_access_instruction&&(a.data.pool.description=a.data.pool.special_access_instruction.replace(/(<([^>]+)>)/gi,"")),e.setState({fullAddress:a.data.pool.full_address,address:a.data.pool.full_address,placeHolderAddress:a.data.pool.full_address,specialInstructions:a.data.pool.special_access_instruction,poolID:t,loading:!1,addressSelected:!!a.data.pool.full_address}),ie.setHostPoolID(a.data.pool.id)}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"setSearchOptions",value:function(){this.setState({searchOptions:{componentRestrictions:{country:le?Dt:"au"}}})}},{key:"onChange",value:function(e){this.setState({address:e,addressSelected:!1})}},{key:"onSelect",value:function(e){this.setState({address:e,addressSelected:!0})}},{key:"handleSpecialInstructions",value:function(e){this.setState({specialInstructions:e.target.value})}},{key:"redirectToListingInfo",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n,i,o,r,s,d,u,p,v=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.specialInstructions,n=t.poolID,i=t.address,o=this.props,r=o.backBtnChange,s=o.history,this.setState({loading:!0}),"Swimmer"!==this.props.user.roles[0].name){e.next=6;break}return e.next=6,this.convertToHost();case 6:return e.next=8,Object(hn.geocodeByAddress)(i);case 8:d=e.sent,u=d[0].address_components?Wt.parseAddressComponents(d[0].address_components):{},p={full_address:i||"",street_number:u.street_number||"",state:u.stateFullDetail&&u.stateFullDetail.long_name?u.stateFullDetail.long_name:"",zip_code:u.postal_code||"",route:u.route?u.route:"",city:u.cityFullDetail&&u.cityFullDetail.long_name?u.cityFullDetail.long_name:"",pool_id:n,special_access_instruction:a,advance_notice:St[0].key,availability_window:wt[3].key},this.props.client.mutate({mutation:Od,variables:{data:p}}).then(function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ie.setHostPoolID(t.data.savePoolLocation.pool_id),l.a.dataLayer({dataLayer:{poolId:t.data.savePoolLocation.pool_id,address:p.full_address,City:p.city,State:p.state,ZIP:p.zip_code,specialInstructions:p.special_access_instruction},events:{RegistrationStep1:"RegistrationStep1"}}),!0===r?s.push("editpool"):(!0,v.props.redirectToListingInfo(!0)),a=i.split(",").reverse(),n={timestamp:(new Date).toISOString(),event_type:"pool-location",fullAddress:i,country:a[0],city:a[le?2:1],platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"host"},Ci(v.props.client,n),ie.setCreatePoolTime(new Date),ie.setCreatePoolIDEvent(t.data.savePoolLocation.pool_id),v.props.handleUser();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t=Gt(e,"debugMessage");v.setState({hostError:t,loading:!1})});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"redirectToBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.isAnyPool,a=this.props.history;"location"===e?a.push("editpool"):!0===t?a.push("/host"):a.push("/hostprompt")}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep,s=n.specialInstructions,l=n.hostError,d=/<\/?\w*>/g;return s&&s.match(d)&&s.match(d).map(function(e){return s=s.replace(e,""),null}),i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.redirectToBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Where is your pool located?"),""===l?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},l)),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox+" "+t.searchLocationPlaces},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Enter Address"),i.a.createElement(fn.a,{value:this.state.address,onChange:this.onChange,onSelect:this.onSelect,debounce:1e3,shouldFetchSuggestions:this.state.address.length>=2},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps;return i.a.createElement("div",null,i.a.createElement("input",t({placeholder:"e.g. 123 pacific ave",className:"location-search-input"})),i.a.createElement("ul",{className:"autocomplete-dropdown-container ".concat(a.length?"active":"")},a.map(function(e,t){var a=e.active?"suggestion-item--active":"suggestion-item",o=e.active?{backgroundColor:"#f3f5f5",cursor:"pointer"}:{backgroundColor:"#fff",cursor:"pointer"};return i.a.createElement("li",Object.assign({key:"location-".concat(t)},n(e,{className:a,style:o})),i.a.createElement("font",null,e.description))})))})),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Special access instructions"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. Once you come up to the front door, you'll find a keypad on which you'll need to enter a combination...",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:8,rows:8,value:s,onChange:this.handleSpecialInstructions})),i.a.createElement("div",{className:"".concat(t.flexRow," ").concat(t.blueBox)},i.a.createElement("img",{className:t.icon,alt:"Light",src:"".concat(window.location.origin,"/img/icons/light_bulb.png")}),i.a.createElement("p",{className:t.locationBottom},"Address and access instructions will only be shown to confirmed guests.")),this.state.address&&this.state.addressSelected?i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToListingInfo},!0===a?"Save":"Next")):i.a.createElement(Ae.a,{variant:"button",className:t.disableBtn},"Next"))))}}]),a}(i.a.Component);var Md=C()(Object(T.withStyles)(function(e){return{addPoolContainer:{"& p":{fontWeight:"100"}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%","& :before":{content:"none"},"& :after":{content:"none"}},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 25px 10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 40px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,fontWeight:"500",cursor:"pointer","& a":{color:e.palette.common.blue,fontWeight:"500"},"& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"20px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default",marginTop:"22px","&:hover":{background:"#ccc"}},searchLocationPlaces:{marginBottom:"20px","& > div":{width:"100%",margin:"0","& > div":{"&:before":{display:"none"},"&:after":{display:"none"}},"& input":{width:"100%",background:"#f3f5f5",padding:"10px 15px",borderRadius:"5px",border:"none",fontSize:"13px",boxSizing:"border-box","&:focus":{outline:"none"}},"& ul":{position:"absolute",background:"#f3f5f5",color:"#000",listStyle:"none",width:"100%",padding:"0",overflowY:"auto",overflowX:"hidden",borderRadius:"5px",marginTop:"5px",zIndex:"9",maxHeight:"200px",overflow:"auto","&.active":{border:"1px solid #d7d9d9"},"& li":{textAlign:"left",padding:"5px 20px",borderBottom:"1px solid #f9f9f9",maxHeight:"150px",overflowY:"auto",fontSize:"13px",cursor:"pointer",background:"#f5df36","&:first-child":{paddingTop:"15px"},"&:last-child":{paddingBottom:"15px"},"&:hover":{background:"#ced0d0"},"&.suggestion-item--active":{background:"#ced0d0"}}}},"& i":{marginLeft:"-35px",color:"#000",zIndex:"1",fontSize:"20px",cursor:"pointer"}},locationBottom:{fontSize:"13px",margin:"3px 0"},locationInput:{position:"relative"},inputPlaceHolder:{position:"absolute",paddingLeft:"15px",color:"#7e7f7f",fontSize:"13px",pointerEvents:"none",top:"34px"},hiddenInputPlaceHolder:{display:"none"},flexRow:{display:"flex"},icon:{marginRight:8,width:"16px",height:"21px"},blueBox:{margin:"10px 0",padding:"12px",border:"1px solid ".concat(e.palette.common.blue),"& p":{margin:"0"}}}},{withTheme:!0}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Bd,Object.assign({},t,e))});function jd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ld={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"savePoolInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109,source:{body:"mutation savePoolLocation($data:savePoolInfoInput!){\n  savePoolInfo(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Wd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},zd=function(e){Object(h.a)(a,e);var t=jd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:16.6,listingName:"",describePool:"",poolID:"",hostError:""},n.handleListingInfo=n.handleListingInfo.bind(Object(g.a)(n)),n.handleDescribePool=n.handleDescribePool.bind(Object(g.a)(n)),n.redirectToPricingGuest=n.redirectToPricingGuest.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:Wd,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){a.data.pool.description=a.data.pool.description.replace(/(<([^>]+)>)/gi,""),e.setState({listingName:a.data.pool.title,describePool:a.data.pool.description,loading:!1,poolID:t})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleListingInfo",value:function(e){this.setState({listingName:e.target.value})}},{key:"handleDescribePool",value:function(e){this.setState({describePool:e.target.value})}},{key:"redirectToPricingGuest",value:function(){var e=this,t=this.state,a=t.listingName,n=t.describePool,i=t.poolID,o=this.props,r=o.backBtnChange,s=o.history;if(""!==a){this.setState({loading:!0});var d={name:a||"",description:n||"",pool_id:parseInt(i)||""};this.props.client.mutate({mutation:Ld,variables:{data:d}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:i,name:d.name,description:d.description},events:{RegistrationStep2:"RegistrationStep2"}}),!0===r)s.push("editpool");else{e.props.redirectToPricingGuest(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}else this.setState({hostError:"Listing name is required."})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("listing_info"===e)t.push("editpool");else{this.props.redirectToLocation(!1)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.hostError,s=n.activeStep,l=n.listingName,d=n.describePool;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:s}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Pool name and description"),i.a.createElement("p",null,"Give your pool a creative name and description to help it stand out in search results.")),""===r?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},r),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Listing Name"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. Really Cool Pool",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,value:l,onChange:this.handleListingInfo,onInput:function(e){e.target.value=e.target.value.slice(0,32)}})),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Describe your pool and swimming area",i.a.createElement("p",null,"(This is your sales pitch to attract guests)")),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. This pool is great for a weekend get together with the whole family!",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:8,rows:8,value:d,onChange:this.handleDescribePool,onInput:function(e){e.target.value=e.target.value.slice(0,1e3)}})),i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToPricingGuest},!0===a?"Save":"Next")))))}}]),a}(i.a.Component),Ud=C()(Object(T.withStyles)(function(e){return{formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"13px",marginBottom:"5px",letterSpacing:"1px","& p":{textTransform:"none",margin:"0"}},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"}}},{withTheme:!0}),b.b,je.a)(zd);function Hd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Gd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAmenitiesList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAmenitiesListInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAmenitiesList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:128,source:{body:"mutation savePoolAmenitiesList($data:PoolAmenitiesListInput!){\n  savePoolAmenitiesList(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Yd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"amenities"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71,source:{body:"query amenities{\n  amenities{\n    id\n    name\n    icon\n    active\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vd=function(e){Object(h.a)(a,e);var t=Hd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:24.9,amenities:[],amenitiesData:[],poolID:"",loading:!1,hostError:""},n.redirectToAmenitiesAdditional=n.redirectToAmenitiesAdditional.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:qd,fetchPolicy:"network-only"}).then(function(t){null!==t.data.amenities?(t.data.amenities=t.data.amenities.map(function(e){return Object(u.a)({},e,{checked:!1})}),e.setState({amenities:t.data.amenities,loading:!1})):e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}),this.props.client.query({query:Yd,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n;n=ft.a.map(a.data.pool.amenities,"id"),e.setState({amenitiesData:n,loading:!1,poolID:t})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleCheckbox",value:function(e,t){var a=this.state.amenitiesData,n=a.indexOf(e);n>=0?a.splice(n,1):a.push(e),this.setState({amenitiesData:a})}},{key:"redirectToAmenitiesAdditional",value:function(){var e=this,t=this.state,a=t.amenitiesData,n=t.poolID,i=t.amenities,o=this.props,r=o.backBtnChange,s=o.history,d=[];a.length>=1&&(d=ft.a.filter(i,function(e){return a.indexOf(e.id)>=0?{id:e.id,name:e.name}:""})),this.setState({loading:!0});var c={pool_id:parseInt(n)||"",amenities_list:a||""};this.props.client.mutate({mutation:Gd,variables:{data:c}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:n,amenitiesList:d},events:{RegistrationStep4:"RegistrationStep4"}}),!0===r)s.push("editpool");else{e.props.redirectToAmenitiesAdditional(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("amenties"===e)t.push("editpool");else{this.props.redirectToPricingGuest(!1)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.backBtnChange,o=this.state,r=o.loading,s=o.hostError,l=o.amenities,d=o.activeStep,c=o.amenitiesData;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:a.locationMain},i.a.createElement("div",{className:a.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===n?"":i.a.createElement(Id,{activeStep:d}),i.a.createElement("div",{className:a.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Does your pool come with any amenities?"),i.a.createElement("p",null,"Select all the following that apply")),""===s?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},s),i.a.createElement("div",{className:a.formContainer},i.a.createElement(lt.a,{container:!0,spacing:24},l.map(function(t,n){var o=!1;return c.indexOf(t.id)>=0&&(o=!0),i.a.createElement(lt.a,{item:!0,xs:6,sm:6,md:6,key:"ame-".concat(t.id)},i.a.createElement(ot.a,{control:i.a.createElement(nt.a,{checked:o,onChange:e.handleCheckbox.bind(e,t.id),value:t.id,color:"primary",disableRipple:!0,icon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Unchecked.png",className:a.checkedImg}),checkedIcon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Checked.png",className:a.checkedImg})}),label:t.name}))})),i.a.createElement("div",{className:a.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToAmenitiesAdditional},!0===n?"Save":"Next")))))}}]),a}(i.a.Component),$d=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},nextButton:{marginTop:"35px"},formContainer:{maxWidth:"350px",paddingTop:"10px","& > div > div":{padding:"0px 0 0 18px !important","& span":{padding:"3px 3px",fontSize:"13px"}},"@media (max-width:767px)":{maxWidth:"100%"}},checkedImg:{maxWidth:"20px"}}}),b.b,je.a)(Vd);function Qd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Kd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolPricingAndGuest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolPricingAndGuestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolPricingAndGuest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:134,source:{body:"mutation savePoolPricingAndGuest($data:PoolPricingAndGuestInput!){\n  savePoolPricingAndGuest(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Jd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zd=function(e){Object(h.a)(a,e);var t=Qd(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={POOL_PRICE_LIST:Object(pt.a)(Et),activeStep:49.8,poolID:"",hourlyPrice:15,maxNumberGuest:30,childrenAllowed:!0,infantAllowed:!0,loading:!1,hostError:"",pricePerGuestEnabled:!1,pricePerGuest:1,pricePerGuestMinCapacity:10,showOtherField:!1,maxNumberGuestOther:"",maxGuestsList:Pt},n.handleHourlyPrice=n.handleHourlyPrice.bind(Object(g.a)(n)),n.handleMaxNumberGuest=n.handleMaxNumberGuest.bind(Object(g.a)(n)),n.handleMaxNumberGuestOther=n.handleMaxNumberGuestOther.bind(Object(g.a)(n)),n.redirectToAmenitiesList=n.redirectToAmenitiesList.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:Jd,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n=Wt.isUsRegion(e.props.region)?Object(pt.a)(Ft):Object(pt.a)(Et);if(!n.filter(function(e){return e.key===(a.data.pool.hourly_price||15)}).length){var i={key:a.data.pool.hourly_price||15,value:(a.data.pool.hourly_price||15)+" - current price"};n.unshift(i)}var o=Pt.slice(),r=a.data.pool.max_guests||30;r&&"Other"!==r&&!o.includes(+r)&&(o=[r].concat(Object(pt.a)(o))),e.setState({POOL_PRICE_LIST:n,hourlyPrice:a.data.pool.hourly_price||15,maxNumberGuest:r,childrenAllowed:a.data.pool.guests_children_allowed,infantAllowed:a.data.pool.guests_infants_allowed,loading:!1,poolID:t,pricePerGuestEnabled:a.data.pool.price_per_guest_enabled,pricePerGuest:0===a.data.pool.price_per_guest?1:a.data.pool.price_per_guest,pricePerGuestMinCapacity:0===a.data.pool.price_per_guest_min_capacity?10:a.data.pool.price_per_guest_min_capacity,maxGuestsList:o})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleHourlyPrice",value:function(e){var t=e.target.value;this.setState({hourlyPrice:t})}},{key:"handleMaxNumberGuest",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value)||"Other"===e.target.value)&&this.setState({maxNumberGuest:e.target.value,showOtherField:"Other"===e.target.value,maxNumberGuestOther:""})}},{key:"handleMaxNumberGuestOther",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState({maxNumberGuestOther:e.target.value})}},{key:"handleChildrenAllowed",value:function(e){this.setState({childrenAllowed:"true"===e})}},{key:"handleInfantsAllowed",value:function(e){this.setState({infantAllowed:"true"===e})}},{key:"handlepricePerGuestEnabled",value:function(e){this.setState({pricePerGuestEnabled:"true"===e})}},{key:"handlePricePerGuest",value:function(e){var t=e.target.value;this.setState({pricePerGuest:t})}},{key:"pricePerGuestMinCapacity",value:function(e){var t=e.target.value;this.setState({pricePerGuestMinCapacity:t})}},{key:"redirectToAmenitiesList",value:function(){var e=this,t=this.state,a=t.hourlyPrice,n=t.maxNumberGuest,i=t.maxNumberGuestOther,o=t.childrenAllowed,r=t.infantAllowed,s=t.poolID,d=t.pricePerGuestEnabled,c=t.pricePerGuest,m=t.pricePerGuestMinCapacity;""!==n&&(n=parseInt(n)||0),""!==i&&(i=parseInt(i)||0);var u=this.props,p=u.backBtnChange,v=u.history;this.setState({loading:!0});var g={pool_id:parseInt(s)||"",hourly_price:a||15,max_number_guest:i||n||30,children_allowed:o||!1,infant_allowed:r||!1,price_per_guest_enabled:d||!1,price_per_guest:c||1,price_per_guest_min_capacity:m||10};this.props.client.mutate({mutation:Kd,variables:{data:g}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:s,hourlyPrice:g.hourly_price,maxNumberGuest:g.max_number_guest,childrenAllowed:!0===g.children_allowed?"Yes":"No",infantAllowed:!0===g.infant_allowed?"Yes":"No"},events:{RegistrationStep3:"RegistrationStep3"}}),!0===p)v.push("editpool");else{e.props.redirectToAmenitiesList(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("pricing_guest"===e)t.push("editpool");else{this.props.redirectToListingInfo(!1)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep,s=n.hostError,l=n.hourlyPrice,d=n.maxNumberGuest,c=n.childrenAllowed,m=n.infantAllowed,u=n.pricePerGuestEnabled,p=n.pricePerGuest,v=n.pricePerGuestMinCapacity,g=n.showOtherField,h=n.maxNumberGuestOther;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Pricing & Guests"),i.a.createElement("p",null,"Decide on your price per hour and guest rules.",i.a.createElement("br",null),"We recommend pricing your listing a bit lower at first,",i.a.createElement("br",null),"getting a few awesome reviews and raising your price later.")),""===s?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},s),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"How much would you like to charge?"),i.a.createElement(oi.a,{className:t.select,value:l,onChange:this.handleHourlyPrice,displayEmpty:!0},this.state.POOL_PRICE_LIST.map(function(e,t){return i.a.createElement(si.a,{value:e.key,key:"price-".concat(t)},"$ ",e.value)}))),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Would you like to charge an additional fee for extra guests?"),i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!1!==u?t.activeToggle:"",onClick:this.handlepricePerGuestEnabled.bind(this,"true")},"Yes"),i.a.createElement("li",{className:!1!==u?"":t.activeToggle,onClick:this.handlepricePerGuestEnabled.bind(this,"false")},"No"))),u?i.a.createElement("div",{className:t.formInputBox},i.a.createElement("div",null,"I would like to charge",i.a.createElement(oi.a,{className:t.select,value:p,onChange:this.handlePricePerGuest.bind(this),displayEmpty:!0},Ct.map(function(e,t){return i.a.createElement(si.a,{value:e,key:"price-".concat(t)},"$ ",e)})),"an hour"),i.a.createElement("div",null,"for every guest after",i.a.createElement(oi.a,{className:t.select,value:v,onChange:this.pricePerGuestMinCapacity.bind(this),displayEmpty:!0},Tt.map(function(e,t){return i.a.createElement(si.a,{value:e,key:"quests-".concat(t)},e," guests, per hour.")})))):"",i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"What is your pools maximum capacity?"),i.a.createElement("p",null,i.a.createElement(oi.a,{className:t.select,value:d,defaultValue:d,onChange:this.handleMaxNumberGuest,displayEmpty:!0},this.state.maxGuestsList.map(function(e,t){return i.a.createElement(si.a,{value:e,key:"quests-".concat(t)},e)}),i.a.createElement(si.a,{value:"Other",key:"quests-other"},"Other")),"guests"),g?i.a.createElement("div",{className:"textField"},i.a.createElement(Xe.a,{required:!0,id:"outlined-number-input",type:"tel",placeholder:"30",name:"number",autoComplete:"",inputMode:"numeric",margin:"normal",variant:"outlined",fullWidth:!0,value:h,onChange:this.handleMaxNumberGuestOther}),i.a.createElement("div",{className:t.perHourRight},"guests")):null),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Are children allowed? (age 2-12)"),i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!1!==c?t.activeToggle:"",onClick:this.handleChildrenAllowed.bind(this,"true")},"Yes"),i.a.createElement("li",{className:!1!==c?"":t.activeToggle,onClick:this.handleChildrenAllowed.bind(this,"false")},"No"))),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Are Infants allowed? (under 2)"),i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!1!==m?t.activeToggle:"",onClick:this.handleInfantsAllowed.bind(this,"true")},"Yes"),i.a.createElement("li",{className:!1!==m?"":t.activeToggle,onClick:this.handleInfantsAllowed.bind(this,"false")},"No"))),i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToAmenitiesList},!0===a?"Save":"Next")))))}}]),a}(i.a.Component);var Xd=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},formInputBox:{"& div":{marginLeft:0},"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},"& .textField":{marginLeft:10,marginTop:0,height:40,"& div":{marginTop:0}},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px",maxWidth:"40px",textAlign:"right","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"5px",bottom:"0",margin:"auto",height:"0px",left:"5px",color:e.palette.common.black,zIndex:"1","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},MiddleContainer:{marginTop:"-15px","& p":{fontWeight:"100",fontSize:"14px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px","@media (max-width:767px)":{marginBottom:"100px"}},toggleBox:{listStyle:"none",display:"flex",paddingLeft:"0",margin:"0","& li":{padding:"8px 30px",border:"1px solid #ccc",cursor:"pointer","&:first-child":{borderRadius:"5px 0px 0px 5px"},"&:last-child":{marginLeft:"-1px",borderRadius:"0px 5px 5px 0px"}}},toggleContainer:{height:56,padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),display:"flex",alignItems:"center",justifyContent:"flex-start",margin:"".concat(e.spacing.unit,"px 0")},perHourRight:{position:"relative",left:"90px",top:"-38px"},activeToggle:{border:"1px solid #12bfea !important",zIndex:1,color:"#12bfea !important"},select:{margin:"0 10px !important"}}},{withTheme:!0}),b.b,je.a)(function(e){var t=Object(n.useContext)(zi).region;return i.a.createElement(Zd,Object.assign({region:t},e))});function ec(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var tc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAmenitiesAdditional"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAmenitiesAdditionalInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAmenitiesAdditional"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146,source:{body:"mutation savePoolAmenitiesAdditional($data:PoolAmenitiesAdditionalInput!){\n  savePoolAmenitiesAdditional(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ac={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},nc=function(e){Object(h.a)(a,e);var t=ec(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:33.2,restroomAccess:!1,additionalAmenities:"",restroomDescription:"",poolID:"",loading:!1,hostError:""},n.handleAdditionalAmenities=n.handleAdditionalAmenities.bind(Object(g.a)(n)),n.handleRestRoomDescription=n.handleRestRoomDescription.bind(Object(g.a)(n)),n.redirectToDimensions=n.redirectToDimensions.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:ac,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n=/(<([^>]+)>)/gi;null!==a.data.pool.restroom_description&&""!==a.data.pool.restroom_description&&(a.data.pool.restroom_description=a.data.pool.restroom_description.replace(n,"")),null!==a.data.pool.additional_amenities&&""!==a.data.pool.additional_amenities&&(a.data.pool.additional_amenities=a.data.pool.additional_amenities.replace(n,"")),e.setState({restroomAccess:a.data.pool.restroom_access,additionalAmenities:a.data.pool.additional_amenities,restroomDescription:a.data.pool.restroom_description,loading:!1,poolID:t})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleAdditionalAmenities",value:function(e){this.setState({additionalAmenities:e.target.value})}},{key:"handleRestRoomDescription",value:function(e){this.setState({restroomDescription:e.target.value})}},{key:"handleRestRoomAccess",value:function(e){this.setState({restroomAccess:"true"===e})}},{key:"redirectToDimensions",value:function(){var e=this,t=this.state,a=t.restroomDescription,n=t.restroomAccess,i=t.additionalAmenities,o=t.poolID,r=this.props,s=r.backBtnChange,l=r.history;this.setState({loading:!0});var d={pool_id:parseInt(o)||"",restroom_access:n||!1,additional_amenities:i||"",restroom_description:a||""};this.props.client.mutate({mutation:tc,variables:{data:d}}).then(function(t){if(!0===s)l.push("editpool");else{e.props.redirectToDimensions(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("additional_amenties"===e)t.push("editpool");else{this.props.redirectToAmenitiesList(!1)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.hostError,s=n.activeStep,l=n.restroomAccess,d=n.restroomDescription,c=n.additionalAmenities;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:s}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Additional Amenities"),i.a.createElement("p",null,"List additional things that renters may be interested in")),""===r?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},r),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"CHANGING ROOM OR RESTROOM ACCESS?",i.a.createElement("p",null,"(Listings with restroom access often receive more requests and accommodate longer reservations)")),i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!1!==l?t.activeToggle:"",onClick:this.handleRestRoomAccess.bind(this,"true")},"Yes"),i.a.createElement("li",{className:!1!==l?"":t.activeToggle,onClick:this.handleRestRoomAccess.bind(this,"false")},"No"))),!0===l?i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"DESCRIBE RESTROOM / CHANGING ROOM ACCOMMODATIONS"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. The restroom is located inside the house",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:8,rows:3,value:d,onChange:this.handleRestRoomDescription,onInput:function(e){e.target.value=e.target.value.slice(0,140)}})):"",i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"ADDITIONAL AMENITIES"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. Bluetooth speakers, patio umbrellas",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:8,rows:8,value:c,onChange:this.handleAdditionalAmenities,onInput:function(e){e.target.value=e.target.value.slice(0,500)}})),i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToDimensions},!0===a?"Save":"Next")))))}}]),a}(i.a.Component),ic=C()(Object(T.withStyles)(function(e){return{addPoolContainer:{"& p":{fontWeight:"300",fontSize:"13px"}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px","& p":{textTransform:"none",margin:"0"}},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"7px",bottom:"0",margin:"auto",height:"0px",left:"9px","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"20px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px","@media (max-width:767px)":{marginBottom:"45px"}},toggleBox:{listStyle:"none",display:"flex",paddingLeft:"0",margin:"0",cursor:"pointer","& li":{padding:"8px 30px",border:"1px solid #ccc","&:first-child":{borderRadius:"5px 0px 0px 5px"},"&:last-child":{marginLeft:"-1px",borderRadius:"0px 5px 5px 0px"}}},activeToggle:{border:"1px solid #12bfea !important",zIndex:1,color:"#12bfea !important"}}},{withTheme:!0}),b.b,je.a)(nc);function oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var rc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolDimensions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolDimensionsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolDimensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:119,source:{body:"mutation savePoolDimensions($data:PoolDimensionsInput!){\n  savePoolDimensions(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},sc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},lc=function(e){Object(h.a)(a,e);var t=oc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:41.5,poolWidth:0,poolLength:0,shallowEnd:0,deepEnd:0,loading:!1,hostError:"",showPoolWidthError:!1,showPoolLengthError:!1,showShallowEndError:!1,showDeepEndError:!1},n.handlePoolWidth=n.handlePoolWidth.bind(Object(g.a)(n)),n.handlePoolLength=n.handlePoolLength.bind(Object(g.a)(n)),n.handleShallowEnd=n.handleShallowEnd.bind(Object(g.a)(n)),n.handleDeepEnd=n.handleDeepEnd.bind(Object(g.a)(n)),n.validatePoolWidth=n.validatePoolWidth.bind(Object(g.a)(n)),n.validatePoolLength=n.validatePoolLength.bind(Object(g.a)(n)),n.validateShallowEnd=n.validateShallowEnd.bind(Object(g.a)(n)),n.validateDeepEnd=n.validateDeepEnd.bind(Object(g.a)(n)),n.redirectToPrivacy=n.redirectToPrivacy.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:sc,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){null!==a.data.pool?e.setState({poolWidth:0===a.data.pool.pool_width?"":a.data.pool.pool_width,poolLength:0===a.data.pool.pool_length?"":a.data.pool.pool_length,shallowEnd:0===a.data.pool.shallow_end?"":a.data.pool.shallow_end,deepEnd:0===a.data.pool.deep_end?"":a.data.pool.deep_end,loading:!1,poolID:t}):e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handlePoolWidth",value:function(e){this.setState({poolWidth:e.target.value})}},{key:"handlePoolLength",value:function(e){this.setState({poolLength:e.target.value})}},{key:"handleShallowEnd",value:function(e){this.setState({shallowEnd:e.target.value})}},{key:"handleDeepEnd",value:function(e){this.setState({deepEnd:e.target.value})}},{key:"validatePoolWidth",value:function(){return this.setState({showPoolWidthError:!1}),!0}},{key:"validatePoolLength",value:function(){return this.setState({showPoolLengthError:!1}),!0}},{key:"validateShallowEnd",value:function(){return this.setState({showShallowEndError:!1}),!0}},{key:"validateDeepEnd",value:function(){return this.setState({showDeepEndError:!1}),!0}},{key:"validateForm",value:function(){var e=!1;return this.validatePoolWidth()||(e=!0),this.validatePoolLength()||(e=!0),this.validateShallowEnd()||(e=!0),this.validateDeepEnd()||(e=!0),!0!==e}},{key:"redirectToPrivacy",value:function(){var e=this,t=this.state,a=t.poolWidth,n=t.poolLength,i=t.shallowEnd,o=t.deepEnd,r=t.poolID,s=this.props,d=s.backBtnChange,c=s.history;this.setState({loading:!0});var m={pool_id:parseInt(r)||"",pool_width:a||"",pool_length:n||"",shallow_end:i||"",deep_end:o||""};this.props.client.mutate({mutation:rc,variables:{data:m}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:r,poolWidth:a,poolLength:n,shallowEnd:i,deepEnd:o},events:{RegistrationStep5:"RegistrationStep5"}}),!0===d)c.push("editpool");else{e.props.redirectToPrivacy(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("dimension"===e)t.push("editpool");else{this.props.redirectToAmenitiesAdditional(!1)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep,s=n.hostError,l=n.poolWidth,d=n.poolLength,c=n.shallowEnd,m=n.deepEnd,u=n.showPoolWidthError,p=n.showPoolLengthError,v=n.showDeepEndError,g=n.showShallowEndError;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"How big is your pool?"),i.a.createElement("p",null,"Enter your pool's dimensions and depth in ".concat(le?"feet":"meters"))),""===s?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},s),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox},i.a.createElement("span",{className:t.dollar},le?"ft":"m","."),i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Pool Area"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"0",type:"number",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,className:!1===p?"":t.errorMessage,value:d,onChange:this.handlePoolLength,onBlur:this.validatePoolLength,onInput:function(e){e.target.value<0&&(e.target.value=0)}})," ",i.a.createElement("div",{className:t.perHourRight},"Length")),i.a.createElement("div",{className:t.formInputBox+" "+t.formInputBoxIcon},i.a.createElement("span",{className:t.dollar},le?"ft":"m","."),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"0",type:"number",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,className:!1===u?"":t.errorMessage,value:l,onChange:this.handlePoolWidth,onBlur:this.validatePoolWidth,onInput:function(e){e.target.value<0&&(e.target.value=0)}}),i.a.createElement("div",{className:t.perHourRight+" "+t.perHourRightTwo},"Width")),i.a.createElement("div",{className:t.formInputBox},i.a.createElement("span",{className:t.dollar},le?"ft":"m","."),i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Depth of Pool"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"0",type:"number",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,className:!1===g?"":t.errorMessage,value:c,onChange:this.handleShallowEnd,onBlur:this.validateShallowEnd,onInput:function(e){e.target.value<0&&(e.target.value=0)}}),i.a.createElement("div",{className:t.perHourRight},"Shallowest point")),i.a.createElement("div",{className:t.formInputBox+" "+t.formInputBoxIcon},i.a.createElement("span",{className:t.dollar},le?"ft":"m","."),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"0",type:"number",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,className:!1===v?"":t.errorMessage,value:m,onChange:this.handleDeepEnd,onBlur:this.validateDeepEnd,onInput:function(e){e.target.value<0&&(e.target.value=0)}}),i.a.createElement("div",{className:t.perHourRight+" "+t.perHourRightTwo},"Deepest point")),i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToPrivacy},!0===a?"Save":"Next")))))}}]),a}(i.a.Component),dc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 25px 10px 15px",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px",maxWidth:"40px",textAlign:"left","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"60px",zIndex:"1",fontSize:"12px",fontWeight:"normal","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},perHourRight:{position:"absolute",left:"92px",top:"35px",fontWeight:"normal",fontSize:"12px"},perHourRightTwo:{top:"29px"},formInputBoxIcon:{marginTop:"-25px","& span":{top:"-12px"}},errorMessage:{"& input":{border:"1px solid red",borderRadius:"5px"}}}},{withTheme:!0}),b.b,je.a)(lc),cc=a(116),mc=a.n(cc);function uc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var pc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolPrivacy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolPrivacyInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolPrivacy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:110,source:{body:"mutation savePoolPrivacy($data:PoolPrivacyInput!){\n  savePoolPrivacy(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},vc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},gc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poolPrivacy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:60,source:{body:"query{\n  poolPrivacy{\n    id\n    title\n    description\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},hc=function(e){Object(h.a)(a,e);var t=uc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:58.1,privacyData:[],poolPrivacyID:"",loading:!1,hostError:"",poolID:""},n.handleCheckbox=n.handleCheckbox.bind(Object(g.a)(n)),n.redirectToRules=n.redirectToRules.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();this.setState({poolID:t,loading:!0}),this.props.client.query({query:gc,fetchPolicy:"network-only"}).then(function(t){null!==t.data.poolPrivacy&&e.setState({privacyData:t.data.poolPrivacy})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}),t?this.props.client.query({query:vc,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n=a.data.pool.privacy_policy,i=e.state.privacyData.map(function(e){return n&&n.id===e.id?e.checked=!0:e.checked=!1,e});e.setState({privacyData:i,loading:!1,poolID:t,poolPrivacyID:n.id})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}):this.setState({loading:!1})}},{key:"handleCheckbox",value:function(e){var t=this.state.privacyData.map(function(t){return e.target.value===t.id?t.checked=!0:t.checked=!1,t});this.setState({privacyData:t,poolPrivacyID:e.target.value})}},{key:"redirectToRules",value:function(){var e=this,t=this.state,a=t.poolPrivacyID,n=t.poolID,i=t.privacyData;i=ft.a.filter(i,{checked:!0});var o=this.props,r=o.backBtnChange,s=o.history;this.setState({loading:!0});var d={pool_id:parseInt(n)||"",pool_privacy_id:a||""};this.props.client.mutate({mutation:pc,variables:{data:d}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:n,privacyData:i},events:{RegistrationStep6:"RegistrationStep6"}}),!0===r)s.push("editpool");else{e.props.redirectToRules(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("privacy"===e)t.push("editpool");else{this.props.redirectToDimensions(!1)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep,s=n.privacyData,l=n.poolPrivacyID;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Pool privacy"),i.a.createElement("p",null,"How private is your pool and swimming area?")),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Pool's Privacy"),i.a.createElement(Hr.a,{component:"fieldset",className:t.formControl+" "+t.checkboxBtn},i.a.createElement(mc.a,{"aria-label":"Gender",name:"gender1",className:t.group,value:l,onChange:this.handleCheckbox},s.map(function(e,a){return i.a.createElement(ot.a,{value:e.id,className:e.checked?t.activeCheckbox:"",key:"privacy-".concat(e.id),control:i.a.createElement(zr.a,{checked:e.checked,disableRipple:!0,icon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Unchecked.png",className:t.checkedImg}),checkedIcon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Checked.png",className:t.checkedImg})}),label:i.a.createElement("div",{className:t.privacyTittle},i.a.createElement("span",null,e.title),i.a.createElement("div",null,e.description))})})))),""!==l?i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToRules},!0===a?"Save":"Next")):i.a.createElement(Ae.a,{variant:"button",className:t.disableBtn},"Next"))))}}]),a}(i.a.Component),fc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},checkedImg:{maxWidth:"20px"},PrivacyBox:{paddingLeft:"0","& li":{display:"flex",background:"#f3f5f5",marginBottom:"10px",padding:"20px 15px","& span":{paddingTop:"0"}}},PrivacyBoxLabel:{color:e.palette.common.black,fontWeight:"500",marginLeft:"-13px","& span":{display:"block",color:"#7b858b",fontSize:"12px",fontWeight:"normal"}},checkboxBtn:{"& > div > label":{background:" #f4f5f5",border:"1px solid #f4f5f5 ",marginBottom:"10px",padding:"25px 15px",width:"calc(100% - 0px)",margin:"5px 0","& > span:first-child":{marginTop:"-15px",paddingLeft:"0"}},"@media (max-width:767px)":{"& > div > label":{width:"calc(100% - 30px)"}}},privacyTittle:{"& > div":{fontSize:"12px",color:"#7b858b"},"& > span":{fontWeight:"500"},"& > img":{marginTop:"-10px"}},activeCheckbox:{background:"#fff !important",border:"1px solid #60bfed !important"},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default","&:hover":{background:"#ccc"},"@media (max-width:767px)":{marginTop:"35px"}}}},{withTheme:!0}),b.b,je.a)(hc);function kc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var bc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolRule"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolRuleInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolRule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:101,source:{body:"mutation savePoolRule($data:PoolRuleInput!){\n  savePoolRule(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},yc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"rules"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:63,source:{body:"query rules{\n  rules{\n    id\n    name\n    icon\n    active\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Nc=function(e){Object(h.a)(a,e);var t=kc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:66.43,rules:[],rulesdata:[],additionalRules:"",hostError:"",loading:!1},n.handleAdditionalRules=n.handleAdditionalRules.bind(Object(g.a)(n)),n.redirectToImages=n.redirectToImages.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:xc,fetchPolicy:"network-only"}).then(function(t){null!==t.data.rules?e.setState({rules:t.data.rules,loading:!1}):e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}),this.props.client.query({query:yc,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n=a.data.pool.rules,i=[],o=e.state.rules.map(function(e){var t=n.findIndex(function(t){return t.id===e.id});return e.checked=t>=0,e});o.filter(function(e){return e.checked}).map(function(e){return i.push(e.id)}).join(", ");null!==a.data.pool.additional_rules&&""!==a.data.pool.additional_rules&&(a.data.pool.additional_rules=a.data.pool.additional_rules.replace(/(<([^>]+)>)/gi,"")),e.setState({rules:o,rulesdata:i,additionalRules:a.data.pool.additional_rules,loading:!1,poolID:t})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleCheckbox",value:function(e,t){var a=[],n=this.state.rules.slice();n[e].checked=!n[e].checked,n.filter(function(e){return e.checked}).map(function(e){return a.push(e.id)}).join(", "),this.setState({rulesdata:a})}},{key:"handleAdditionalRules",value:function(e){this.setState({additionalRules:e.target.value})}},{key:"redirectToImages",value:function(){var e=this,t=this.state,a=t.rulesdata,n=t.additionalRules,i=t.poolID,o=this.props,r=o.backBtnChange,s=o.history,d=this.state.rules.filter(function(e){return e.checked});this.setState({loading:!0});var c={pool_rules_id:a||"",additional_rules:n||"",pool_id:parseInt(i)||""};this.props.client.mutate({mutation:bc,variables:{data:c}}).then(function(t){if(l.a.dataLayer({dataLayer:{poolId:i,rules:d,additionalRules:n},events:{RegistrationStep7:"RegistrationStep7"}}),!0===r)s.push("editpool");else{e.props.redirectToImages(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("rules"===e)t.push("editpool");else{this.props.redirectToPrivacy(!1)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.backBtnChange,o=this.state,r=o.loading,s=o.activeStep,l=o.hostError,d=o.rules,c=o.additionalRules;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:a.locationMain},i.a.createElement("div",{className:a.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===n?"":i.a.createElement(Id,{activeStep:s}),i.a.createElement("div",{className:a.contentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Pool Rules"),i.a.createElement("p",null,"Select any of the following that apply:")),""===l?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},l),i.a.createElement("div",{className:a.formContainer},i.a.createElement(lt.a,{container:!0,spacing:24,className:a.amentiesContainer},d.map(function(t,n){return i.a.createElement(lt.a,{item:!0,xs:6,sm:6,md:6},i.a.createElement(ot.a,{control:i.a.createElement(nt.a,{checked:!0===t.checked,onChange:e.handleCheckbox.bind(e,n),value:t.id,color:"primary",disableRipple:!0,icon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Unchecked.png",className:a.checkedImg}),checkedIcon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Checked.png",className:a.checkedImg})}),label:t.name}))})),i.a.createElement("div",{className:a.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Additional rules"),i.a.createElement(Xe.a,{id:"outlined-email-input",placeholder:"e.g. Please throw your trash in the trashbin",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:6,rows:6,value:c,onChange:this.handleAdditionalRules,onInput:function(e){e.target.value=e.target.value.slice(0,500)}})),i.a.createElement("div",{className:a.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToImages},!0===n?"Save":"Next")))))}}]),a}(i.a.Component),Sc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px",maxWidth:"40px",textAlign:"left","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"50px",zIndex:"1",fontWeight:"normal","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},contentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"},"& > div > div":{"& span":{padding:"3px 3px",fontSize:"13px"}}},checkedImg:{maxWidth:"20px"},nextButton:{marginTop:"35px"},amentiesContainer:{marginBottom:"15px","& > div ":{padding:"0px 0 0 18px !important"}}}}),b.b,je.a)(Nc);function wc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var _c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolImages"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolImageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolImages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:145,source:{body:"mutation savePoolImages($data:PoolImageInput!){\n  savePoolImages(data:$data){\n    status\n    message\n    images {\n    \turl\n    \tcover\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ec={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deletePoolImage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePoolImageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePoolImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:114,source:{body:"mutation deletePoolImage($data:DeletePoolImageInput!){\n  deletePoolImage(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Cc=function(e){Object(h.a)(a,e);var t=wc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:74.7,coverImage:[],addionalImages:[],loading:!1,hostError:"",coverImageStatus:!1,addionalImagesStatus:!1,poolID:"",coverPic:[],deleteId:"",deleteUrl:"",deleteIndex:"",deletecoverImage:"",deleteType:"",openConfirmBox:!1},n.triggerCoverImage=n.triggerCoverImage.bind(Object(g.a)(n)),n.triggerOtherImages=n.triggerOtherImages.bind(Object(g.a)(n)),n.setCoverImages=n.setCoverImages.bind(Object(g.a)(n)),n.setOtherImages=n.setOtherImages.bind(Object(g.a)(n)),n.redirectToCancellationPolicy=n.redirectToCancellationPolicy.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n.deleteImage=n.deleteImage.bind(Object(g.a)(n)),n.closePopup=n.closePopup.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.renderImages()}},{key:"triggerCoverImage",value:function(){this.refs.setCoverImage.click()}},{key:"triggerOtherImages",value:function(){this.refs.setOtherImage.click()}},{key:"renderImages",value:function(){var e=this,t=ie.getHostPoolID();t&&(this.setState({loading:!0}),this.props.client.query({query:Fc,variables:{id:t},fetchPolicy:"network-only"}).then(function(a){if(null!==a.data.pool){var n,i,o=a.data.pool.images;n=o.map(function(e){return!0===e.cover?e:""}).filter(function(e){return"object"===typeof e}),i=o.map(function(e){return!1===e.cover?e:""}).filter(function(e){return"object"===typeof e}),e.setState({coverImage:n,addionalImages:i,loading:!1,poolID:t})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"setCoverImages",value:function(){var e=this.refs.setCoverImage.files[0],t=new FileReader;t.readAsDataURL(e);var a="";t.onloadend=function(n){var i=t.result,o=e.name,r=e.size/1024/1024;if(-1!==o.indexOf("png")||-1!==o.indexOf("PNG")?a="png":-1!==o.indexOf("jpg")||-1!==o.indexOf("jpeg")?a="jpg":-1===o.indexOf("gif")&&-1===o.indexOf("GIF")||(a="gif"),"jpg"!==a&&"png"!==a&&"gif"!==a||null===a||""===a||void 0===a)this.setState({hostError:"Uploaded file is not a valid image. Only JPG, PNG and GIF files are allowed.",coverImage:[]});else if(r<5){var s={cover:!1,id:"",url:i};this.setState({coverImage:this.state.coverImage.concat(s),coverImageStatus:!0,hostError:""})}else this.setState({hostError:"Image size should be less than 5MB.",coverImage:[]})}.bind(this)}},{key:"deleteImage",value:function(){var e=this.state,t=e.deleteId,a=e.deleteUrl,n=e.deleteIndex,i=e.deletecoverImage;"cover"===e.deleteType?this.handleCoverImageDelete(t,a,n,i):this.handleOtherImageDelete(t,a,n,i),this.setState({openConfirmBox:!1})}},{key:"confirmCoverImageDelete",value:function(e,t,a,n){this.setState({deleteId:e,deleteUrl:t,deleteIndex:a,deletecoverImage:n,deleteType:"cover",openConfirmBox:!0})}},{key:"handleCoverImageDelete",value:function(e,t,a,n){var i=this,o=this.state.poolID;if(""!==e){this.setState({loading:!0});var r={pool_image_id:e||"",key:t||"",pool_id:parseInt(o)||""};this.props.client.mutate({mutation:Ec,variables:{data:r}}).then(function(e){i.renderImages()}).catch(function(e){var t=Gt(e);i.setState({hostError:t,loading:!1})})}else n.splice(a,1),this.setState({coverImage:n})}},{key:"setOtherImages",value:function(e,t,a,n){var i=this.refs.setOtherImage.files[0],o=new FileReader;o.readAsDataURL(i);var r="";o.onloadend=function(e){var t=o.result,a=i.name,n=i.size/1024/1024;if(-1!==a.indexOf("png")||-1!==a.indexOf("PNG")?r="png":-1!==a.indexOf("jpg")||-1!==a.indexOf("jpeg")?r="jpg":-1===a.indexOf("gif")&&-1===a.indexOf("GIF")||(r="gif"),"jpg"!==r&&"png"!==r&&"gif"!==r||null===r||""===r||void 0===r)this.setState({hostError:"Uploaded file is not a valid image. Only JPG, PNG and GIF files are allowed.\t"});else if(n<5){var s={cover:!0,id:"",url:t};this.setState({addionalImages:this.state.addionalImages.concat(s),addionalImagesStatus:!0,imageError:""})}else this.setState({hostError:"Image size should be less than 5MB."})}.bind(this)}},{key:"renderFirstImages",value:function(){var e=this,t=this.state.addionalImages,a=this.props.classes;return t.map(function(n,o){return i.a.createElement("li",{className:a.uploadOtherImages,key:o},i.a.createElement("img",{src:n.url,alt:""}),i.a.createElement("i",{className:"fa fa-trash",onClick:e.confirmOtherImageDelete.bind(e,n.id,n.url,o,t)}))})}},{key:"confirmOtherImageDelete",value:function(e,t,a,n){this.setState({deleteId:e,deleteUrl:t,deleteIndex:a,deletecoverImage:n,deleteType:"additional",openConfirmBox:!0})}},{key:"closePopup",value:function(){this.setState({openConfirmBox:!1})}},{key:"handleOtherImageDelete",value:function(e,t,a,n){var i=this,o=this.state.poolID;if(""!==e){this.setState({loading:!0});var r={pool_image_id:e||"",key:t||"",pool_id:parseInt(o)||""};this.props.client.mutate({mutation:Ec,variables:{data:r}}).then(function(e){i.renderImages()}).catch(function(e){var t=Gt(e);i.setState({hostError:t,loading:!1})})}else n.splice(a,1),this.setState({addionalImages:n})}},{key:"redirectToCancellationPolicy",value:function(){var e,t=this,a=this.state,n=a.coverImage,i=a.addionalImages,o=a.poolID,r=this.props,s=r.backBtnChange,d=r.history;e=i.map(function(e){return""===e.id?e.url:""}).filter(function(e){return"string"===typeof e});var c;c=n.map(function(e){return""===e.id?e.url:""}).filter(function(e){return"string"===typeof e}),this.setState({loading:!0});var m={cover_image:c[0]||"",other_images:e||"",pool_id:parseInt(o)||""};this.props.client.mutate({mutation:_c,variables:{data:m}}).then(function(e){var a=e.data.savePoolImages.images,n=ft.a.filter(a,{cover:!0}),i=ft.a.filter(a,{cover:!1});if(l.a.dataLayer({dataLayer:{poolId:o,coverImage:n,otherImage:i},events:{RegistrationStep8:"RegistrationStep8"}}),!0===s)d.push("editpool");else{t.props.redirectToCancellationPolicy(!0)}}).catch(function(e){var a=Gt(e);t.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("images"===e)t.push("editpool");else{this.props.redirectToRules(!1)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.backBtnChange,o=this.state,r=o.loading,s=o.activeStep,l=o.coverImage,d=o.addionalImages,c=o.hostError,m=o.openConfirmBox,u=o.deleteType;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===r?i.a.createElement(ut,{loading:r}):"",i.a.createElement("div",{className:a.locationMain},i.a.createElement("div",{className:a.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===n?"":i.a.createElement(Id,{activeStep:s}),i.a.createElement("div",{className:a.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Upload Images"),i.a.createElement("p",null,"Showcase your best pool photos! This may be the most important part of your listing!",i.a.createElement("br",null),"Make sure to capture the pool and any surrounding space that your guests will have access to.",i.a.createElement("br",null),"We recommend uploading a minimum of 3-5 landscape pictures.")),""===c?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},c),i.a.createElement("div",{className:a.formContainer},i.a.createElement("div",{className:a.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Cover photo upload"),0===l.length?i.a.createElement("div",{className:a.uploadImages},i.a.createElement("span",{className:a.uploadText,onClick:this.triggerCoverImage},"Upload your cover photo"),i.a.createElement("input",{id:"fileopen",ref:"setCoverImage",type:"file",name:"coverImage",onChange:this.setCoverImages})):i.a.createElement("div",null,0!==l.length&&l.map(function(t,n){return i.a.createElement("div",{className:a.uploadImages,key:"image-".concat(n)},i.a.createElement("img",{src:t.url,alt:""}),i.a.createElement("i",{className:"fa fa-trash",onClick:e.confirmCoverImageDelete.bind(e,t.id,t.url,n,l)}))}))),i.a.createElement("div",{className:a.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Upload additional photos"),i.a.createElement("ul",{className:a.uploadThumbs},i.a.createElement("p",null,"Add up to 9 additional photos"),this.renderFirstImages(),d.length<=8?i.a.createElement("li",{className:a.uploadinput},i.a.createElement("input",{id:"fileopen",ref:"setOtherImage",type:"file",name:"otherImage",onChange:this.setOtherImages}),i.a.createElement("img",{src:window.location.origin+"/img/plusIcon.png",alt:"",onClick:this.triggerOtherImages})):"")),i.a.createElement("div",{className:a.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToCancellationPolicy},!0===n?"Save":"Next")))),i.a.createElement(Je.a,{open:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:a.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},"cover"===u?"Are you sure you want delete cover photo?":"Are you sure you want delete additional photo?")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.deleteImage,autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"no"))))}}]),a}(i.a.Component),Tc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},uploadImages:{minHeight:"150px",background:"#f3f5f5",width:"80%",margin:"0",position:"relative","@media (max-width:767px)":{width:"100%"},"& input":{position:"absolute",width:"100%",height:"100%",zIndex:"9",cursor:"pointer",opacity:"0",visibility:"hidden"},figure:{margin:"0",display:"table"},"& img":{width:"100%"},"& i":{background:e.palette.common.white,padding:"7px",borderRadius:"50%",width:"18px",height:"18px",fontSize:"20px",position:"absolute",bottom:"11px",right:"7px",textAlign:"center",color:"#ccc",cursor:"pointer"}},uploadText:{position:"absolute",top:"0",bottom:"0",left:0,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"400",cursor:"pointer"},deletePopup:{"& span":{padding:"3px 20px"},"@media (max-width:767px)":{"& > div > div ":{margin:"15px"}}},formInputBox:{position:"relative",marginBottom:"20px"},uploadThumbs:{listStyle:"none",paddingLeft:"0",margin:0,"& li":{display:"inline-block",marginRight:"10px",marginBottom:"10px",width:"70px",position:"relative",height:"70px","& i":{background:e.palette.common.white,padding:"7px",borderRadius:"50%",width:"18px",height:"18px",fontSize:"20px",position:"absolute",bottom:"5px",right:"5px",textAlign:"center",color:"#ccc",cursor:"pointer"},"& img":{width:"70px",height:"70px",cursor:"pointer",borderRadius:"5px"}},"& P":{fontSize:"12px",marginTop:"5px",color:"#ccc",fontWeight:"100\t"}},uploadinput:{position:"relative","& input":{position:"absolute",width:"100%",height:"100%",opacity:"0",cursor:"pointer",visibility:"hidden"}}}},{withTheme:!0}),b.b,je.a)(Cc);function Pc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ic={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolCancellationPolicy"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolCancellationPolicyInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolCancellationPolicy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143,source:{body:"mutation savePoolCancellationPolicy($data:PoolCancellationPolicyInput!){\n  savePoolCancellationPolicy(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Dc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Oc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"cancellationPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"active"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancellationPolicies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"active"},value:{kind:"Variable",name:{kind:"Name",value:"active"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140,source:{body:"query cancellationPolicies($active: Boolean!){\n  cancellationPolicies(active: $active){\n    id\n    title\n  \tdescription\n    active    \n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Rc=function(e){Object(h.a)(a,e);var t=Pc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:83,cancellationPolicies:[],poolCancellationID:"",loading:!1,hostError:"",selectedPrivacy:!1,poolID:"",poolDetails:{}},n.handleCheckbox=n.handleCheckbox.bind(Object(g.a)(n)),n.redirectToPayout=n.redirectToPayout.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n.redirectToEditPool=n.redirectToEditPool.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ie.getHostPoolID();this.setState({poolID:t}),t&&(this.setState({loading:!0}),this.props.client.query({query:Oc,fetchPolicy:"network-only",variables:{active:!0}}).then(function(t){null!==t.data.cancellationPolicies?e.setState({cancellationPolicies:t.data.cancellationPolicies,loading:!1}):e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}),this.props.client.query({query:Dc,variables:{id:t},fetchPolicy:"network-only"}).then(function(t){if(null!==t.data.pool){var a=[],n=t.data.pool.cancellation_policy,i=e.state.cancellationPolicies.map(function(e){return null!==n&&n.id===e.id?e.checked=!0:e.checked=!1,e});i.filter(function(e){return e.checked}).map(function(e){return a.push(e.id)}).join(", "),e.setState({poolDetails:t.data.pool,cancellationPolicies:i,loading:!1,poolCancellationID:null!==n?n.id:""})}else e.setState({loading:!1})}).catch(function(t){var a=Gt(t);e.setState({loading:!1,hostError:a})}))}},{key:"handleCheckbox",value:function(e){var t=this.state.cancellationPolicies.map(function(t){return e.target.value===t.id?t.checked=!0:t.checked=!1,t});this.setState({cancellationPolicies:t,poolCancellationID:e.target.value})}},{key:"redirectToPayout",value:function(){var e=this,t=this.state,a=t.poolCancellationID,n=t.poolID,i=t.poolDetails;this.setState({loading:!0});var o={pool_id:parseInt(n)||"",pool_cancellation_id:a||""};this.props.client.mutate({mutation:Ic,variables:{data:o}}).then(function(t){var a=ie.getEditPoolStatus(),o=e.props.history,r={poolId:n,poolName:i.title,amenities:i.amenities,rules:i.rules,privacy:i.privacy_policy,price:i.hourly_price,userId:i.createdBy.id,hostEmail:i.createdBy.email,size:i.shallow_end,depth:i.deep_end,address:i.full_address,City:i.city,State:i.state,ZIP:i.zip_code};if(l.a.dataLayer({dataLayer:r,events:{hostPosting:"hostPosting"}}),"cancellation_policy"===a)o.push("editpool");else{e.props.redirectToPayout(!0)}}).catch(function(t){var a=Gt(t);e.setState({hostError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){var e=ie.getEditPoolStatus(),t=this.props.history;if("cancellation_policy"===e)t.push("editpool");else{this.props.redirectToImages(!1)}}},{key:"redirectToEditPool",value:function(){this.props.history.push("editpool")}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep,s=n.cancellationPolicies,l=n.poolCancellationID;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Cancellation Policy"),i.a.createElement("p",null,"Choose among the three cancellations policies")),i.a.createElement("div",{className:t.formContainer},i.a.createElement(Hr.a,{component:"fieldset",className:t.formControl+" "+t.checkboxBtn},i.a.createElement(mc.a,{"aria-label":"Gender",name:"gender1",className:t.group,value:l,onChange:this.handleCheckbox},s.map(function(e,a){return i.a.createElement(ot.a,{value:e.id,key:"privacy-".concat(e.id),className:e.checked?t.activeCheckbox:"",control:i.a.createElement(zr.a,{className:t.checkBox,checked:e.checked,disableRipple:!0,icon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Unchecked.png",className:t.checkedImg}),checkedIcon:i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Check-Checked.png",className:t.checkedImg})}),label:i.a.createElement("div",{className:t.privacyTittle},i.a.createElement("span",null,e.title),i.a.createElement("div",null,e.description))})}))),i.a.createElement("div",{className:t.nextButton},""!==l?i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToPayout},!0===a?"Save":"Next")):i.a.createElement(Ae.a,{variant:"button",className:t.disableBtn},"Next")))))}}]),a}(i.a.Component),Ac=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},checkedImg:{maxWidth:"20px"},PrivacyBox:{paddingLeft:"0","& li":{display:"flex",background:"#f3f5f5",marginBottom:"10px",padding:"20px 15px","& span":{paddingTop:"0"}}},PrivacyBoxLabel:{color:e.palette.common.black,fontWeight:"500",marginLeft:"-13px","& span":{display:"block",color:"#7b858b",fontSize:"12px",fontWeight:"normal"}},checkboxBtn:{"& > div > label":{background:" #f4f5f5",border:"1px solid #f4f5f5 ",marginBottom:"10px",padding:"25px 15px",width:"calc(100% - 30px)",margin:"5px 0","& > span:first-child":{paddingLeft:"0"}}},checkBox:{top:0,bottom:0,margin:"auto"},activeCheckbox:{background:"#fff !important",border:"1px solid #60bfed !important"},privacyTittle:{"& > div":{fontSize:"12px",color:"#7b858b"},"& > span":{fontWeight:"500"},"& > img":{marginTop:"-10px"}},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default","&:hover":{background:"#ccc"}}}}),b.b,je.a)(Rc);function Bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Mc=function(e){Object(h.a)(a,e);var t=Bc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:91.3},n.redirectToProfile=n.redirectToProfile.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stripe_id,a=e.user;if(t&&a.stripe_account_onboard){this.props.redirectToProfile(!0)}}},{key:"redirectToProfile",value:function(){this.props.redirectToProfile(!0)}},{key:"handleBackBtn",value:function(){this.props.handleNextScreen("payoutStatus","showManageCalendarScreen")}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.backBtnChange,n=this.state,o=n.loading,r=n.activeStep;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===o?i.a.createElement(ut,{loading:o}):"",i.a.createElement("div",{className:t.locationMain},i.a.createElement("div",{className:t.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),!0===a?"":i.a.createElement(Id,{activeStep:r}),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Set your payout method"),i.a.createElement("p",null,"Securely connect your bank account via Stripe to receive payouts from completed reservations."),i.a.createElement("p",null,"Payouts are sent 24 hours after a successful booking.")),i.a.createElement("div",null,i.a.createElement(bl,null,i.a.createElement(Ae.a,{className:t.managePaymentBtn},"Connect to Stripe")),i.a.createElement("div",{className:t.stripBottomContent},i.a.createElement("p",null,"You will be asked for the following (it only takes a minute)"),i.a.createElement("ul",null,i.a.createElement("li",null,"Your full legal name, email address, phone number, DOB, and address."),i.a.createElement("li",null,'For the "Industry" field, select "Property Rentals"'),i.a.createElement("li",null,"A bank account for us to send your funds to you.")),i.a.createElement("p",null,"And you're all set!")),i.a.createElement("div",{className:t.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToProfile},"Do This Later")))))}}]),a}(i.a.Component);var jc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px",maxWidth:"40px",textAlign:"right","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px",zIndex:"1","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},nextButton:{marginTop:"35px"},managePaymentBtn:{background:"transparent",border:"2px solid #22bfea",padding:"6px 15px",fontSize:"13px",fontWeight:"500",textTransform:"inherit","& span":{color:e.palette.common.black},"&:hover":{background:e.palette.common.blue,"& span":{color:e.palette.common.white}}},stripBottomContent:{marginTop:"15px",fontSize:"13px","& p":{marginBottom:"5px",marginTop:"0","&:last-child":{marginTop:"5px"}},"& ul":{listStyle:"outside decimal",paddingLeft:"25px",margin:"0"},"& li":{padding:"5px",lineHeight:"22px","& strong":{fontWeight:"500"}}}}}),b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Mc,Object.assign({},t,e))});function Lc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Wc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},zc=function(e){Object(h.a)(a,e);var t=Lc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={activeStep:99,profileImage:"",aboutYourself:"",loading:!1,imageError:"",isModify:!1},n.setCoverImages=n.setCoverImages.bind(Object(g.a)(n)),n.handleAboutYourself=n.handleAboutYourself.bind(Object(g.a)(n)),n.redirectToCompletedStatus=n.redirectToCompletedStatus.bind(Object(g.a)(n)),n.handleBackBtn=n.handleBackBtn.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){if(""!==this.props.profileImage){this.props.redirectToCompletedStatus(!0)}}},{key:"setCoverImages",value:function(){var e=this.refs.profileImage.files[0],t=new FileReader;t.readAsDataURL(e);var a="";t.onloadend=function(n){var i=t.result,o=e.name,r=e.size/1024/1024;-1!==o.indexOf("png")||-1!==o.indexOf("PNG")?a="png":-1!==o.indexOf("jpg")||-1!==o.indexOf("jpeg")?a="jpg":-1===o.indexOf("gif")&&-1===o.indexOf("GIF")||(a="gif"),"jpg"!==a&&"png"!==a&&"gif"!==a||null===a||""===a||void 0===a?(this.setState({imageError:"Uploaded file is not a valid image. Only JPG, PNG and GIF files are allowed.",profileImage:""}),document.getElementById("imageUpload").value=""):r<5?this.setState({profileImage:i,isModify:!0,imageError:""}):(this.setState({imageError:"Image size should be less than 5MB.",profileImage:""}),document.getElementById("imageUpload").value="")}.bind(this)}},{key:"handleAboutYourself",value:function(e){this.setState({aboutYourself:e.target.value})}},{key:"redirectToCompletedStatus",value:function(){var e=this,t=this.state,a=t.profileImage,n=t.aboutYourself,i=t.isModify;this.setState({loading:!0}),this.props.client.mutate({mutation:Wc,variables:{data:{description:n,image_url:a,isModify:i}}}).then(function(t){var a=ie.getHostPoolID();l.a.dataLayer({dataLayer:{poolId:a,profileImage:t.data.createProfile.image_url,description:n},events:{RegistrationStep9:"RegistrationStep9"}});e.props.redirectToCompletedStatus(!0)}).catch(function(t){var a=Gt(t);e.setState({loginFailError:a,loading:!1})})}},{key:"handleBackBtn",value:function(){this.props.stripe_id&&this.props.user.stripe_account_onboard?this.props.handleNextScreen("profileStatus","showManageCalendarScreen"):this.props.redirectToPayout(!1)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.loading,n=t.profileImage,o=t.aboutYourself,r=t.imageError;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",{className:e.locationMain},i.a.createElement("div",{className:e.backStep,onClick:this.handleBackBtn},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),i.a.createElement(Id,null),i.a.createElement("div",{className:e.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Add a personal touch"),i.a.createElement("p",null,"Upload a profile photo and short bio to give swimmers confidence booking your pool, and to other hosts if you ever want to book a pool!")),""===r?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},r),i.a.createElement("div",{className:e.formContainer},i.a.createElement("div",{className:e.formInputBox},i.a.createElement("div",{className:e.uploadInput},i.a.createElement(Na.a,{alt:"profile image",src:n||window.location.origin+"/img/profile-icon.png"}),i.a.createElement("input",{ref:"profileImage",type:"file",id:"imageUpload",name:"profileImage",onChange:this.setCoverImages}),i.a.createElement("p",null,"UPLOAD A PHOTO")),i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"Tell us about yourself"),i.a.createElement(Xe.a,{id:"outlined-email-input",type:"text",name:"email",autoComplete:"",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,rowsMax:6,rows:6,onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:o,onChange:this.handleAboutYourself}))),i.a.createElement("div",{className:e.nextButton},i.a.createElement(Oe.a,{variant:"button",onClick:this.redirectToCompletedStatus},"Finish")))))}}]),a}(i.a.Component);var Uc=C()(Object(T.withStyles)(function(e){return{stepperNew:{padding:"0",maxWidth:"350px","& > div":{background:e.palette.common.blue}},formInputBox:{"& > div > div ":{padding:"0"},"& label + div ":{marginTop:"0",marginBottom:"0",width:"100%"},position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px",maxWidth:"40px",textAlign:"left","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.5"}},"& textarea":{background:e.palette.common.gray,padding:"10px 15px ",border:"1px solid #f3f5f5",fontSize:"13px",width:"calc(100% - 30px)",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"},"&::placeholder":{color:"#000",opacity:"0.6"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"50px",zIndex:"1",fontWeight:"normal","& img":{maxWidth:"20px"}}},backStep:{marginBottom:"10px",color:e.palette.common.blue,cursor:"pointer",fontWeight:"500","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},formContainer:{maxWidth:"350px",paddingTop:"10px","@media (max-width:767px)":{maxWidth:"100%"}},nextButton:{marginTop:"35px"},uploadInput:{fontFamily:"'Poppins', sans-serif",position:"relative",paddingTop:"25px","& label":{letterSpacing:"0.5px"},"& input":{position:"absolute",left:0,right:0,width:"100%",margin:"auto",top:0,height:"100%",opacity:0,cursor:"pointer"},"& > div":{margin:"0 auto",width:"80px",height:"80px"},paddingBottom:"0",textAlign:"center","& p":{fontSize:"12px",color:e.palette.common.blue,cursor:"pointer",marginTop:"5px",paddingBottom:"8px"}}}}),b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(zc,Object.assign({},t,e))});function Hc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Gc=function(e){Object(h.a)(a,e);var t=Hc(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state.loading;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===t?i.a.createElement(ut,{loading:t}):"",i.a.createElement("div",{className:e.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Congratulations! Your pool has been submitted for review."),i.a.createElement("p",null,"Our team reviews every pool application before approving it to go live. This can take up to 24 hours (but usually a lot less). We may reach back out with a few tips and recommendations for your listing as well so look out for an email from us!"," ")),i.a.createElement(ze.a,{to:"/host"},i.a.createElement(Ae.a,{className:e.managePaymentBtn},"MY POOLS")))}}]),a}(i.a.Component),Yc=C()(Object(T.withStyles)(function(e){return{ContentContainer:{paddingTop:"15px","& p":{fontWeight:"100",fontSize:"13px"}},managePaymentBtn:{background:"transparent",border:"2px solid #22bfea",padding:"6px 15px",fontSize:"13px",fontWeight:"500",textTransform:"inherit","& span":{color:e.palette.common.black},"&:hover":{background:e.palette.common.blue,"& span":{color:e.palette.common.white}}}}}),b.b,je.a)(Gc),qc=a(75),Vc=a.n(qc),$c=a(80),Qc=a.n($c),Kc=function(){return{availabilityTipsContainer:{position:"relative","& h3":{fontSize:"18px",fontWeight:"500"}},textContainer:{padding:"20px 0"},subTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},closeButton:{position:"absolute",top:"5px",right:"5px",width:"20px",height:"20px",cursor:"pointer","& img":{width:"100%"}}}};function Jc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Zc=function(e){Object(h.a)(a,e);var t=Jc(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={show:!0},e.close=function(){e.setState({show:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=window.innerWidth<600,a=t?Vc.a:Qc.a,n=t?{direction:"up"}:{};return i.a.createElement(Je.a,{style:{backgroundColor:"transparent"},fullScreen:t,open:!0},i.a.createElement(a,Object.assign({in:this.state.show,onExited:this.props.handlePopup.bind(null,!1)},n),i.a.createElement(tt.a,{className:e.popupContainer},i.a.createElement("span",{className:e.closeButton,onClick:this.close},i.a.createElement("img",{src:"/img/close-button.png",alt:"Close icon"})),i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.availabilityTipsContainer},i.a.createElement(Oe.a,{variant:"h3"},"Availability tips"),i.a.createElement("div",{className:e.textContainer},i.a.createElement(Oe.a,{variant:"h4",className:e.title},"Booking window"),i.a.createElement("p",{className:e.subTitle},"At least 1 day notice can help you plan for a guest's arrival, but you might miss out on last-minute reservations."),i.a.createElement("p",{className:e.subTitle},"Most hosts keep their calendars updated up to 3 months out.")))))))}}]),a}(n.Component),Xc=C()(Object(T.withStyles)(Kc,{withTheme:!0}));Zc.defaultsProps={classes:{},handlePopup:function(){}};var em=Xc(Zc),tm=function(e){return{subTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},backContainer:{marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer","& a":{fontWeight:"500",color:e.palette.common.blue},"& i":{marginRight:"3px",marginTop:"-1px",fontSize:"22px",verticalAlign:" text-bottom"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,"& i":{fontSize:"30px"}}},stepperContainer:{marginBottom:"20px"},selectContainer:{margin:"40px 0"},select:{maxWidth:"300px",width:"100%"},title:{fontSize:"16px",fontWeight:"500"},selectSubTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},availabilityTipsContainer:{position:"relative",margin:"30px 0",padding:"15px",backgroundColor:e.palette.common.darkgray,boxSizing:"border-box","& h3":{fontSize:"18px",fontWeight:"500"},"& p":{margin:"0",paddingRight:"40px",color:"#fff"},"@media (max-width: 600px)":{position:"fixed",bottom:"0",left:"0",width:"100%",margin:"0"}},availabilityTipsButton:{position:"absolute",top:"10px",right:"20px",padding:"4px 10px",border:"1px solid #fff",borderRadius:"50%",color:"#fff",cursor:"pointer","@media (max-width: 600px)":{display:"none"}},availabilityTipsArrowButton:{display:"none",position:"absolute",top:"13px",right:"20px",height:"20px",width:"20px",border:"1px solid #fff",borderRadius:"50%",color:"#fff",cursor:"pointer","& img":{width:"100%",marginTop:"-1px",transform:"rotate(-90deg)"},"@media (max-width: 600px)":{display:"block"}},textContainer:{padding:"20px 0"},buttonContainer:{marginTop:"20px"}}};function am(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var nm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAvailabilityInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140,source:{body:"mutation savePoolAvailability($data:PoolAvailabilityInput!) {\n    savePoolAvailability(data:$data) {\n        status\n        message\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},im={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},om=function(e){Object(h.a)(a,e);var t=am(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showPopup:!1,poolId:null,availability:{notice:St[2].key,window:wt[4].key},defaultInstantBooking:!0},e.activeStep=86,e.onSelect=function(t,a){var n=a.target.value;e.setState({availability:_()(e.state.availability,Object(Fe.a)({},t,{$set:n}))})},e.handlePopup=function(t){e.setState({showPopup:t})},e.goToNextScreen=function(){e.save().then(function(){var t=e.state.defaultInstantBooking?"showLearnHowBookScreen":"showRequestsInstructionScreen";e.props.handleNextScreen("showAvailabilityScreen",t)})},e.goBack=function(){e.props.isEditing?e.props.history.goBack():e.props.handleNextScreen("showAvailabilityScreen","cancellationPolicyStatus")},e.save=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={pool_id:e.state.poolId,advance_notice:e.state.availability.notice,availability_window:e.state.availability.window},t.prev=1,t.next=4,e.props.client.mutate({mutation:nm,variables:{data:a}});case 4:n=t.sent,i=n.data.savePoolAvailability,l.a.dataLayer({dataLayer:{poolId:i.pool_id,advanceNotice:e.state.availability.notice,availabilityWindow:e.state.availability.window},events:{RegistrationStep1:"RegistrationStep10"}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:e.setState({loading:!1});case 13:case"end":return t.stop()}},t,null,[[1,9]])})));case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPoolData()}},{key:"getPoolData",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=parseInt(ie.getHostPoolID(),10),ie.getAccessToken()?this.setState({poolId:t},function(){a.setState({loading:!0},Object(m.a)(c.a.mark(function e(){var n,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.client.query({query:im,variables:{id:t},fetchPolicy:"network-only"});case 3:n=e.sent,i=n.data.pool,o=void 0===i?{}:i,a.setState({availability:_()(a.state.availability,{notice:{$set:o.advance_notice||St[2].key},window:{$set:o.availability_window||wt[4].key}}),defaultInstantBooking:"boolean"!==typeof o.default_instant_booking||o.default_instant_booking,loading:!1}),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(0),"Unauthenticated."!==Gt(e.t0)){e.next=17;break}return e.next=15,a.props.refreshToken(a.props.history);case 15:"ok"===e.sent&&a.getPoolData();case 17:a.setState({loading:!1});case 18:case"end":return e.stop()}},e,null,[[0,9]])})))}):ie.logoutAndSetPreviousUrl(this.props.history,this.props.location);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":!0})," BACK")),!this.props.isEditing&&i.a.createElement("div",{className:e.stepperContainer},i.a.createElement(Id,{activeStep:this.activeStep})),i.a.createElement(Oe.a,{variant:"h3"},"Availability"),i.a.createElement("p",{className:e.subTitle},"Automatically manage your calendar and which reservations you get."),i.a.createElement("div",{className:e.selectContainer},i.a.createElement(Oe.a,{variant:"h4",className:e.title},"Advance notice"),i.a.createElement("p",{className:e.selectSubTitle},"How much notice do you need before a guest arrives?"),i.a.createElement(oi.a,{className:e.select,value:this.state.availability.notice,onChange:this.onSelect.bind(null,"notice"),displayEmpty:!0},St.map(function(e,t){return i.a.createElement(si.a,{value:e.key,key:"availability-notice-".concat(t)},e.value)}))),i.a.createElement("div",{className:e.selectContainer},i.a.createElement(Oe.a,{variant:"h4",className:e.title},"Availability window"),i.a.createElement("p",{className:e.selectSubTitle},"Choose how far in advance guests can book your place."),i.a.createElement(oi.a,{className:e.select,value:this.state.availability.window,onChange:this.onSelect.bind(null,"window"),displayEmpty:!0},wt.map(function(e,t){return i.a.createElement(si.a,{value:e.key,key:"availability-window-".concat(t)},e.value)}))),i.a.createElement("div",{className:e.availabilityTipsContainer},i.a.createElement("p",{className:e.subTitle},"Check out more information about Availability settings."),i.a.createElement("span",{onClick:this.handlePopup.bind(null,!0),className:e.availabilityTipsButton},"?"),i.a.createElement("span",{onClick:this.handlePopup.bind(null,!0),className:e.availabilityTipsArrowButton},i.a.createElement("img",{src:"/img/Arrow-Right.png",alt:"Arrow icon"}))),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Oe.a,{variant:"button",onClick:this.goToNextScreen},"Next"))),this.state.loading&&i.a.createElement(ut,{loading:!0}),this.state.showPopup&&i.a.createElement(em,{handlePopup:this.handlePopup,fullScreen:!0}))}}]),a}(n.Component),rm=C()(Object(T.withStyles)(tm,{withTheme:!0}),b.b,je.a);om.defaultsProps={classes:{},handleNextScreen:function(){},isEditing:!1};var sm=rm(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(om,Object.assign({},t,e))}),lm=function(e){return{popupContainer:{maxWidth:"400px"},subTitle:{fontWeight:"100",fontSize:"15px",color:"black"},select:{marginRight:"5px"},buttonsContainer:{display:"flex",margin:"40px 0 0"},okButton:{maxWidth:"70px",transition:"all 0.2s ease"},cancelButton:{maxWidth:"70px",background:"transparent",color:e.palette.common.blue,transition:"all 0.2s ease","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.9"}},reduceMarginTop:{marginTop:"0"}}};function dm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var cm=function(e){Object(h.a)(a,e);var t=dm(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={guests:e.props.guests},e.onSelect=function(t){var a=t.target.value;e.setState({guests:a})},e.save=function(){e.props.handlePopup(!1,e.state.guests)},e.cancel=function(){e.props.handlePopup(!1)},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Je.a,{keepMounted:!0,open:!0},i.a.createElement(tt.a,{className:e.popupContainer},i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("p",{className:"".concat(e.subTitle," ").concat(e.reduceMarginTop)},"10 guests is the recommended maximum for pre-approved reservations but you may edit this number below."),i.a.createElement(oi.a,{className:e.select,value:this.state.guests,onChange:this.onSelect,displayEmpty:!0},_t.map(function(e,t){return i.a.createElement(si.a,{value:e,key:"quests-".concat(t)},e," guests")})),i.a.createElement("span",null,"guests")),i.a.createElement("div",{className:e.buttonsContainer},i.a.createElement(Oe.a,{variant:"button",className:e.okButton,onClick:this.save},"OK"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelButton,onClick:this.cancel},"Cancel"))))}}]),a}(n.Component),mm=C()(Object(T.withStyles)(lm,{withTheme:!0}));cm.defaultsProps={classes:{},handlePopup:function(){},guests:10};var um=mm(cm),pm=function(){return{container:{position:"relative","& h3":{fontSize:"18px",fontWeight:"500"}},formContainer:{marginTop:"20px"},subTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},closeButton:{position:"absolute",top:"5px",right:"5px",width:"20px",height:"20px",cursor:"pointer","& img":{width:"100%"}},checkbox:{width:"20px",height:"20px"},buttonContainer:{marginTop:"20px","& button[disabled]":{background:"#d1d4d8"}}}};function vm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var gm=function(e){Object(h.a)(a,e);var t=vm(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={show:!0,disabled:!0,data:[{title:"You'll only have 12 hours to respond to requests without penalty and 3 hours for any reservations that are for within 24 hours.",checked:!1},{title:"Guests may request up to 3 pools at a time and will only be charged for the first pool that approves.",checked:!1},{title:"Your listing will be ranked lower in search, so you may get fewer reservations.",checked:!1},{title:"You'll lose some host protection and controls, including penalty-free cancellations if you're uncomfortable with a reservation.",checked:!1}]},e.close=function(){e.setState({show:!1})},e.renderImage=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"/img/Check-Checked.png":"/img/Check-Unchecked.png";return i.a.createElement("img",{alt:"Checkbox",src:t,className:e.props.classes.checkbox})},e.renderLabel=function(e){return i.a.createElement("div",null,i.a.createElement("p",null,e))},e.handleCheckbox=function(t){e.setState({data:_()(e.state.data,Object(Fe.a)({},t,{checked:{$set:!e.state.data[t].checked}}))},function(){var t=!!e.state.data.find(function(e){return!e.checked});e.setState({disabled:t})})},e.submit=function(){e.props.goToNextScreen("showRequestsInstructionScreen",!1)},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=window.innerWidth<600,n=a?Vc.a:Qc.a,o=a?{direction:"up"}:{};return i.a.createElement(Je.a,{style:{backgroundColor:"transparent"},fullScreen:a,open:!0},i.a.createElement(n,Object.assign({in:this.state.show,onExited:this.props.handlePopup.bind(null,!1)},o),i.a.createElement(tt.a,null,i.a.createElement("span",{className:t.closeButton,onClick:this.close},i.a.createElement("img",{src:"/img/close-button.png",alt:"Close icon"})),i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement(Oe.a,{variant:"h3"},"Are you sure you want guests to send requests?"),i.a.createElement("div",{className:t.formContainer},i.a.createElement("p",{className:t.subTitle},"Check to confirm you understand:"),i.a.createElement(Hr.a,{component:"fieldset"},this.state.data.map(function(t,a){return i.a.createElement(ot.a,{value:a,key:"label-".concat(a),control:i.a.createElement(zr.a,{checked:t.checked,icon:e.renderImage(!1),checkedIcon:e.renderImage(!0),onClick:e.handleCheckbox.bind(null,a)}),label:e.renderLabel(t.title)})}))),i.a.createElement("div",{className:t.buttonContainer},i.a.createElement(Ae.a,{disabled:this.state.disabled,onClick:this.submit},"Ok")))))))}}]),a}(n.Component),hm=C()(Object(T.withStyles)(pm,{withTheme:!0}));gm.defaultsProps={classes:{},handlePopup:function(){},handleNextScreen:function(){}};var fm=hm(gm),km=function(e){return{subTitle:{fontWeight:"100",fontSize:"0.925rem",color:"black"},backContainer:{marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer","& a":{fontWeight:"500",color:e.palette.common.blue},"& i":{marginRight:"3px",marginTop:"-1px",fontSize:"22px",verticalAlign:" text-bottom"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,"& i":{fontSize:"30px"}}},stepperContainer:{marginBottom:"20px"},listContainer:{marginTop:"20px"},list:{display:"flex",flexDirection:"column",padding:"0",listStyleType:"none"},listItem:{display:"flex",alignItems:"flex-start"},listNumber:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px",padding:"6px 14px",border:"1px solid",borderColor:e.palette.common.blue,borderRadius:"50%"},buttonContainer:{marginTop:"20px"},link:{marginRight:"3px",marginLeft:"3px",textDecoration:"underline",fontSize:"0.875rem",fontWeight:"100",color:e.palette.common.blue,cursor:"pointer"}}};function bm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ym={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAvailabilityInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140,source:{body:"mutation savePoolAvailability($data:PoolAvailabilityInput!) {\n    savePoolAvailability(data:$data) {\n        status\n        message\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Nm=function(e){Object(h.a)(a,e);var t=bm(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,groupSize:10,showGuestsPopup:!1,showRequestsPopup:!1,poolId:null},e.activeStep=90,e.goToNextScreen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"showMonthsSettingsScreen",a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.save(a).then(function(){e.props.handleNextScreen("showLearnHowBookScreen",t)})},e.goBack=function(){e.props.handleNextScreen("showLearnHowBookScreen","showAvailabilityScreen")},e.handleGuestsPopup=function(t,a){e.setState({groupSize:a||e.state.groupSize,showGuestsPopup:t})},e.handleRequestsPopup=function(t){e.setState({showRequestsPopup:t})},e.save=Object(m.a)(c.a.mark(function t(){var a,n=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!(n.length>0&&void 0!==n[0])||n[0],e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var n,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={pool_id:e.state.poolId,default_instant_booking:a,instant_group_size:e.state.groupSize},t.prev=1,t.next=4,e.props.client.mutate({mutation:ym,variables:{data:n}});case 4:i=t.sent,o=i.data.savePoolAvailability,l.a.dataLayer({dataLayer:{poolId:o.pool_id,defaultInstantBooking:a,groupSize:e.state.groupSize},events:{RegistrationStep1:"RegistrationStep11"}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:e.setState({loading:!1});case 13:case"end":return t.stop()}},t,null,[[1,9]])})));case 2:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPoolData()}},{key:"getPoolData",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=parseInt(ie.getHostPoolID(),10),ie.getAccessToken()?this.setState({poolId:t},function(){a.setState({loading:!0},Object(m.a)(c.a.mark(function e(){var n,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.client.query({query:xm,variables:{id:t},fetchPolicy:"network-only"});case 3:n=e.sent,i=n.data.pool,(o=void 0===i?{}:i).default_instant_booking||"showRequestsInstructionScreen"===a.props.prevScreen?a.setState({groupSize:o.instant_group_size||10,loading:!1}):a.props.handleNextScreen("showLearnHowBookScreen","showRequestsInstructionScreen"),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(0),"Unauthenticated."!==Gt(e.t0)){e.next=17;break}return e.next=15,a.props.refreshToken(a.props.history);case 15:"ok"===e.sent&&a.getPoolData();case 17:a.setState({loading:!1});case 18:case"end":return e.stop()}},e,null,[[0,9]])})))}):ie.logoutAndSetPreviousUrl(this.props.history,this.props.location);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":!0})," BACK")),!this.props.isEditing&&i.a.createElement("div",{className:e.stepperContainer},i.a.createElement(Id,{activeStep:this.activeStep})),i.a.createElement(Oe.a,{variant:"h3"},"Learn how guests book on ",me?"Shvimply":"Swimply"),i.a.createElement("p",{className:e.subTitle},"Qualified groups with less than 10 guests can book available days without sending a reservation request."),i.a.createElement("div",{className:e.listContainer},i.a.createElement("ul",{className:e.list},i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"1"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"A guest finds your listing"),i.a.createElement("p",{className:e.subTitle},"Your listing will show up in search results. Remember to keep your calendar updated to avoid requests for days you can't host."))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"2"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"Qualified guests can book instantly"),i.a.createElement("p",{className:e.subTitle},i.a.createElement("span",{className:e.link,onClick:this.handleGuestsPopup.bind(null,!0,null)},"Groups with ",this.state.groupSize," or fewer guests"),"and who meet your requirements can book available time slots instantly. Larger groups can still send you a reservation request."),i.a.createElement("p",{className:e.link,onClick:this.handleRequestsPopup.bind(null,!0)},"I want to review every request"))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"3"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"You'll get a reservation confirmation"),i.a.createElement("p",{className:e.subTitle},"You'll get a confirmation when they book with information like trip details, how many guests will be arriving and the start and end time of the booking. Cancelling a reservation after confirmation may result in penalty per our terms of use. See terms",i.a.createElement("a",{className:e.link,href:"https://swimply.com/termsandconditions",rel:"noopener noreferrer",target:"_blank"},"here.")))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"4"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"We\u2019re here for you"),i.a.createElement("p",{className:e.subTitle},"Hosts have 12 hours to cancel on any reservation they are uncomfortable with penalty free. As always, our Host Care team is at your service 24/7."))))),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Oe.a,{variant:"button",onClick:this.goToNextScreen.bind(null,"showMonthsSettingsScreen",!0)},"Next"))),this.state.loading&&i.a.createElement(ut,{loading:!0}),this.state.showGuestsPopup&&i.a.createElement(um,{handlePopup:this.handleGuestsPopup,guests:this.state.groupSize}),this.state.showRequestsPopup&&i.a.createElement(fm,{handlePopup:this.handleRequestsPopup,goToNextScreen:this.goToNextScreen}))}}]),a}(n.Component),Sm=C()(Object(T.withStyles)(km,{withTheme:!0}),b.b,je.a);Nm.defaultsProps={classes:{},handleNextScreen:function(){},isEditing:!1,prevScreen:""};var wm=Sm(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Nm,Object.assign({},t,e))}),_m=function(e){return{subTitle:{fontWeight:"100",fontSize:"0.925rem",color:"black"},backContainer:{marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer","& a":{fontWeight:"500",color:e.palette.common.blue},"& i":{marginRight:"3px",marginTop:"-1px",fontSize:"22px",verticalAlign:" text-bottom"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,"& i":{fontSize:"30px"}}},stepperContainer:{marginBottom:"20px"},listContainer:{marginTop:"20px"},list:{display:"flex",flexDirection:"column",padding:"0",listStyleType:"none"},listItem:{display:"flex",alignItems:"flex-start"},listNumber:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px",padding:"6px 14px",border:"1px solid",borderColor:e.palette.common.blue,borderRadius:"50%"},conditionList:{paddingLeft:17},buttonContainer:{marginTop:"20px"},link:{marginRight:"3px",marginLeft:"3px",textDecoration:"underline",fontSize:"13px",fontWeight:"100",color:e.palette.common.blue,cursor:"pointer"},linkBold:{fontWeight:"bold"}}};function Em(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Fm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAvailabilityInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140,source:{body:"mutation savePoolAvailability($data:PoolAvailabilityInput!) {\n    savePoolAvailability(data:$data) {\n        status\n        message\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Cm=function(e){Object(h.a)(a,e);var t=Em(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,poolId:null},e.activeStep=90,e.getPoolData=function(){var t=ie.getHostPoolID();e.setState({poolId:t})},e.goToNextScreen=function(){e.props.handleNextScreen("showRequestsInstructionScreen","showMonthsSettingsScreen")},e.goBack=function(){e.props.handleNextScreen("showRequestsInstructionScreen","showAvailabilityScreen")},e.goBackToInstantBooking=function(){e.goToInstantBooking().then(function(){e.props.handleNextScreen("showRequestsInstructionScreen","showLearnHowBookScreen")})},e.goToInstantBooking=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={pool_id:e.state.poolId,default_instant_booking:!0},t.prev=1,t.next=4,e.props.client.mutate({mutation:Fm,variables:{data:a}});case 4:n=t.sent,i=n.data.savePoolAvailability,console.log(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:e.setState({loading:!1});case 13:case"end":return t.stop()}},t,null,[[1,9]])})));case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPoolData()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":!0})," BACK")),!this.props.isEditing&&i.a.createElement("div",{className:e.stepperContainer},i.a.createElement(Id,{activeStep:this.activeStep})),i.a.createElement(Oe.a,{variant:"h3"},"Learn how guests book on ",me?"Shvimply":"Swimply"),i.a.createElement("p",{className:e.subTitle}," "),i.a.createElement("div",{className:e.listContainer},i.a.createElement("ul",{className:e.list},i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"1"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"A guest finds your listing"),i.a.createElement("p",{className:e.subTitle},"Your listing will show up in search results. Remember to keep your calendar updated to avoid requests for days you can't host."))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"2"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"They send you a reservation request"),i.a.createElement("p",{className:e.subTitle},"Guests who are interested in your listing will send you a reservation request. You have 12 hours to approve or decline the reservation. For reservations within 24 hours, you will only have 3 hours to approve or decline."),i.a.createElement("p",{className:e.subTitle},"Once you approve a reservation request, the guest will need to confirm before being charged."),i.a.createElement("p",{className:e.subTitle},"The sooner you review and approve the request, the more likely the guest will confirm."),i.a.createElement("p",{className:e.subTitle},"Guests will not confirm the reservation if",i.a.createElement("ol",{type:"A",className:e.conditionList},i.a.createElement("li",null,i.a.createElement("p",{className:e.subTitle},"Another pool accepted their request sooner")),i.a.createElement("li",null,i.a.createElement("p",{className:e.subTitle},"The time no longer works for the guests")),i.a.createElement("li",null,i.a.createElement("p",{className:e.subTitle},"They find a pre approved pool")))),i.a.createElement("p",{className:e.link,onClick:this.goBackToInstantBooking},i.a.createElement("span",{className:e.linkBold},"I don't want to review every request")))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"3"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"You'll get a reservation confirmation"),i.a.createElement("p",{className:e.subTitle},"Once you accept a reservation, you'll get a confirmation email with the trip details, including the dates and how many total guests to expect. Cancelling a reservation after confirmation may result in penalty per our terms of use. See terms",i.a.createElement("a",{className:e.link,href:"https://swimply.com/termsandconditions",rel:"noopener noreferrer",target:"_blank"},"here.")))),i.a.createElement("li",{className:e.listItem},i.a.createElement("div",{className:e.listNumber},"4"),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h4"},"Want extra host protection?"),i.a.createElement("p",{className:e.subTitle},"When you set rules allowing some guests to book instantly, you immediately gain extra protection, including penalty-free cancellations for reservations you're uncomfortable with and additional host controls."))))),i.a.createElement("div",null,i.a.createElement("p",{className:e.link,onClick:this.goBackToInstantBooking},i.a.createElement("span",{className:e.linkBold},"Get extra protection by allowing some guests to book instantly >"))),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Oe.a,{variant:"button",onClick:this.goToNextScreen},"Next"))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component),Tm=C()(Object(T.withStyles)(_m,{withTheme:!0}),b.b,je.a);Cm.defaultsProps={classes:{},handleNextScreen:function(){},isEditing:!1};var Pm=Tm(Cm),Im=function(){return{monthsList:{display:"flex",flexWrap:"wrap",maxWidth:"280px",padding:"0",listStyleType:"none"},monthItem:{width:"33.3333%",padding:"4px",border:"1px solid #eef0f1",textAlign:"center",fontSize:"12px",fontWeight:"600",cursor:"pointer",boxSizing:"border-box"},activeMonthItem:{background:"#22bfea",color:"#fff",borderColor:"#5ed1f1"}}};function Dm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Om=function(e){Object(h.a)(a,e);var t=Dm(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={months:[{value:"Jan.",key:1,active:!1},{value:"Feb.",key:2,active:!1},{value:"Mar.",key:3,active:!1},{value:"Apr.",key:4,active:!1},{value:"May",key:5,active:!1},{value:"Jun.",key:6,active:!1},{value:"Jul.",key:7,active:!1},{value:"Aug.",key:8,active:!1},{value:"Sep.",key:9,active:!1},{value:"Oct.",key:10,active:!1},{value:"Nov.",key:11,active:!1},{value:"Dec.",key:12,active:!1}]},e.handleActiveMonths=function(){if(e.props.activeMonths.length){var t=Object(pt.a)(e.state.months);e.props.activeMonths.forEach(function(e){t[e-1].active=!0}),e.setState({months:t})}},e.toggleMonth=function(t){e.setState({months:_()(e.state.months,Object(Fe.a)({},t,{active:{$set:!e.state.months[t].active}}))},function(){var t=e.state.months.filter(function(e){return e.active}).map(function(e){return e.key});e.props.handleChange(t)})},e}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(e){e.activeMonths!==this.props.activeMonths&&this.handleActiveMonths()}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("ul",{className:t.monthsList},this.state.months.map(function(a,n){return i.a.createElement("li",{key:"month-".concat(n),className:"".concat(t.monthItem," ").concat(a.active?t.activeMonthItem:""),onClick:e.toggleMonth.bind(null,n)},i.a.createElement("p",null,a.value))})))}}]),a}(n.Component),Rm=C()(Object(T.withStyles)(Im,{withTheme:!0}));Om.defaultsProps={classes:{},handleChange:function(){},activeMonths:[]};var Am=Rm(Om),Bm=function(e){return{backContainer:{marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer","& a":{fontWeight:"500",color:e.palette.common.blue},"& i":{marginRight:"3px",marginTop:"-1px",fontSize:"22px",verticalAlign:" text-bottom"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,"& i":{fontSize:"30px"}}},stepperContainer:{marginBottom:"20px"},subTitle:{fontWeight:"100",fontSize:"15px",color:"black"},buttonContainer:{marginTop:"40px"},marginTop:{marginTop:"40px"},link:{display:"inline-block",marginRight:"3px",marginLeft:"3px",textDecoration:"underline",fontSize:"13px",fontWeight:"100",color:e.palette.common.blue,cursor:"pointer"},time:{fontWeight:"100",fontSize:"13px",margin:"0"},inputRangeContainer:{maxWidth:"200px",padding:"6px 0","& .input-range__track--active":{background:"#00a6e2"},"& .input-range__slider-container > div":{borderColor:e.palette.common.white,boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",background:e.palette.common.white},"& .input-range__label-container":{display:"none"}},displayTimerRange:{display:"flex",padding:"5px 0","& div":{fontSize:"14px",fontWeight:"500",textAlign:"center",color:e.palette.common.black,"& div":{width:"100%",fontSize:"13px",fontWeight:"500"}},"& span":{margin:"0 10px"}},nextButton:{width:"100%",padding:"10px 15px","&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)"}},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default","&:hover":{background:"#ccc"}}}};function Mm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var jm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolAvailabilityInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140,source:{body:"mutation savePoolAvailability($data:PoolAvailabilityInput!) {\n    savePoolAvailability(data:$data) {\n        status\n        message\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Lm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Wm=function(e){Object(h.a)(a,e);var t=Mm(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showRange:!1,timeRange:{min:9,max:21},displayTime:{min:"9 am",max:"9 pm"},available:{from:"9:00 AM",to:"9:00 PM"},activeMonths:[],poolId:null},e.activeStep=97,e.formatAvailableTime=function(e){var t=e.available_from,a=e.available_to;return{from:fe.find(function(e){return e.time_insert===t}).time_insert,to:fe.find(function(e){return e.time_insert===a}).time_insert}},e.formatTimeRange=function(e){var t=e.available_from,a=e.available_to;return{min:fe.find(function(e){return e.time_insert===t}).timeNumber,max:fe.find(function(e){return e.time_insert===a}).timeNumber}},e.formatDisplayTime=function(e){var t=e.available_from,a=e.available_to;return{min:fe.find(function(e){return e.time_insert===t}).displayTime,max:fe.find(function(e){return e.time_insert===a}).displayTime}},e.goToNextScreen=function(){e.save().then(function(){e.props.isEditing?e.props.history.goBack():(e.props.setAvailableMonths(e.state.activeMonths),e.props.handleNextScreen("showMonthsSettingsScreen","showManageCalendarScreen"))})},e.goBack=function(){var t=e.props.prevScreen||"showLearnHowBookScreen";e.props.handleNextScreen("showMonthsSettingsScreen",t)},e.handleMonthsChange=function(t){e.setState({activeMonths:t})},e.handleTimeRange=function(t){var a,n,i=t.min,o=t.max;a=(a=fe.find(function(e){return e.timeNumber===i}))?a.time_insert:"09:00:00",n=(n=fe.find(function(e){return e.timeNumber===o}))?n.time_insert:"21:00:00",i=(i=fe.find(function(e){return e.timeNumber===i}))?i.displayTime:"9 am",o=(o=fe.find(function(e){return e.timeNumber===o}))?o.displayTime:"9 pm",e.setState({displayTime:_()(e.state.displayTime,{min:{$set:i},max:{$set:o}}),available:_()(e.state.available,{from:{$set:a},to:{$set:n}}),timeRange:{min:t.min,max:t.max}})},e.save=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={pool_id:e.state.poolId,months_open:e.state.activeMonths,available_from:e.state.available.from,available_to:e.state.available.to},t.prev=1,t.next=4,e.props.client.mutate({mutation:jm,variables:{data:a}});case 4:n=t.sent,i=n.data.savePoolAvailability,e.setState({loading:!1}),l.a.dataLayer({dataLayer:{poolId:i.pool_id,months:e.state.activeMonths,available_from:e.state.available.from,available_to:e.state.available.to},events:{RegistrationStep1:"RegistrationStep12"}}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),e.setState({loading:!1});case 14:case"end":return t.stop()}},t,null,[[1,10]])})));case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPoolData()}},{key:"getPoolData",value:function(){var e=this,t=parseInt(ie.getHostPoolID(),10);ie.getAccessToken()?this.setState({poolId:t},function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function a(){var n,i,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.client.query({query:Lm,variables:{id:t},fetchPolicy:"network-only"});case 3:n=a.sent,i=n.data.pool,o=void 0===i?{}:i,e.setState({activeMonths:o.months.map(function(e){return e.month_number}),available:e.formatAvailableTime(o),displayTime:e.formatDisplayTime(o),timeRange:e.formatTimeRange(o),loading:!1}),a.next=18;break;case 9:if(a.prev=9,a.t0=a.catch(0),"Unauthenticated."!==Gt(a.t0)){a.next=17;break}return a.next=15,e.props.refreshToken(e.props.history);case 15:"ok"===a.sent&&e.getPoolData();case 17:e.setState({loading:!1});case 18:case"end":return a.stop()}},a,null,[[0,9]])})))}):ie.logoutAndSetPreviousUrl(this.props.history,this.props.location)}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":!0})," BACK")),!this.props.isEditing&&i.a.createElement("div",{className:e.stepperContainer},i.a.createElement(Id,{activeStep:this.activeStep})),i.a.createElement("div",{className:e.marginTop},i.a.createElement(Oe.a,{variant:"h3"},"What months is your pool open?"),i.a.createElement("p",{className:e.subTitle},"Tap on the months your pool will be open. Any month not tapped will automatically make those dates unavailable."),i.a.createElement(Am,{activeMonths:this.state.activeMonths,handleChange:this.handleMonthsChange})),i.a.createElement("div",{className:e.marginTop},i.a.createElement(Oe.a,{variant:"h3"},"What time frame will you be renting out your pool?"),i.a.createElement("p",{className:e.subTitle},"Set the earliest and latest times your pool would be available. You will edit your pool\u2019s exact availability later."),i.a.createElement("div",{className:e.inputRangeContainer},i.a.createElement(jo.a,{maxValue:24,minValue:7,value:this.state.timeRange,step:1,onChange:this.handleTimeRange})),i.a.createElement("div",{className:e.displayTimerRange},i.a.createElement("div",null,"From",i.a.createElement("div",null,this.state.displayTime.min)),i.a.createElement("span",null,"-"),i.a.createElement("div",null,"To",i.a.createElement("div",null,this.state.displayTime.max)))),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Ae.a,{variant:"button",disabled:!this.state.activeMonths.length,onClick:this.goToNextScreen,className:"".concat(this.state.activeMonths.length?e.nextButton:e.disableBtn)},this.props.isEditing?"Save":"Next"))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component),zm=C()(Object(T.withStyles)(Bm,{withTheme:!0}),b.b,je.a);Wm.defaultsProps={classes:{},handleNextScreen:function(){},setAvailableMonths:function(){},isEditing:!1,prevScreen:""};var Um=zm(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Wm,Object.assign({},t,e))}),Hm=a(118),Gm=a.n(Hm),Ym=a(138),qm=a.n(Ym);a(870),a(872);function Vm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var $m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Qm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolUnAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolTimesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolUnAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:110,source:{body:"mutation savePoolUnAvailability($data:PoolTimesInput!){\n  savePoolUnAvailability(data:$data){\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Km={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolInstants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolTimesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolInstants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:98,source:{body:"mutation savePoolInstants($data:PoolTimesInput!){\n  savePoolInstants(data:$data){\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Jm=[{time:"7AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"07:00:00"},{time:"8AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"08:00:00"},{time:"9AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"09:00:00"},{time:"10AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"10:00:00"},{time:"11AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"11:00:00"},{time:"12PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"12:00:00"},{time:"1PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"13:00:00"},{time:"2PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"14:00:00"},{time:"3PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"15:00:00"},{time:"4PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"16:00:00"},{time:"5PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"17:00:00"},{time:"6PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"18:00:00"},{time:"7PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"19:00:00"},{time:"8PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"20:00:00"},{time:"9PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"21:00:00"},{time:"10PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"22:00:00"},{time:"11PM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"23:00:00"},{time:"12AM",activeClass:"",instaBookingClass:"",disable:!1,time_insert:"00:00:00"}],Zm=[{day:"SU",active:!1,day_name:"Sun"},{day:"M",active:!1,day_name:"Mon"},{day:"T",active:!1,day_name:"Tue"},{day:"W",active:!1,day_name:"Wed"},{day:"TH",active:!1,day_name:"Thu"},{day:"F",active:!1,day_name:"Fri"},{day:"SA",active:!1,day_name:"Sat"}],Xm=function(e){Object(h.a)(a,e);var t=Vm(a);function a(e){var n;Object(p.a)(this,a);var i=!1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(i=!0),(n=t.call(this,e)).handleChange=function(e){return function(t){if("repeat"===e)if(!1===t.target.checked){var a;n.setState((a={},Object(Fe.a)(a,e,t.target.checked),Object(Fe.a)(a,"days",ui()(Zm)),a))}else{var i,o=ui()(Zm),r=new Date(n.state.selectedDate);o[r.getDay()].active=!0,r=r.setDate(r.getDate()+7),r=new Date(r),n.setState((i={},Object(Fe.a)(i,e,t.target.checked),Object(Fe.a)(i,"endDate",r),Object(Fe.a)(i,"days",o),i))}else n.setState(Object(Fe.a)({},e,t.target.checked))}},n.closePopup=function(){this.setState({popupStatus:!1,repeat:!1})},n.forwaredTutorial=function(e,t){11===e&&(e="",t=""),n.setState({tutorialStep:e,tutorial:t});var a=document.getElementById("body");switch(""===t?a.classList.remove("calendar_tutorial"):a.classList.add("calendar_tutorial"),e){case 5:n.manageInstaBooking("tutorial");break;case 6:var i=ui()(Zm),o=new Date(n.state.selectedDate);i[o.getDay()].active=!0,o=o.setDate(o.getDate()+7),o=new Date(o),n.setState({repeat:!0,endDate:o,days:i});break;case 7:break;case 9:n.manageUnAvailities("tutorial");break;default:n.setState({popupStatus:!1})}},n.state={selectedDate:new Date,popupStatus:!1,timeDetails:ui()(Jm),days:ui()(Zm),checkedA:!0,repeat:!1,loading:!1,poolDetails:{},instaTimes:[],poolUnavailabilities:[],popupType:"",endDate:new Date,isMobile:i,isOpen:!1,showDate:"",tutorial:ie.getStartTutorial(),tutorialStep:1,popupError:""},n.handleCalender=n.handleCalender.bind(Object(g.a)(n)),n.manageInstaBooking=n.manageInstaBooking.bind(Object(g.a)(n)),n.manageUnAvailities=n.manageUnAvailities.bind(Object(g.a)(n)),n.closePopup=n.closePopup.bind(Object(g.a)(n)),n.selectAll=n.selectAll.bind(Object(g.a)(n)),n.selectTime=n.selectTime.bind(Object(g.a)(n)),n.clickDay=n.clickDay.bind(Object(g.a)(n)),n.makeUnavailabel=n.makeUnavailabel.bind(Object(g.a)(n)),n.addInstaBooking=n.addInstaBooking.bind(Object(g.a)(n)),n.handleChangeDate=n.handleChangeDate.bind(Object(g.a)(n)),n.toggleCalendar=n.toggleCalendar.bind(Object(g.a)(n)),n.updateDimensions=n.updateDimensions.bind(Object(g.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(g.a)(n)),ie.removeStartTutorial(),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),window.addEventListener("resize",this.updateDimensions);var e=this.props.history,t=parseInt(this.props.match.params.id);isNaN(t)?e.push("/host"):this.getPoolData()}},{key:"updateDimensions",value:function(){var e=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(e=!0),this.setState({isMobile:e})}},{key:"handleChangeDate",value:function(e){this.setState({endDate:e}),this.toggleCalendar()}},{key:"toggleCalendar",value:function(e){var t=this.state.repeat;this.state.isMobile&&(e&&e.preventDefault(),(!0===this.state.isOpen||!0===t&&!1===this.state.isOpen)&&this.setState({isOpen:!this.state.isOpen}))}},{key:"getPoolData",value:function(){var e=this,t=parseInt(this.props.match.params.id),a=ie.getAccessToken(),n=ie.getUserID(),i=this.props.history;void 0!==a&&null!==a&&""!==a?(this.setState({loading:!0,poolId:t}),this.props.client.query({query:$m,variables:{id:t},fetchPolicy:"network-only"}).then(function(t){t.data.pool&&t.data.pool.createdBy&&t.data.pool.createdBy.id===n?e.setState({loading:!1,poolDetails:t.data.pool,hourlyPrice:t.data.pool.hourly_price},function(){e.handleCalender(e.state.selectedDate,"init")}):i.push("/host")}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==Gt(a)){t.next=6;break}return t.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===t.sent&&e.getPoolData();case 6:e.setState({loading:!1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())):(ie.logout(),ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),i.push("/"))}},{key:"handleDateChange",value:function(e){"undefined"!==typeof e.target&&""!==e.target?this.setState(Object(Fe.a)({},e.target.name,e.target.value)):this.setState({endDate:e,isOpen:!1})}},{key:"handleCalender",value:function(e,t){var a=this.state.poolDetails,n="";n="init"===t?new Date(e):new Date(e.date),this.setState({selectedDate:n});var i=gt()(n).format("YYYY-MM-DD"),o=ft.a.filter(a.pool_unavailabilities,{date:i}),r=ft.a.filter(a.pool_instant,{date:i});o=this.setTimeOrder(o),r=this.setTimeOrder(r),this.setState({instaTimes:r,poolUnavailabilities:o})}},{key:"setTimeOrder",value:function(e){e=ft.a.orderBy(e,["time"],["asc"]);for(var t=[],a="",n="",i="",o=function(o){var r="";r=o>9?o+":00:00":"0"+o+":00:00";var s=e.findIndex(function(e){return e.time===r});s>=0?""===a?(a=gt()(e[s].date+" "+e[s].time).format("h:mma"),i=gt()(e[s].date+" "+e[s].time).add(1,"hours").format("h:mma")):n=gt()(e[s].date+" "+e[s].time).add(1,"hours").format("h:mma"):""!==a&&(a=""!==n?a+" - "+n:a+" - "+i,t.push(a),n="",a="",i="")},r=0;r<=Jm.length;r++)o(r);return t}},{key:"manageInstaBooking",value:function(e){var t=this.state,a=t.selectedDate,n=t.poolDetails,i=gt()(a).format("YYYY-MM-DD"),o=ft.a.filter(n.pool_unavailabilities,{date:i}),r=ft.a.filter(n.pool_instant,{date:i}),s=ui()(Jm);if(void 0!==e&&""!==e&&"tutorial"===e)s[7].activeClass="active",s[8].activeClass="active",s[16].activeClass="active",s[17].activeClass="active";else for(var l=0;l<Jm.length;l++){var d=ft.a.filter(o,{time:s[l].time_insert});d.length>=1&&(s[l].disable=!0);var c=ft.a.filter(r,{time:s[l].time_insert});0===d.length&&c.length>=1&&(s[l].activeClass="active")}var m=new Date(this.state.selectedDate);m=m.setDate(m.getDate()+7),m=new Date(m),this.setState({popupStatus:!0,popupType:"insta",repeat:!1,days:ui()(Zm),timeDetails:s,endDate:m,popupError:""})}},{key:"addInstaBooking",value:function(){var e=this,t=this.state,a=t.selectedDate,n=t.timeDetails,i=t.days,o=t.repeat,r=t.poolDetails,s=t.endDate,l=gt()(a).format("YYYY-MM-DD");s=gt()(s).format("YYYY-MM-DD");var d=r.id,u=ft.a.filter(n,{activeClass:"active"});u=ft.a.map(u,"time_insert");var p=ft.a.filter(i,{active:!0});if(p=ft.a.map(p,"day_name"),!1===o||!0===o&&p.length>=1&&""!==s){var v={pool_id:d,available_date:l,available_time:u,repeat_availablitlity:o,end_date:s,days:p};this.setState({loading:!0}),this.props.client.mutate({mutation:Km,variables:{data:v}}).then(function(t){"true"===t.data.savePoolInstants.status?(e.setState({popupStatus:!1}),e.getPoolData()):e.setState({loading:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==(n=Gt(a))){t.next=7;break}return t.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===t.sent&&e.addInstaBooking(),n="";case 7:e.setState({loading:!1,popupError:n});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"manageUnAvailities",value:function(e){var t=this.state,a=t.selectedDate,n=t.poolDetails;a=gt()(a).format("YYYY-MM-DD");var i=ft.a.filter(n.pool_unavailabilities,{date:a}),o=ft.a.filter(n.pool_instant,{date:a}),r=ui()(Jm);if(void 0!==e&&""!==e&&"tutorial"===e)r[0].activeClass="active",r[1].activeClass="active",r[2].activeClass="active",r[3].activeClass="active",r[16].activeClass="active",r[17].disable=!0,r[8].disable=!0,r[9].disable=!0;else for(var s=0;s<Jm.length;s++){var l=ft.a.filter(o,{time:r[s].time_insert});l.length>=1&&(r[s].disable=!0);var d=ft.a.filter(i,{time:r[s].time_insert});0===l.length&&d.length>=1&&(r[s].activeClass="active")}var c=new Date(this.state.selectedDate);c=c.setDate(c.getDate()+7),c=new Date(c),this.setState({popupStatus:!0,popupType:"unavailities",timeDetails:r,repeat:!1,days:ui()(Zm),endDate:c,popupError:""})}},{key:"makeUnavailabel",value:function(){var e=this,t=this.state,a=t.selectedDate,n=t.timeDetails,i=t.days,o=t.repeat,r=t.poolDetails,s=t.endDate,l=gt()(a).format("YYYY-MM-DD");s=gt()(s).format("YYYY-MM-DD");var d=r.id,u=ft.a.filter(n,{activeClass:"active"});u=ft.a.map(u,"time_insert");var p=ft.a.filter(i,{active:!0});if(p=ft.a.map(p,"day_name"),!1===o||!0===o&&p.length>=1&&""!==s){var v={pool_id:d,available_date:l,available_time:u,repeat_availablitlity:o,end_date:s,days:p};this.setState({loading:!0}),this.props.client.mutate({mutation:Qm,variables:{data:v}}).then(function(t){"true"===t.data.savePoolUnAvailability.status?(e.setState({popupStatus:!1}),e.getPoolData()):e.setState({loading:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==(n=Gt(a))){t.next=7;break}return t.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===t.sent&&e.makeUnavailabel(),n="";case 7:e.setState({loading:!1,popupError:n});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},{key:"clickDay",value:function(e,t){var a=this.state,n=a.days;!0===a.repeat&&(!1===n[t].active?n[t].active=!0:n[t].active=!1,this.setState({days:n}))}},{key:"selectAll",value:function(){for(var e=this.state.timeDetails,t=0;t<Jm.length;t++)!1===e[t].disable&&(e[t].activeClass="active"),t===Jm.length-1&&this.setState({timeDetails:e})}},{key:"selectTime",value:function(e,t){var a=this.state.timeDetails;!1===a[t].disable&&(""!==a[t].activeClass?a[t].activeClass="":a[t].activeClass="active",this.setState({timeDetails:a}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.loading,o=a.poolDetails,r=a.popupError,s=a.selectedDate,l=a.timeDetails,d=a.poolUnavailabilities,c=a.instaTimes,m=a.popupType,u=a.days,p=a.endDate,v=a.repeat,g=a.tutorial,h=a.tutorialStep,f=new Date((new Date).setDate((new Date).getDate())),k=l.map(function(a,n){return i.a.createElement("li",{key:n,className:(""!==a.activeClass&&"unavailities"===m?t.dayUnavailable:a.disable&&t.isInsta)||""!==a.activeClass&&"insta"===m&&t.dayInsta,onClick:function(t){return e.selectTime(t,n)},disabled:"insta"===m&&a.disable},a.time)}),b=u.map(function(a,n){return i.a.createElement("li",{key:n,className:!0===a.active&&t.activeWeek,onClick:function(t){return e.clickDay(t,n)}},a.day)}),y=ft.a.filter(u,{active:!0});y=ft.a.map(y,"day_name");var x=!0;return(!1===v||!0===v&&y.length>=1&&""!==p)&&(x=!1),i.a.createElement(Oe.a,{variant:"body1",className:""!==h?"tutorialStepContainer":"",component:"div"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.editPoolcontainer},i.a.createElement("div",{className:t.backStep},i.a.createElement(ze.a,{to:"/host"},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK"))),i.a.createElement("div",{className:t.formContainer},i.a.createElement("div",{className:(3===h?"popShowTut":"")+" manageCalender poolTimeManagements"},i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3",className:3===h?"popShowTut":""},"Manage Availability",i.a.createElement("span",{className:(10===h?"tutorialLastStep":"")+" "+t.tutorialInfo},i.a.createElement(ze.a,{to:"/tutorial/"+o.id},i.a.createElement("img",{src:"/img/tutorial_info.png",alt:"",onClick:function(t){return e.forwaredTutorial(1,"start")}})),i.a.createElement("span",{className:"tutorialLastStepTooltip"},"That's all! Tap here anytime to view this tutorial again."),i.a.createElement("p",{className:"tutorialLastPara"},"Got a question or feedback? ",i.a.createElement("span",null,"Get in touch at ",i.a.createElement("a",{href:"mailto:hostcare@swimply.com"},"hostcare@swimply.com")))))),i.a.createElement(Pi.a.Form,null,i.a.createElement(Pi.a.FormGroup,null,i.a.createElement("label",null,i.a.createElement(Pi.a.Calendar,{theme:"bootstrap",layout:"liquid",weeks:1,display:"inline",placeholder:"Please Select...",value:s,onDayChange:this.handleCalender,min:f},i.a.createElement("input",{type:"hidden"})))))),i.a.createElement("div",{className:t.calenderContent},i.a.createElement(Oe.a,{variant:"h3"},i.a.createElement(vi.a,{format:"MMMM DD"},s)),i.a.createElement("p",{className:t.calenderBlueText},"Instant Booking slots are 80% more likely to get reserved than regular slots."),i.a.createElement("div",{className:t.instantBookings},i.a.createElement("div",{className:(4===h?"popShowTutDiv":"")+" "+t.instantBookingsContainer},i.a.createElement("div",{className:"instantRow"},i.a.createElement("div",{className:"instaBookTootip"},"Tap ",i.a.createElement("span",{className:"plus"},"+")," to create instant booking time slots."),i.a.createElement("div",null,i.a.createElement("label",null,"Instant Booking"),i.a.createElement("label",{className:t.blueBookings,onClick:this.manageInstaBooking},i.a.createElement("img",{alt:"",src:"/img/plus2.jpg"})," Manage timeslots")),0!==c.length?i.a.createElement("ul",null,c.map(function(e){return i.a.createElement("li",null,e)})):""),i.a.createElement("p",{className:"instaBookPara"},"Instant hours are 80% more likely to get booked and appear higher on search results.")),i.a.createElement("div",{className:t.devider}),i.a.createElement("div",{className:(8===h?"popShowUnavailable":"")+" "+t.instantBookingsContainer+" tutorailInsta"},i.a.createElement("div",{className:"instantRow"},i.a.createElement("div",{className:"instaBookTootip"},"Tap ",i.a.createElement("span",{className:"plus"},"+")," to create unavailable hours."),i.a.createElement("div",null,i.a.createElement("label",null,"Unavailable"),i.a.createElement("label",{className:t.blueBookings,onClick:this.manageUnAvailities},i.a.createElement("img",{alt:"",src:"/img/plus2.jpg"})," Manage timeslots"),0!==d.length?i.a.createElement("ul",null,d.map(function(e){return i.a.createElement("li",null,e)})):"")),i.a.createElement("p",{className:"instaBookPara"},"Hosts block out unavailable time slots to avoid having  to decline unwanted bookings (declining too many bookings results in lower ratings)."))))))),i.a.createElement(Je.a,{className:t.calenderManegemetPopMain+" "+t.calenderTimerPop+" "+(""!==h?"tutorialStepPopup":""),open:this.state.popupStatus,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,{className:"calenderManegemetPop"},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("div",{className:(5===h||9===h?"step5Tutotial":"")+" "+(9===h?"step9Tutotial":"")},i.a.createElement(Oe.a,{variant:"h3",className:"selectDatetitle"},i.a.createElement(vi.a,{format:"MMMM DD"},s)," ",i.a.createElement("span",{onClick:this.selectAll},"Select all")),i.a.createElement("ul",{className:"time_block time_block_manage"},k,5===h&&i.a.createElement("div",{className:"instaBookTootipninth instaBookTootipFifthNew"},"Tap on the hours you would like to make available for instant booking."),9===h&&i.a.createElement("div",{className:"instaBookTootipninth"},"Same as before. Tap on the hours you would like to block and feel free to repeat the schedule."))),i.a.createElement("div",null,i.a.createElement("div",{className:t.weekView},i.a.createElement("div",{className:(6===h?"step6Tutotial":"")+" "+t.instantstep6Tutotial},i.a.createElement("h3",null,"Repeat this availability"),i.a.createElement(Gm.a,{checked:this.state.repeat,onChange:this.handleChange("repeat"),value:"repeat",color:"primary",className:t.switchBox}),i.a.createElement("div",{className:!1===v?t.addOpacity:""},i.a.createElement("ul",null,b),i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"End Date"),!this.state.isMobile&&i.a.createElement(qm.a,{fixedHeight:!0,customInput:i.a.createElement(tu,{repeat:v,value:this.state.endDate}),selected:this.state.endDate,minDate:new Date(this.state.selectedDate),dateFormat:"MM/dd/yyyy",popperPlacement:"top-start",onChange:this.handleDateChange}),this.state.isMobile&&i.a.createElement("div",null,i.a.createElement("button",{className:t.dateButton,onClick:this.toggleCalendar},i.a.createElement(vi.a,{format:"MM / DD / YY"},this.state.endDate))),this.state.isMobile&&this.state.isOpen&&i.a.createElement(qm.a,{selected:this.state.endDate,onChange:this.handleChangeDate,onSelect:this.handleChangeDate,minDate:new Date(this.state.selectedDate),withPortal:!0,onClickOutside:this.toggleCalendar,inline:!0,fixedHeight:!0})),""===r?"":i.a.createElement(Oe.a,{variant:"caption",component:"p"},r)),i.a.createElement("div",{className:"instaBookTootipSix"},"Tap here if you would like to repeat this schedule on other days. Then select the days of the week on which to repeat and an end date.")),i.a.createElement("div",{className:(7===h?"step7Tutotial":"")+" "+t.manageButtons+" "+(x?t.defaultReservationBtn:"")},"insta"===m?i.a.createElement(Oe.a,{variant:"button",onClick:this.addInstaBooking},"Mark as instant booking"):i.a.createElement(Oe.a,{variant:"button",onClick:this.makeUnavailabel,className:t.markAsUnavial},"Mark as UNAVAILABLE"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup,className:"cancelBtn"},"Cancel"),i.a.createElement("div",{className:"instaBookTootipSeven"},"Once you're all set, tap here to save your changes.")))),i.a.createElement("div",{className:(10===h?"step10Tutotial":"")+" "+t.manageButtons+" "+(x?t.defaultReservationBtn:"")},i.a.createElement("div",{className:"instaBookTootipSeven"},"Once youre all set top here to save your changes."))))),void 0!==g&&null!==g&&"start"===g&&i.a.createElement("div",{className:t.availabilityTooltip+" "+(5===h||6===h||7===h||9===h?"availabilityTooltipHidden":"")},1===h&&i.a.createElement("div",{className:t.availabilityTooltipOne},i.a.createElement("div",{className:t.containerTut},i.a.createElement("div",{className:t.tutorialContainer},i.a.createElement("div",{className:t.contentTutBox},i.a.createElement("p",null,"There are three types of availability on ",me?"Shvimply":"Swimply",":")),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("h6",null,i.a.createElement("img",{alt:"",src:"/img/verified.png"})," Available"),i.a.createElement("p",{className:t.paddingLeftIndent},"Guests can request a specific time slot which you will be able to accept or decline. Once you have accepted a booking request the swimmer can proceed to checkout.")),i.a.createElement("li",null,i.a.createElement("h6",null,i.a.createElement("img",{alt:"",src:"/img/time.png"})," Instant Booking Hours"),i.a.createElement("p",{className:t.paddingLeftIndent},"Swimmers can skip the approval process and instantly proceed to checkout for a seamless experience.")),i.a.createElement("li",null,i.a.createElement("h6",null,i.a.createElement("img",{alt:"",src:"/img/circle.png"})," Unavailable Hours"),i.a.createElement("p",{className:t.paddingLeftIndent},"Hours that swimmers can neither request nor book AKA Do Not Disturb. "))))),i.a.createElement("div",{className:t.tutorialFooter},i.a.createElement("div",{className:t.containerTut},i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial(2,"start")}},"NEXT"),i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial("","")}},"SKIP")))),2===h&&i.a.createElement("div",null,i.a.createElement("div",{className:t.availabilityTooltipTwo},i.a.createElement("div",{className:t.containerTut},i.a.createElement("div",{className:t.tutorialContainer},i.a.createElement("div",{className:t.contentTutBox},i.a.createElement("p",null,"By default, all hours are ",i.a.createElement("strong",null,"Available")," by request.")),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"Swimmers may request multiple pools. The faster you respond, the more likely the swimmers will confirm your booking."))))),i.a.createElement("div",{className:t.tutorialFooter},i.a.createElement("div",{className:t.containerTut},i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial(3,"start")}},"Next"),i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial("","")}},"Skip")))),i.a.createElement("div",{className:t.availabilityTooltipTwo})),""!==h&&h>2&&i.a.createElement("div",{className:t.tutorialFooter},i.a.createElement("div",{className:t.containerTut+" "+t.footerTabs},10===h?i.a.createElement("span",{className:"finishTutorial",onClick:function(t){return e.forwaredTutorial("","")}},"FINISH TUTORIAL"):i.a.createElement("div",null,i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial(h+1,"start")}},"Next"),i.a.createElement("span",{onClick:function(t){return e.forwaredTutorial("","")}},"Skip"))))))}}]),a}(i.a.Component),eu=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",position:"fixed",top:"0",background:"#fff",zIndex:"23",height:"100%",overflow:"auto"}},containerTut:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1279px)":{padding:"0px 0px"}},addPoolContainer:{"& p":{fontWeight:"100"}},backStep:{marginBottom:"10px","& a":{color:e.palette.common.blue,fontWeight:"500"},"& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"10px",position:"absolute",top:"12px","& a":{color:e.palette.common.black},"& i":{fontSize:"30px"}}},ContentContainer:{paddingTop:"0","& h3":{fontSize:"20px",marginBottom:"12px",paddingTop:"15px"},"& p":{fontWeight:"100",fontSize:"14px",margin:"2px 0 0"},"@media (max-width:767px)":{"& h3":{fontSize:"14px",marginBottom:"0px",padding:"20px 20px 15px",textAlign:"center",boxShadow:"none",margin:" 0px",textTransform:"uppercase"}}},formContainer:{maxWidth:"380px",paddingTop:"0"},editPoolcontainer:{padding:"60px 0","@media(max-width:767px)":{padding:"0 0 20px 0"}},calenderBlueText:{padding:"10px 15px",color:e.palette.common.blue,background:"#edf6fa",fontSize:"12px"},instantBookings:{textTransform:"uppercase",fontWeight:"500",fontSize:"13px",color:e.palette.common.black,marginTop:"20px","@media(max-width:479px)":{fontSize:"12px"},"& img":{verticalAlign:"middle",marginTop:"-2px",width:"19px",marginRight:"5px"},"& li":{textTransform:"none"}},blueBookings:{float:"right",color:e.palette.common.blue,letterSpacing:"0",cursor:"pointer"},instantBookingsContainer:{marginTop:"15px",paddingBottom:"15px","& label":{letterSpacing:"1px"},"& ul":{paddingLeft:"6px",listStyle:"none","& li":{padding:"6px 0"}}},devider:{borderTop:"1px solid #efefef"},calenderManegemetPop:{padding:"0 0 10px",minHeight:"480px",width:"380px","& h3":{fontSize:"16px",padding:"0 15px","& span":{cursor:"pointer",fontSize:"13px",float:"right",border:"2px solid #00b0e4",padding:"5px 10px",fontWeight:"100",marginTop:"-6px",borderRadius:"5px"},"@media(max-width:767px)":{fontSize:"18px"}},"@media(max-width:767px)":{width:"340px"}},weekView:{marginTop:"0px",position:"relative",display:"table",width:"100%","& h3":{fontSize:"13px",fontWeight:"500",color:e.palette.common.black,textTransform:"uppercase",letterSpacing:"1px"},"& ul":{padding:"0 0px",listStyle:"none",display:"flex"},"& li":{cursor:"pointer",width:"15%",border:"1px solid #ccc",height:"40px",textAlign:"center",marginRight:"5px",fontSize:"12px",fontWeight:"100",display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.black},"& > div:last-child":{position:"relative"}},formInputBox:{padding:"0px 0px","& label + div ":{marginTop:"0",marginBottom:"0",width:"50%"},position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.6px",marginBottom:"3px"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"10px 15px ",fontWeight:"normal",border:"1px solid #f3f5f5",fontSize:"13px",borderRadius:"5px","&:focus":{border:"1px solid #00ade2"}},"& span":{position:"absolute",top:"3px",bottom:"0",margin:"auto",height:"0px",left:"9px"}},manageButtons:{padding:"0 15px",marginTop:"17px","& span":{display:"inline-block",padding:"4px 24px",fontWeight:"400","@media(max-width:479px)":{width:"100%",padding:"4px 0px"}},"& span:last-child":{background:"transparent",color:e.palette.common.blue,paddingRight:"0","&:hover":{background:"transparent"}},"@media(max-width:767px)":{"& span":{marginBottom:"0px"},"& span:first-child":{marginBottom:"10px"}}},switchBox:{position:"absolute",right:"0",top:0},activeWeek:{border:"1px solid #20a3e0 !important",background:"#f3f5f5"},dayUnavailable:{background:"#f3f5f5",color:"#c2c2c2 !important",borderColor:" #e6e3e3  !important"},dayInsta:{background:"url(/img/time.png)",color:"#c2c2c2",border:"1px solid #eef0f1",backgroundRepeat:" no-repeat",backgroundPosition:"right 5px bottom 5px",backgroundSize:"16px"},isInsta:{background:"url(/img/time.png)",color:"#c2c2c2",backgroundRepeat:" no-repeat",backgroundPosition:"right 5px bottom 5px",backgroundSize:"16px"},defaultReservationBtn:{"& span:first-child":{background:"#ccc",display:"inline-block",padding:"4px 28px",fontWeight:"400",color:"#a7a3a3"},"& span:first-child:hover":{background:"#ccc",cursor:"default"},"@media (max-width:767px)":{"& span:first-child":{padding:"6px 8px",display:"block",marginBottom:"15px"}}},addOpacity:{opacity:"0.5"},markAsUnavial:{padding:"4px 45px !important"},dateButton:{background:"#f3f5f5",padding:"11px 15px",boxShadow:"none",border:"none",fontSize:"15px",marginBottom:"6px",outline:"none"},calenderManegemetPopMain:{"@media (max-width:767px)":{"& > div > div":{margin:"0"}}},availabilityTooltip:{position:"fixed",background:"rgba(0,0,0,0.8)",top:"0",minHeight:"100vh",width:"100%",zIndex:"11",paddingTop:"95px",maxHeight:"100vh","@media (max-width:767px)":{paddingTop:"45px",overflowY:"scroll"}},tutorialContainer:{maxWidth:"310px","@media (max-width:479px)":{maxWidth:"100%",padding:"0px 30px"},"@media (min-width:480px) and (max-width:1279px)":{padding:"0px 30px"},"& ul":{listStyle:"none",padding:"0",color:e.palette.common.white,paddingBottom:"180px","& li":{marginTop:"20px"},"& h6":{margin:"0 0 5px",fontSize:"14px",fontWeight:"500","& img":{maxWidth:"17px",verticalAlign:"middle",filter:"brightness(0) invert(1)",marginRight:"5px"}},"& p":{margin:"0",fontSize:"13px",fontWeight:"300"}}},paddingLeftIndent:{paddingLeft:"26px"},contentTutBox:{background:e.palette.common.blue,color:e.palette.common.white,padding:"1px 35px",borderRadius:"10px",textAlign:"center","@media (max-width:767px)":{padding:"1px 55px"}},tutorialFooter:{position:"fixed",width:"100%",background:e.palette.common.blue,bottom:"0",right:"0",padding:"15px 15px",color:"#fff",zIndex:"9999","@media (max-width: 767px)":{background:e.palette.common.transparent},"& span":{padding:"10px 55px",float:"right",borderRadius:"5px",fontWeight:"500",cursor:"pointer",textTransform:"uppercase","&:hover":{opacity:"0.8"}},"& span:first-child":{background:e.palette.common.white,color:e.palette.common.blue,"@media (max-width:767px)":{background:e.palette.common.blue,color:e.palette.common.white}},"@media (max-width:767px)":{"& span":{marginRight:"0px"}},"@media (min-width:768px) and (max-width:1279px)":{"& span":{marginRight:"15px"}}},calenderTimerPop:{position:"absolute"},tutorialInfo:{cursor:"pointer","& img":{maxWidth:"22px",verticalAlign:"middle",marginLeft:"10px"},"@media (max-width:767px)":{float:"right",marginTop:"-2px"}},footerTabs:{textAlign:"center"}}},{withTheme:!0}),je.a,b.b),tu=function(e){Object(h.a)(a,e);var t=Vm(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,!1===this.props.repeat?i.a.createElement("button",{className:"date_button"},i.a.createElement(vi.a,{format:"MM / DD / YY"},this.props.value)):i.a.createElement("button",{className:"date_button",onClick:this.props.onClick},i.a.createElement(vi.a,{format:"MM / DD / YY"},this.props.value)))}}]),a}(i.a.Component);var au=eu(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Xm,Object.assign({},t,e))});function nu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var iu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolUnAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolTimesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolUnAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:110,source:{body:"mutation savePoolUnAvailability($data:PoolTimesInput!){\n  savePoolUnAvailability(data:$data){\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ou={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolDaysUnAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolDaysInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolDaysUnAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailabilities"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138,source:{body:"mutation savePoolDaysUnAvailability($data:PoolDaysInput!){\n  savePoolDaysUnAvailability(data:$data){\n    status\n    unavailabilities\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ru=C()(Object(T.withStyles)(function(e){return{overlay:{height:"130px",position:"absolute",width:"100%",zIndex:"2"},overlayFull:{top:0,zIndex:2,position:"absolute",right:0,bottom:0,left:0},dayUnavailable:{background:"#f3f5f5",color:"#c2c2c2 !important",borderColor:" #e6e3e3  !important"},weekView:{marginTop:"0px",position:"relative",display:"table",width:"100%","@media(max-width:479px)":{maxWidth:"90%",margin:"auto"},"& h3":{fontSize:"13px",fontWeight:"500",color:e.palette.common.black,textTransform:"uppercase",letterSpacing:"1px",float:"left"},"& ul":{padding:"0 0px",listStyle:"none",display:"flex"},"& li":{cursor:"pointer",width:"15%",border:"1px solid #ccc",height:"40px",textAlign:"center",marginRight:"5px",fontSize:"12px",fontWeight:"100",display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.black},"& > div:last-child":{position:"relative"}},switchBox:{position:"relative",top:-2,zIndex:5},activeWeek:{border:"1px solid #20a3e0 !important",background:"#f3f5f5"},addOpacity:{opacity:"0"},repeatWeeklyBottom:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media(max-width:767px)":{flexDirection:"column"}},manageButtons:{padding:"0 15px","& span":{display:"inline-block",padding:"4px 24px",fontWeight:"400","@media(max-width:479px)":{maxWidth:"100%",padding:"4px 0px"}},"& span:last-child":{background:"transparent",color:e.palette.common.blue,paddingRight:"0","&:hover":{background:"transparent"}},"@media(max-width:767px)":{"& span":{marginBottom:"0px"},"& span:first-child":{marginBottom:"10px"}},"@media(max-width:375px)":{display:"flex",flexDirection:"column",alignItems:"center"}},defaultReservationBtn:{"& span:first-child":{background:"#ccc"},"& span:first-child:hover":{background:"#ccc",cursor:"default"},"@media (max-width:767px)":{"& span:first-child":{padding:"6px 8px"}}},markAsUnavial:{padding:"4px 45px !important",marginRight:"15px",background:"#fa4f4b !important"},dateButton:{background:"#f3f5f5",padding:"11px 15px",boxShadow:"none",border:"none",fontSize:"15px",marginBottom:"6px",outline:"none"},timeItemsContainer:{"&.time_block_manage.time_block li":{width:"16.666%",boxSizing:"border-box",height:"50px"}},timeItemsContainerWrap:{marginBottom:"25px"},inputRangeContainer:{maxWidth:"200px",margin:"20px auto 0",padding:"6px 0","& .input-range__track--active":{background:"#fa4f4b"},"& .input-range__slider-container > div":{borderColor:e.palette.common.white,boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",background:e.palette.common.white},"& .input-range__label-container":{display:"none"}},displayTimerRange:{display:"flex",justifyContent:"center",padding:"5px 0","& div":{fontSize:"14px",fontWeight:"500",textAlign:"center",color:e.palette.common.black,"& div":{width:"100%",fontSize:"13px",fontWeight:"500"}},"& span":{margin:"0 10px"}},itemContainer:{display:"flex",flexDirection:"column",maxWidth:"400px",margin:"0 auto",padding:"20px 0",borderBottom:"1px solid ".concat(e.palette.common.border),fontFamily:"'Poppins', sans-serif",boxSizing:"border-box","&:last-child":{marginBottom:"20px"},"& *":{boxSizing:"border-box"},"& p":{margin:"0"},"& .flex":{display:"flex",alignItems:"center"},"& .space-between":{justifyContent:"space-between"},"& .title":{fontSize:"16px",fontWeight:"bold",color:e.palette.common.black},"& .avatar":{width:"28px",height:"28px",marginRight:"6px"},"& .link":{fontSize:"14px",color:e.palette.common.primary,cursor:"pointer"},"& .time-line":{position:"relative",width:"100%",height:"8px",margin:"8px 0",overflow:"hidden",borderRadius:"5px",backgroundColor:e.palette.common.slider,"& .active-time-line":{position:"absolute",height:"8px",borderRadius:"4px",backgroundColor:e.palette.common.secondary,"&.blue":{backgroundColor:e.palette.common.primary}}},"& .time-container":{justifyContent:"center",fontSize:"14px",color:e.palette.common.black,"& .time-number":{margin:"0 4px",fontWeight:"bold",color:e.palette.common.secondary,"&.blue":{color:e.palette.common.primary}},"& .dash":{margin:"0 6px"},"& .time-format":{fontWeight:"bold"}},"& .remove-icon":{display:"flex",justifyContent:"center",alignItems:"center",width:"19px",height:"19px",padding:"4px",border:"2px solid ".concat(e.palette.common.secondary),borderRadius:"50%",cursor:"pointer","&.opacity":{opacity:"0.6",cursor:"initial"},"& i":{fontSize:"14px",lineHeight:"20px",color:e.palette.common.secondary}}},addTimeFrameButton:{display:"flex",alignItems:"center",maxWidth:"400px",margin:"20px auto",fontSize:"14px",fontWeight:"bold",color:e.palette.common.secondary,cursor:"pointer",boxSizing:"border-box","& *":{boxSizing:"border-box"},"& p":{margin:"0"},"& .plus-icon":{display:"flex",justifyContent:"center",alignItems:"center",width:"19px",height:"19px",padding:"4px",marginRight:"6px",border:"1px solid ".concat(e.palette.common.secondary),borderRadius:"50%"}},submitBtn:{width:"30%",margin:"20px auto","@media (max-width:479px)":{width:"100%"}},submitBtnRed:{"& span":{background:"#fa4f4b !important"}},opacity:{opacity:"0.6",cursor:"initial"}}},{withTheme:!0}),je.a,b.b),su=function(e){Object(h.a)(a,e);var t=nu(a);function a(e){var n;Object(p.a)(this,a);var i=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(i=!0),(n=t.call(this,e)).getSelectedDayTimeRange=function(e,t,a){var n=e.filter(function(e){return e.activeClass});if(n[0])return{min:n[0].timeNumber,max:n[n.length-1].timeNumber};var i=t,o=a,r=parseInt((a-t)/2,10);return r>1&&(i=t+(r-1),o=t+(r+2)),{min:i,max:o}},n.presetSelectedDayUnchangedTime=function(e){var t=n.state.timeDetails.findIndex(function(t){return t.timeNumber===e.min}),a=n.state.timeDetails.findIndex(function(t){return t.timeNumber===e.max}),i=n.getRangeOfIndexes(t,a);n.updatePreselectedItems(i)},n.updatePreselectedItems=function(e){for(var t=n.state,a=t.timeDetails,i=t.selectedDate,o=t.previousDate,r=0;r<a.length;r++)a[r].disable||(e.includes(r)?(a[r].activeClass="active",a[r].temporary=!0):a[r].activeClass="");n.setState({timeDetails:a},function(){n.state.calendar.redraw()}),n.props.presetSelectedDayUnchangedTime(a,i,o)},n.getTimeNumber=function(e){var t=fe.find(function(t){return t.time_insert===e.time});if(t)return t.timeNumber;var a=parseInt(e.time.slice(0,2));return 0===a?24:a},n.getRangeOfIndexes=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},n.updateItems=function(e){for(var t=n.state.timeDetails,a=n.props.onSetTimeDetails,i=0;i<t.length;i++)t[i].disable||(e.includes(i)?t[i].activeClass="active":t[i].activeClass="");n.setState({timeDetails:t},function(){}),a(n.state.timeDetails,n.state.selectedDate)},n.handleChange=function(e){return function(t){if("repeat"===e)if(!1===t.target.checked){var a;n.setState((a={},Object(Fe.a)(a,e,t.target.checked),Object(Fe.a)(a,"days",ui()(ke)),a)),n.props.onSetDay({repeat:!1}),n.props.onCancelRepeat()}else{var i,o=fe.find(function(e){return e.time_insert===n.props.availableFrom}).timeNumber,r=fe.find(function(e){return e.time_insert===n.props.availableTo}).timeNumber,s=n.state.timeRange.min===o&&n.state.timeRange.max===r,l=ui()(ke),d=new Date(n.state.selectedDate),c=7-(d.getDay()+1),m=d.getDay(),u=d.getDay();l[u].active=!0,d=d.setDate(d.getDate()+c),d=new Date(d),n.setState((i={},Object(Fe.a)(i,e,t.target.checked),Object(Fe.a)(i,"endDate",d),Object(Fe.a)(i,"days",l),i),function(){n.props.onSetDay({repeat:n.state.repeat,endDate:d,days:l,dayIndex:m,addDayIndex:m,updateDate:gt()(n.state.selectedDate).format("YYYY-MM-DD"),unavailable:s})})}else n.setState(Object(Fe.a)({},e,t.target.checked))}},n.submitPoolUnAvailability=function(){var e=Object(m.a)(c.a.mark(function e(t){var a,i,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.unavailable,i=void 0===a?[]:a,o=t.available,r=void 0===o?[]:o,e.prev=1,e.next=4,n.props.client.mutate({mutation:ou,variables:{data:{unavailable:i,available:r,pool_id:n.state.poolDetails.id}}});case 4:e.next=16;break;case 6:if(e.prev=6,e.t0=e.catch(1),"Unauthenticated."!==Gt(e.t0)){e.next=16;break}return e.next=12,n.props.refreshToken(n.props.history);case 12:if("ok"!==e.sent){e.next=16;break}return e.next=16,n.submitPoolUnAvailability({unavailable:i,available:r});case 16:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTimeRange=function(e){n.setState({timeRange:e,displayTime:n.formatDisplayTime(e)},function(){var t=n.state.timeDetails.findIndex(function(t){return t.timeNumber===e.min}),a=n.state.timeDetails.findIndex(function(t){return t.timeNumber===e.max});n.updateItems(n.getRangeOfIndexes(t,a))})},n.formatDisplayTime=function(e){return{min:fe.find(function(t){return t.timeNumber===e.min}).displayTime,max:fe.find(function(t){return t.timeNumber===e.max}).displayTime}};var o=n.props,r=o.selectedDate,s=o.poolUnavailabilitie,l=o.poolDetails,d=o.timeDetails;return n.state={selectedDate:r||new Date,poolUnavailabilitie:s,poolDetails:l,calendar:null,days:ui()(ke),repeat:!1,timeDetails:d,isMobile:i,loading:!1,isOpen:!1,timeRange:{min:9,max:21},displayTime:{min:"9 am",max:"9 pm"},rangeAvailableFrom:9,rangeAvailableTo:21,previousDate:null,showBlockTimeRange:!1},n.available="#fff",n.unavailable="#DEE0DE !important",n.partiallyAvailable="linear-gradient( -45deg, transparent, transparent 49%, #ccc 49%, #DEE0DE 51%, #DEE0DE 51% ) !important",n.manageUnAvailabilities=n.manageUnAvailabilities.bind(Object(g.a)(n)),n.makeAllTimesUnavailable=n.makeAllTimesUnavailable.bind(Object(g.a)(n)),n.handleCalender=n.handleCalender.bind(Object(g.a)(n)),n.updateCalendarInst=n.updateCalendarInst.bind(Object(g.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(g.a)(n)),n.cancelRepeat=n.cancelRepeat.bind(Object(g.a)(n)),n.makeUnavailabel=n.makeUnavailabel.bind(Object(g.a)(n)),n.toggleCalendar=n.toggleCalendar.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"toggleCalendar",value:function(e){var t=this.state.repeat;this.state.isMobile&&(e&&e.preventDefault(),(!0===this.state.isOpen||!0===t&&!1===this.state.isOpen)&&this.setState({isOpen:!this.state.isOpen}))}},{key:"componentDidMount",value:function(){this.handleCalender(this.state.selectedDate,"init")}},{key:"getWeekDays",value:function(){var e=this,t=this.state.days,a=this.props.classes;return t.map(function(t,n){return i.a.createElement("li",{key:n,className:t.active?a.activeWeek:"",onClick:function(t){return e.clickDay(t,n)}},t.day)})}},{key:"manageUnAvailabilities",value:function(e){var t=this,a=this.state.selectedDate,n=this.props,i=n.poolUnavailabilitie,o=n.availableFrom,r=n.availableTo,s=n.unavailableDates,l=n.updatedUnavailableDates,d=n.updatedUnavailability;a=e||a,a=gt()(a).format("YYYY-MM-DD");for(var c=!!d.find(function(e){return gt()(e.date).isSame(gt()(a),"day")}),m=ft.a.filter(c?d:i,{date:a}),u=ui()(fe),p=u.find(function(e){return e.time_insert===o}).timeNumber,v=u.find(function(e){return e.time_insert===r}).timeNumber,g=gt()(a).isSame(gt()(),"day"),h=!s||c||m.length?null:[].concat(Object(pt.a)(s),Object(pt.a)(l)).find(function(e){return gt()(e).isSame(gt()(a),"day")}),f=(new Date).getHours()+1,k=0;k<u.length;k++){if(u[k].timeNumber<p||u[k].timeNumber>v||g&&u[k].timeNumber<f)u[k].disable=!0;else ft.a.filter(m,{time:u[k].time_insert}).length>=1||h?u[k].activeClass="active":u[k].activeClass=""}var b=new Date(this.state.selectedDate),y=7-(b.getDay()+1);b=b.setDate(b.getDate()+y),b=new Date(b);var x=u.find(function(e){return e.time_insert===t.props.availableFrom}).timeNumber,N=u.find(function(e){return e.time_insert===t.props.availableTo}).timeNumber;x=(x=u.find(function(e){return!e.disable&&e.timeNumber>=x}))?x.timeNumber:null;var S=this.getSelectedDayTimeRange(u,x,N);this.presetSelectedDayUnchangedTime(S),this.setState({timeDetails:u,repeat:!1,days:ui()(ke),endDate:b,displayTime:this.formatDisplayTime(S),timeRange:S,rangeAvailableFrom:x,rangeAvailableTo:N})}},{key:"makeAllTimesUnavailable",value:function(e){for(var t=this,a=this.props,n=a.availableFrom,i=a.availableTo,o=this.state.selectedDate,r=ui()(fe),s=r.find(function(e){return e.time_insert===n}).timeNumber,l=r.find(function(e){return e.time_insert===i}).timeNumber,d=gt()(o).isSame(gt()(),"day"),c=(new Date).getHours()+1,m=0;m<fe.length;m++)r[m].timeNumber<s||r[m].timeNumber>l||d&&r[m].timeNumber<c?r[m].disable=!0:r[m].activeClass="active";var u=new Date(e),p=7-(u.getDay()+1);u=u.setDate(u.getDate()+p),u=new Date(u);var v=r.find(function(e){return e.time_insert===t.props.availableFrom}).timeNumber,g=r.find(function(e){return e.time_insert===t.props.availableTo}).timeNumber;v=r.find(function(e){return!e.disable&&e.timeNumber>=v}).timeNumber;var h=this.getSelectedDayTimeRange(r,v,g);this.setState({timeDetails:r,repeat:!1,days:ui()(ke),endDate:u,displayTime:this.formatDisplayTime(h),timeRange:h,rangeAvailableFrom:v,rangeAvailableTo:g})}},{key:"handleCalender",value:function(e,t){var a=this,n="";n="init"===t?gt()(e):gt()(e.date),this.props.onSelectDate(n);var i=this.state.selectedDate;this.setState({selectedDate:n,previousDate:i},function(){e.background===a.unavailable?(a.manageUnAvailabilities(n),a.makeAllTimesUnavailable(n)):"init"===t&&a.props.unavailableDates.includes(gt()(e).format("YYYY-MM-DD"))?a.makeAllTimesUnavailable(n):a.manageUnAvailabilities(n)})}},{key:"clickDay",value:function(e,t){var a=this,n=this.state,i=n.days,o=n.repeat,r=n.timeRange,s=this.props.unavailableDates;if(o){var l=new Date(this.state.selectedDate).getDay(),d=t-l,c=d>=0?gt()(this.state.selectedDate).add(d,"days").format("YYYY-MM-DD"):gt()(this.state.selectedDate).subtract(-1*d,"days").format("YYYY-MM-DD"),m=fe.find(function(e){return e.time_insert===a.props.availableFrom}).timeNumber,u=fe.find(function(e){return e.time_insert===a.props.availableTo}).timeNumber,p=this.state.timeRange.min===m&&this.state.timeRange.max===u||s.includes(c);gt()().diff(c,"days")<=0&&(i[t].active=!i[t].active,this.setState({days:i},function(){a.props.onSetDay({days:i,addDayIndex:t,updateDate:c,timeRange:r,unavailable:p})}))}}},{key:"updateCalendarInst",value:function(e,t){this.state.calendar!==t&&(this.setState({calendar:t}),this.props.updateCalendarInst(e,t))}},{key:"handleDateChange",value:function(e){"undefined"!==typeof e.target&&""!==e.target?this.setState(Object(Fe.a)({},e.target.name,e.target.value)):(this.setState({endDate:e,isOpen:!1}),this.props.onSetDay({endDate:e}))}},{key:"isSubmitButtonDisabled",value:function(){var e=this.state,t=e.repeat,a=e.endDate,n=e.days,i=e.timeDetails.filter(function(e){return e.activeClass}),o=ft.a.filter(n,{active:!0});o=ft.a.map(o,"day_name");var r=!0;return!0===t&&o.length>=1&&""!==a&&i.length>0&&(r=!1),r}},{key:"cancelRepeat",value:function(){this.setState({repeat:!1,days:ui()(ke)}),this.props.onSetDay({repeat:!1}),this.props.onCancelRepeat()}},{key:"makeUnavailabel",value:function(){var e=this,t=this.props,a=t.availableFrom,n=t.availableTo,i=t.unAvailableTimeGroups,o=t.selectedDate;this.setState({loading:!0});var r=this.state,s=r.selectedDate,l=r.days,d=r.repeat,u=r.poolDetails,p=r.endDate,v=r.timeRange,g=gt()(s);g.set("date",g.date()-g.day());var h=gt()(g).format("YYYY-MM-DD");p=gt()(p).format("YYYY-MM-DD");var f=u.id,k=ft.a.range(v.min,v.max+1).map(function(e){return At.timeNumber[e].time_insert}),b=ft.a.filter(l,{active:!0});b=ft.a.map(b,"day_name");var y=i[gt()(o).format("YYYY-MM-DD")],x=y?y.flat().map(function(e){return At.timeNumber[e].time_insert}):k,N=x[0]===a&&x[x.length-1]===n,S=!1,w=function(t){var a=ke.find(function(e){return e.day_number===gt()(t).day()}).day_name;if((gt()(t).isSame(h,"day")||gt()(t).isAfter(h,"day"))&&!gt()(t).isAfter(p,"day")&&b.includes(a)){if(N)return S=!0,"break";var n=e.props.bookings[t].map(function(e){var t=At.time_insert[e.from].timeNumber,a=At.time_insert[e.to].timeNumber+1;return ft.a.range(t,a+1).map(function(e){return At.timeNumber[e].time_insert})}).flat();if(S=n.filter(function(e){return x.includes(e)}).length>1)return"break"}};for(var _ in this.props.bookings){if("break"===w(_))break}if(S)return this.setState({loading:!1}),this.props.handleErrorMessage("You can\u2019t block time with existing bookings."),void window.scrollTo({top:0});if(!1===d||!0===d&&b.length>=1&&""!==p){var E={pool_id:f,available_date:h,available_time:N?[]:x,repeat_availablitlity:d,end_date:p,days:b};this.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i,o,r,s,l,d,m;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:iu,variables:{data:E}});case 3:if(a=t.sent,n=a.data.savePoolUnAvailability,!N){t.next=15;break}for(i=[],o=ke.filter(function(e){return b.includes(e.day_name)}).map(function(e){return e.day_number}),r=new Date(h),s=new Date(p);r<=s;)o.includes(r.getDay())&&i.push(gt()(r).format("YYYY-MM-DD")),l=r.setDate(r.getDate()+1),r=new Date(l);return t.next=13,e.submitPoolUnAvailability({unavailable:i});case 13:t.next=18;break;case 15:return d=u.unavailable_dates.filter(function(e){var t=ke.find(function(t){return t.day_number===gt()(e).day()}).day_name;return(gt()(e).isSame(h,"day")||!gt()(e).isAfter(p,"day"))&&gt()(e).isAfter(h,"day")&&b.includes(t)}),t.next=18,e.submitPoolUnAvailability({available:d});case 18:e.setState({loading:!1,repeat:!1},function(){e.props.onSetDay({repeat:!1}),"true"===n.status&&e.props.getPoolData()}),t.next=30;break;case 21:if(t.prev=21,t.t0=t.catch(0),m=Gt(t.t0),e.setState({loading:!1}),"Unauthenticated."!==m){t.next=30;break}return t.next=28,e.props.refreshToken(e.props.history);case 28:"ok"===t.sent&&e.makeUnavailabel();case 30:case"end":return t.stop()}},t,null,[[0,21]])})))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.invalid,o=t.colors,r=t.selectedDate,s=t.firstAvailableDate,l=this.state,d=l.rangeAvailableFrom,c=l.rangeAvailableTo,m=l.poolDetails,u=l.repeat,p=l.loading,v=this.props.bookings[gt()(r).format("YYYY-MM-DD")]||[],g=this.props.unAvailableTimeGroups[gt()(r).format("YYYY-MM-DD")]||[],h=At.time_insert[m.available_from].timeNumber,f=At.time_insert[m.available_to].timeNumber-h;return i.a.createElement("div",{className:"hourly-availability"},!0===p?i.a.createElement(ut,{loading:p}):"",u&&i.a.createElement("div",{className:a.overlay}),i.a.createElement(Pi.a.Form,null,i.a.createElement(Pi.a.FormGroup,null,i.a.createElement("label",null,i.a.createElement(Pi.a.Calendar,{theme:"bootstrap",layout:"liquid",weeks:1,display:"inline",placeholder:"Please Select...",onDayChange:this.handleCalender,value:r,colors:o,invalid:n,onInit:this.updateCalendarInst,min:s},i.a.createElement("input",{type:"hidden"}))))),i.a.createElement("div",{className:a.timeItemsContainerWrap},v.length?i.a.createElement("div",null,v.map(function(e,t){var n=At.time_insert[e.from],o=At.time_insert[e.to];return o=At.timeNumber[o.timeNumber+1],i.a.createElement("div",{className:a.itemContainer,key:"booking-item-".concat(t)},i.a.createElement("div",{className:"flex space-between"},i.a.createElement("p",{className:"title"},"Booking"),i.a.createElement("div",{className:"flex"},i.a.createElement(Da.a,{className:"avatar",alt:"profile image",src:e.swimmer&&e.swimmer.img_url?e.swimmer.img_url:window.location.origin+"/img/profile-icon.png"}),i.a.createElement(ze.a,{className:"link",to:"/host-reservation"},"See reservation"))),i.a.createElement("div",{className:"time-line"},i.a.createElement("div",{className:"active-time-line blue",style:{left:Math.ceil(100/f*(n.timeNumber-h))+"%",width:Math.ceil(100/f*(o.timeNumber-n.timeNumber))+"%"}})),i.a.createElement("div",{className:"flex time-container"},i.a.createElement("p",{className:"time-text"},"from",i.a.createElement("span",{className:"time-number blue"},n.displayTimeNumber),i.a.createElement("span",{className:"time-format"},n.timeFormat)),i.a.createElement("p",{className:"dash"},"-"),i.a.createElement("p",{className:"time-text"},"Until",i.a.createElement("span",{className:"time-number blue"},o.displayTimeNumber),i.a.createElement("span",{className:"time-format"},o.timeFormat))))})):null,g.length?i.a.createElement("div",null,g.map(function(t,n){var o=At.timeNumber[t[0]],r=At.timeNumber[t[t.length-1]];return i.a.createElement("div",{className:a.itemContainer,key:"time-block-item-".concat(n)},i.a.createElement("div",{className:"flex space-between"},i.a.createElement("p",{className:"title"},"Time Block"),i.a.createElement("div",{className:"remove-icon ".concat(u?"opacity":""),onClick:u?function(){}:e.props.removeUnAvailableTimeGroup.bind(e,n)},i.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))),i.a.createElement("div",{className:"time-line"},i.a.createElement("div",{className:"active-time-line",style:{left:Math.ceil(100/f*(o.timeNumber-h))+"%",width:Math.ceil(100/f*(r.timeNumber-o.timeNumber))+"%"}})),i.a.createElement("div",{className:"flex time-container"},i.a.createElement("p",{className:"time-text"},"from",i.a.createElement("span",{className:"time-number"},o.displayTimeNumber),i.a.createElement("span",{className:"time-format"},o.timeFormat)),i.a.createElement("p",{className:"dash"},"-"),i.a.createElement("p",{className:"time-text"},"Until",i.a.createElement("span",{className:"time-number"},r.displayTimeNumber),i.a.createElement("span",{className:"time-format"},r.timeFormat))))})):null,g.length<3?!g.length||this.props.showBlockTimeRange?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{className:a.inputRangeContainer},i.a.createElement(jo.a,{minValue:d,maxValue:c,value:this.state.timeRange,step:1,onChange:this.handleTimeRange})),i.a.createElement("div",{className:a.displayTimerRange},i.a.createElement("div",null,"From",i.a.createElement("div",null,this.state.displayTime.min)),i.a.createElement("span",null,"-"),i.a.createElement("div",null,"To",i.a.createElement("div",null,this.state.displayTime.max)))),i.a.createElement("div",{className:"".concat(a.submitBtn," ").concat(u?a.defaultReservationBtn:a.submitBtnRed)},i.a.createElement(Oe.a,{variant:"button",onClick:u?function(){}:this.props.handleSubmit},"BLOCK"))):i.a.createElement("div",{className:"".concat(a.addTimeFrameButton," ").concat(u?a.opacity:""),onClick:u?function(){}:this.props.handleBlockTimeRange},i.a.createElement("div",{className:"plus-icon"},i.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),i.a.createElement("p",null,"Add time frame block")):null,i.a.createElement("div",{className:a.weekView},i.a.createElement("div",{className:"".concat(u?"":a.overlayFull)}),i.a.createElement("h3",null,"Repeat this availability"),i.a.createElement(Gm.a,{checked:this.state.repeat,onChange:this.handleChange("repeat"),value:"repeat",color:"primary",className:a.switchBox}),i.a.createElement("div",{className:!1===u?a.addOpacity:""},i.a.createElement("ul",null,this.getWeekDays()),i.a.createElement("div",{className:a.repeatWeeklyBottom},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"End Date"),!this.state.isMobile&&i.a.createElement(qm.a,{fixedHeight:!0,customInput:i.a.createElement(tu,{repeat:u,value:this.endDate}),selected:this.state.endDate,minDate:new Date(this.state.selectedDate),dateFormat:"MM/dd/yyyy",popperPlacement:"top-start",onChange:this.handleDateChange}),this.state.isMobile&&i.a.createElement("div",null,i.a.createElement("button",{className:a.dateButton,onClick:this.toggleCalendar},i.a.createElement(vi.a,{format:"MM / DD / YY"},this.state.endDate))),this.state.isMobile&&this.state.isOpen&&i.a.createElement(qm.a,{selected:this.state.endDate,onChange:this.handleDateChange,dateFormat:"MM/dd/yyyy",minDate:new Date(this.state.selectedDate),withPortal:!0,onClickOutside:this.toggleCalendar,inline:!0,fixedHeight:!0}),i.a.createElement("div",{className:a.manageButtons},i.a.createElement(Oe.a,{variant:"button",onClick:this.makeUnavailabel,className:a.markAsUnavial},"Mark as UNAVAILABLE"),i.a.createElement(Oe.a,{variant:"button",onClick:this.cancelRepeat,className:"cancelBtn"},"Cancel")))))))}}]),a}(n.Component);su.defaultProps={classes:{},selectedDate:new Date,unAvailableTimeGroup:{},poolUnavailabilitie:[],colors:[],handleUpdate:function(){},onSetDay:function(){},presetSelectedDayUnchangedTime:function(){},removeUnAvailableTimeGroup:function(){},handleSubmit:function(){},handleBlockTimeRange:function(){},showBlockTimeRange:!1};var lu=ru(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(su,Object.assign({},t,e))});function du(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var cu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolDaysUnAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolDaysInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolDaysUnAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailabilities"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138,source:{body:"mutation savePoolDaysUnAvailability($data:PoolDaysInput!){\n  savePoolDaysUnAvailability(data:$data){\n    status\n    unavailabilities\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},mu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},uu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePoolUnAvailability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PoolTimesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePoolUnAvailability"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:110,source:{body:"mutation savePoolUnAvailability($data:PoolTimesInput!){\n  savePoolUnAvailability(data:$data){\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},pu={available:[{start:"2020-03-01T00:00:00.000Z",end:"2020-03-31T00:00:00.000Z"}],unavailable:[{start:"2020-04-01T00:00:00.000Z",end:"2020-04-30T00:00:00.000Z"}],partiallyAvailable:[{start:"2020-05-01T00:00:00.000Z",end:"2020-05-31T00:00:00.000Z"}]},vu=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",position:"fixed",top:"0",background:"#fff",zIndex:"23",height:"100%",overflow:"auto"},"& .mbsc-form-group":{maxWidth:"400px",marginRight:"auto",marginLeft:"auto"},"& .mbsc-mobiscroll .mbsc-cal-c .mbsc-cal .mbsc-cal-body .mbsc-cal-day-picker .mbsc-cal-row .mbsc-selected .mbsc-cal-cell-txt":{background:"#fff",color:"#000",borderColor:"#000","&:hover":{background:"#DEE0DE"}},"& .mbsc-material .mbsc-cal-c .mbsc-cal .mbsc-cal-body .mbsc-cal-row .mbsc-selected .mbsc-cal-cell-txt":{background:"#fff !important",color:"#000 !important",borderColor:"#000 !important"},"& .mbsc-mobiscroll .mbsc-cal-c .mbsc-cal .mbsc-cal-body .mbsc-cal-day-picker .mbsc-cal-row .mbsc-cal-cell-txt:hover":{background:"#DEE0DE"},"& .mbsc-calendar":{"&.mbsc-cal-day-picker .mbsc-cal-cell:focus .mbsc-cal-cell-txt":{background:"#fff"},"& .mbsc-cal-day-colored.mbsc-selected .mbsc-cal-day-date":{borderColor:"#000"},"& .mbsc-cal-table":{borderSpacing:"0",padding:"3px 0",boxSizing:"border-box"},"& .mbsc-cal-row:first-child":{marginTop:"3px"},"& .mbsc-cal-row":{display:"flex",padding:"0 2px","& .mbsc-cal-day":{width:"14%"}},"& .mbsc-cal-cell-i":{padding:"0"},"& .mbsc-cal-day-date":{width:"100%",height:"auto",margin:"0",padding:"10px 0",borderRadius:"0",border:"0.5px solid #ccc",boxSizing:"border-box",fontWeight:"600",fontSize:"14px","&:hover":{backgroundColor:"#DEE0DE"}},"& .mbsc-cal-cell.dollar":{position:"relative","&:after":{content:'"$"',display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"2px",right:"2px",width:"16px",height:"16px",fontSize:"11px",borderRadius:"50%",color:e.palette.common.primary,backgroundColor:"#fff",boxSizing:"border-box"},"&.available .mbsc-cal-day-markup .mbsc-cal-marks":{display:"none"}},"& .mbsc-cal-day-marked":{"& .mbsc-cal-day-date":{position:"relative","&:after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",color:"red"}},"& .mbsc-cal-day-markup .mbsc-cal-txt":{position:"absolute",top:"5px",right:"5px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",boxSizing:"border-box",borderRadius:"50%",backgroundColor:"#fff !important",color:"".concat(e.palette.common.primary," !important"),"&.mbsc-hover:before":{backgroundColor:"transparent"}},"& .mbsc-cal-day-markup .mbsc-cal-marks":{position:"absolute",top:"50%",left:"50%",width:"32px",height:"1px",transform:"rotate(-45deg) translateX(-16px) translateY(-6px)",backgroundColor:"#8b8a8a","& .mbsc-cal-mark":{display:"none"}}}}},editPoolcontainer:{padding:"60px 0","@media(max-width:767px)":{padding:"0 0 20px 0"}},backStep:{marginBottom:"10px","& a":{color:e.palette.common.blue,fontWeight:"500"},"& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"10px",position:"absolute",top:"12px","& a":{color:e.palette.common.black},"& i":{fontSize:"30px"}}},formContainer:{maxWidth:"100%",paddingTop:"0"},ContentContainer:{paddingTop:"0","& h3":{fontSize:"20px",marginBottom:"12px",paddingTop:"15px"},"& p":{fontWeight:"100",fontSize:"14px",margin:"2px 0 0"},"@media (max-width:767px)":{"& h3":{fontSize:"14px",marginBottom:"0px",padding:"20px 20px 15px",textAlign:"center",boxShadow:"none",margin:" 0px",textTransform:"uppercase"}}},headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"flex-start","@media (max-width:767px)":{flexDirection:"column",alignItems:"center"}},submitBtn:{width:"30%",margin:"auto","@media (max-width:479px)":{width:"100%"}},submitBtnRed:{"& span":{background:"#fa4f4b !important"}},alignCenter:{"@media (max-width:767px)":{display:"flex",justifyContent:"center"}},toggleBox:{listStyle:"none",display:"flex",paddingLeft:"0",margin:"0","& li":{padding:"8px 30px",border:"1px solid #ccc",cursor:"pointer","&:first-child":{borderRadius:"5px 0px 0px 5px"},"&:last-child":{marginLeft:"-1px",borderRadius:"0px 5px 5px 0px"}}},activeToggle:{border:"1px solid #12bfea !important",zIndex:1,color:"#12bfea !important"},dayUnavailable:{background:"#f3f5f5",color:"#c2c2c2 !important",borderColor:" #e6e3e3  !important"},defaultReservationBtn:{"& span:first-child":{background:"#ccc"},"& span:first-child:hover":{background:"#ccc",cursor:"default"},"@media (max-width:767px)":{"& span:first-child":{padding:"6px 8px"}}},errorMessage:{maxWidth:"100%"},stepperContainer:{marginBottom:"20px"},backContainer:{marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,"& font":{cursor:"pointer"},"& i":{marginRight:"3px",marginTop:"-1px",fontSize:"22px",verticalAlign:" text-bottom"},"@media (max-width:767px)":{width:"25px",height:"25px",marginBottom:"0",overflow:"hidden",color:e.palette.common.black,"& i":{fontSize:"30px"}}},addPoolAlign:{left:0},popupContainer:{maxWidth:"300px",textAlign:"center"},subTitle:{fontWeight:"100",fontSize:"15px",color:"black"},reduceMarginTop:{marginTop:"0"},okButton:{transition:"all 0.2s ease"},cancelButton:{background:"transparent",color:e.palette.common.blue,transition:"all 0.2s ease","&:hover":{background:"transparent",color:e.palette.common.blue,opacity:"0.9"}},maxWidth:{display:"inline-block",maxWidth:"420px",marginBottom:"10px","@media (max-width:767px)":{padding:"10px",textAlign:"center"}},bold:{fontWeight:"bold"}}},{withTheme:!0}),je.a,b.b),gu=function(e){Object(h.a)(a,e);var t=du(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).formatUnAvailableTimeGroups=function(e){for(var t=e.pool_unavailabilities,a=void 0===t?[]:t,n=e.unavailable_dates,i=void 0===n?[]:n,o={},r=a.filter(function(e){return!i.includes(e.date)}),s=0;s<r.length;s++){var l=At.time_insert[r[s].time];l&&(o[r[s].date]?o[r[s].date].push(l.timeNumber):o[r[s].date]=[l.timeNumber])}for(var d in o)o[d]=ft.a.uniq(o[d]),o[d]=o[d].sort(function(e,t){return e-t}),o[d]=o[d].reduce(function(e,t){var a=e[e.length-1];a&&a.length?t-a[a.length-1]===1?a.push(t):e.push([t]):e.push([t]);return e},[]);return o},n.formatSingleTimeGroup=function(e){return e=(e=(e=ft.a.uniq(e)).map(function(e){return At.time_insert[e]?At.time_insert[e].timeNumber:null}).sort(function(e,t){return e-t})).reduce(function(e,t){var a=e[e.length-1];a&&a.length?t-a[a.length-1]===1?a.push(t):e.push([t]):e.push([t]);return e},[])},n.formatBookings=function(e){e=Wt.filterBookings(e);for(var t={},a=0;a<e.length;a++)t[e[a].date]?t[e[a].date].push(e[a]):t[e[a].date]=[e[a]];return t},n.removeUnAvailableTimeGroup=function(){var e=Object(m.a)(c.a.mark(function e(t){var a,i,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.unAvailableTimeGroups,i=gt()(n.selectedDate).format("YYYY-MM-DD"),o=a[i]?a[i][t]:[],r=(r=a[i]?a[i].flat():[]).filter(function(e){return!o.includes(e)}),e.next=7,n.updateUnAvailableTimes(r.map(function(e){return At.timeNumber[e].time_insert}));case 7:n.setState({unAvailableTimeGroups:_()(a,Object(Fe.a)({},i,{$splice:[[t,1]]}))},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.unAvailableTimeGroups[i].length){e.next=3;break}return e.next=3,n.makePartialAvailableOrUnavailable(!0,i);case 3:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.updateUnAvailableTimes=Object(m.a)(c.a.mark(function e(){var t,a,i=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:[],e.prev=1,e.next=4,n.props.client.mutate({mutation:uu,variables:{data:{available_date:gt()(n.selectedDate).format("YYYY-MM-DD"),available_time:t,pool_id:n.state.poolDetails.id,repeat_availablitlity:!1,end_date:null,days:[]}}});case 4:e.next=17;break;case 6:if(e.prev=6,e.t0=e.catch(1),a=Gt(e.t0),console.log("Request error",a),"Unauthenticated."!==a){e.next=17;break}return e.next=13,n.props.refreshToken(n.props.history);case 13:if("ok"!==e.sent){e.next=17;break}return e.next=17,n.updateUnAvailableTimes(t);case 17:case"end":return e.stop()}},e,null,[[1,6]])})),n.getCurrentAvailableMonth=function(e){var t=gt()(),a=e.length?(e[0].month_number||e[0])-1:0,n=t.month(),i=a>=n?a:n,o=t.month(i).startOf("month");return e.length&&a>n?o:gt()()},n.handleHourlyPopup=function(e,t){n.setState({showHourlyPopup:e,selectedHourlyDate:gt()(t).format("YYYY-MM-DD")})},n.markBooking=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.state.bookings[gt()(e).format("YYYY-MM-DD")];if(n.calendar.settings.marked=a?n.calendar.settings.marked.filter(function(t){var a=t.d;return!gt()(a).isSame(e,"d")}):n.calendar.settings.marked,i||!t){var o={color:"#8b8a8a"};o.cssClass=i?"dollar ".concat(t?"available":""):"",n.calendar.settings.marked=[Object(u.a)({d:gt()(e)},o)].concat(Object(pt.a)(n.calendar.settings.marked))}},n.makePartialAvailableOrUnavailable=function(e,t){n.setState({showHourlyPopup:!1,loading:!0},Object(m.a)(c.a.mark(function a(){var i,o,r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=n.updatedTimes.findIndex(function(e){return gt()(e.date).isSame(t)}),n.updatedTimes.splice(i,1),a.next=5,n.props.client.mutate({mutation:cu,variables:{data:{unavailable:e?[]:[t],available:e?[t]:[],pool_id:n.state.poolId}}});case 5:if(o=a.sent,"success"!==o.data.savePoolDaysUnAvailability.status){a.next=12;break}return r=t,a.next=11,n.props.client.mutate({mutation:uu,variables:{data:{available_date:r,available_time:[],pool_id:n.state.poolId,repeat_availablitlity:!1,end_date:null,days:[]}}});case 11:n.setState({loading:!1},function(){n.calendar.settings.colors=[{d:r,background:n.available}].concat(Object(pt.a)(n.calendar.settings.colors)),n.updatedUnavailability=n.updatedUnavailability.filter(function(e){return r!==e.date}),n.calendar.settings.marked=n.calendar.settings.marked.filter(function(e){return!gt()(e.d).isSame(t,"d")}),n.markBooking(t,!0,!1),n.calendar.redraw()});case 12:a.next=26;break;case 14:if(a.prev=14,a.t0=a.catch(0),console.log("error",a.t0),"Unauthenticated."!==Gt(a.t0)){a.next=25;break}return a.next=21,n.props.refreshToken(n.props.history);case 21:if("ok"!==a.sent){a.next=25;break}return a.next=25,n.makePartialAvailableOrUnavailable(e,t);case 25:n.setState({loading:!1});case 26:case"end":return a.stop()}},a,null,[[0,14]])})))},n.handleBlockTimeRange=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({showBlockTimeRange:e})},n.showErrorMessage=function(e){n.setState({loading:!1,errorMessage:e}),window.scrollTo({top:0})},n.goBack=function(){n.props.handleNextScreen("showManageCalendarScreen","showMonthsSettingsScreen")},n.handleErrorMessage=function(e){n.setState({errorMessage:e})},n.state={loading:!1,buttonText:"Save",isMonthlyView:!0,timeDetails:Object(pt.a)(fe),poolDetails:{},minTime:new Date,repeat:!1,isAddPool:!1,firstAvailableDate:new Date,unAvailableTimeGroups:{},bookings:{},showBlockTimeRange:!1,errorMessage:"",showHourlyPopup:!1},n.updatedUnavailability=[],n.makeUnavailabilityAvailable=[],n.selectedDate=new Date,n.colors=[],n.marked=[],n.invalid=[],n.calendar={settings:{}},n.hourlyCalendar={settings:{}},n.initialCalendar={settings:{}},n.available="#fff",n.unavailable="#DEE0DE !important",n.partiallyAvailable="linear-gradient( -45deg, transparent, transparent 49%, #ccc 49%, #DEE0DE 51%, #DEE0DE 51% ) !important",n.updatedData={available:[],unavailable:[]},n.repeatedDays=[],n.updatedTimes=[],n.activeStep=100,n.getPoolData=n.getPoolData.bind(Object(g.a)(n)),n.updateCalendarInst=n.updateCalendarInst.bind(Object(g.a)(n)),n.handleCalender=n.handleCalender.bind(Object(g.a)(n)),n.handleHourlyCalender=n.handleHourlyCalender.bind(Object(g.a)(n)),n.toggleHourlyView=n.toggleHourlyView.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.onSetTimeDetails=n.onSetTimeDetails.bind(Object(g.a)(n)),n.onSelectDate=n.onSelectDate.bind(Object(g.a)(n)),n.onSetDay=n.onSetDay.bind(Object(g.a)(n)),n.onCancelRepeat=n.onCancelRepeat.bind(Object(g.a)(n)),n.presetSelectedDayUnchangedTime=n.presetSelectedDayUnchangedTime.bind(Object(g.a)(n)),n.presetSelectedUpdateUnavailabilityTime=n.presetSelectedUpdateUnavailabilityTime.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setState({isAddPool:this.props.isAddPool,buttonText:this.state.isMonthlyView?this.props.isAddPool?"Next":"Save":"Block"},this.getPoolData)}},{key:"getPoolData",value:function(){var e=this,t=parseInt(this.state.isAddPool?ie.getHostPoolID():this.props.match.params.id,10),a=ie.getAccessToken(),n=ie.getUserID(),i=this.props.history;a?this.setState({poolId:t},function(){e.setState({loading:!0}),e.props.client.query({query:mu,variables:{id:t},fetchPolicy:"network-only"}).then(function(t){if(t.data.pool)if(t.data.pool.createdBy&&t.data.pool.createdBy.id===n){var a=ft.a.cloneDeep(t.data.pool);e.setState({loading:!1,poolDetails:a,hourlyPrice:a.hourly_price,bookings:e.formatBookings(a.bookings),unAvailableTimeGroups:e.formatUnAvailableTimeGroups(a)},function(){var t=e.state.poolDetails;e.handleCalendarData(t);var a=e.getCurrentAvailableMonth(t.months);e.selectedDate=gt()(e.selectedDate).month()<a.month()?a:e.selectedDate,e.setState({firstAvailableDate:a.format("YYYY-MM-DD")})})}else i.push("/host");else i.push("/host")}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==Gt(a)){t.next=6;break}return t.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===t.sent&&e.getPoolData();case 6:e.setState({loading:!1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}):(ie.logout(),ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),i.push("/"))}},{key:"handleCalendarData",value:function(e){var t=this;e.months=this.props.availableMonths&&this.props.availableMonths.length?this.props.availableMonths:e.months;for(var a=Object(u.a)({},pu),n=Object.keys(a),i=function(e){var i=n[e];a[i].map(function(e){return e.status=t[i],e.background=t[i],e})},o=0;o<n.length;o++)i(o);e.months[0]&&e.months[0].hasOwnProperty("month_number")&&(e.months=e.months.map(function(e){return e.month_number})),e.unavailable_dates=e.unavailable_dates||["2020-03-16"],this.setState({minTime:gt()().format(),availableFrom:e.available_from,availableTo:e.available_to}),this.colors=[],this.marked=[];for(var r=0;r<12;r++){var s=gt()().startOf("year").add(r,"month");this.colors.push({start:s.startOf("month").format(),end:s.endOf("month").format(),background:e.months.includes(r+1)?this.available:this.unavailable}),e.months.includes(r+1)||this.invalid.push({start:s.startOf("month").format(),end:s.endOf("month").format()})}for(var l=gt()().subtract(1,"day"),d=this.groupByDates(e.pool_unavailabilities),c=function(e){gt()(d[e].date).isAfter(l)&&(t.colors=[{d:gt()(d[e].date),background:t.partiallyAvailable}].concat(Object(pt.a)(t.colors)),t.marked=t.marked.filter(function(t){return!gt()(t.d).isSame(d[e].date,"d")}))},m=0;m<d.length;m++)c(m);for(var p={},v=[].concat(Object(pt.a)(this.updatedData.unavailable),Object(pt.a)(e.unavailable_dates)),g=0;g<v.length;g++)gt()(v[g]).isAfter(l)&&(this.colors=[{d:gt()(v[g]),background:this.unavailable}].concat(Object(pt.a)(this.colors)),this.marked=[{d:gt()(v[g]),color:"#8b8a8a",cssClass:this.state.bookings[v[g]]?"dollar":""}].concat(Object(pt.a)(this.marked)),p[v[g]]=!0);for(var h in this.state.bookings)p[h]||(this.marked=[{d:gt()(h),cssClass:"dollar available"}].concat(Object(pt.a)(this.marked)));this.calendar.settings.invalid=this.invalid,this.calendar.settings.colors=this.colors,this.initialCalendar.settings.colors=this.colors,this.calendar.settings.marked=this.marked,this.calendar.redraw()}},{key:"groupByDates",value:function(e){var t=e.reduce(function(e,t){var a=t.date;return e[a]||(e[a]=[]),e[a].push(t),e},{});return Object.keys(t).map(function(e){return{date:e,items:t[e]}})}},{key:"handleCalender",value:function(e,t){if(e.background===this.available)this.calendar.settings.colors=[{d:e.date,background:this.unavailable}].concat(Object(pt.a)(t.settings.colors)),this.markBooking(e.date),this.updateData(e.date,"unavailable");else if(e.background===this.unavailable){var a=[{d:e.date,background:this.available}].concat(Object(pt.a)(t.settings.colors));this.calendar.settings.colors=a,this.markBooking(e.date,!0),this.updateData(e.date,"available")}else e.background===this.partiallyAvailable&&this.handleHourlyPopup(!0,e.date);this.selectedDate=e.date,t.setDate(e.date),this.setState({forceUpdateRender:!0})}},{key:"updateData",value:function(e,t){var a=Object(u.a)({},this.updatedData),n=gt()(e).format("YYYY-MM-DD"),i=this.updatedData.unavailable.indexOf(n),o=this.updatedData.available.indexOf(n);i>=0&&this.updatedData.unavailable.splice(i,1),o>=0&&this.updatedData.available.splice(o,1),a[t].push(n),this.updatedData=a}},{key:"handleHourlyCalender",value:function(e,t){var a=this;if(t.length>0)this.calendar.settings.colors=[{d:e,background:this.partiallyAvailable}].concat(Object(pt.a)(this.calendar.settings.colors)),this.calendar.settings.marked=this.calendar.settings.marked.filter(function(t){return!gt()(t.d).isSame(e,"d")}),this.markBooking(e,!0,!1);else{var n=this.calendar.settings.colors.findIndex(function(t){return gt()(t.d).isSame(e)&&t.background===a.partiallyAvailable});n>=0&&this.calendar.settings.colors.splice(n,1),this.calendar.redraw()}}},{key:"toggleHourlyView",value:function(e,t){var a=this;this.selectedDate=e||this.selectedDate,this.setState({isMonthlyView:t,buttonText:t?this.props.isAddPool?"Next":"Save":"Block",repeat:!1},function(){a.updatedData={available:[],unavailable:[]},a.makeUnavailabilityAvailable=[],a.colors=[],a.marked=[],a.updatedTimes=[],a.getPoolData(),a.calendar.redraw()})}},{key:"handleSubmit",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t,a,n,i,o,r,s,l,d,m=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.poolDetails,n=t.repeat,i=t.unAvailableTimeGroups,this.setState({loading:!0}),e.prev=2,!this.updatedTimes.some(function(e){var t=[];return m.state.bookings[e.date]&&(t=m.state.bookings[e.date].map(function(e){var t=At.time_insert[e.from].timeNumber,a=At.time_insert[e.to].timeNumber+1;return ft.a.range(t,a+1).map(function(e){return At.timeNumber[e].time_insert})}).flat()),t.filter(function(t){return e.times.includes(t)}).length>1})){e.next=7;break}return this.showErrorMessage("You can\u2019t block time with existing bookings."),e.abrupt("return");case 7:if(!this.updatedTimes.length){e.next=19;break}o=c.a.mark(function e(t){var o,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!!m.makeUnavailabilityAvailable.find(function(e){return e===m.updatedTimes[t].date}),r=(r=i[m.updatedTimes[t].date]?i[m.updatedTimes[t].date].flat():[]).map(function(e){return At.timeNumber[e].time_insert}),m.updatedTimes[t].times=[].concat(Object(pt.a)(r),Object(pt.a)(m.updatedTimes[t].times)),s={pool_id:a.id,available_date:m.updatedTimes[t].date,available_time:o?[]:m.updatedTimes[t].times,repeat_availablitlity:n,end_date:null,days:[]},e.next=7,m.props.client.mutate({mutation:uu,variables:{data:s}});case 7:if(l=e.sent,"BOOKING_EXIST"!==l.data.savePoolUnAvailability.status){e.next=12;break}return m.showErrorMessage("You can\u2019t block time with existing bookings."),e.abrupt("return",{v:void 0});case 12:m.setState({unAvailableTimeGroups:_()(m.state.unAvailableTimeGroups,Object(Fe.a)({},m.updatedTimes[t].date,{$set:m.formatSingleTimeGroup(m.updatedTimes[t].times)})),showBlockTimeRange:!1});case 13:case"end":return e.stop()}},e)}),r=0;case 10:if(!(r<this.updatedTimes.length)){e.next=18;break}return e.delegateYield(o(r),"t0",12);case 12:if("object"!==typeof(s=e.t0)){e.next=15;break}return e.abrupt("return",s.v);case 15:r++,e.next=10;break;case 18:this.makeUnavailabilityAvailable=[];case 19:if(!this.updatedData.unavailable.some(function(e){return m.state.bookings[e]})){e.next=23;break}return this.showErrorMessage("You can\u2019t block time with existing bookings."),e.abrupt("return");case 23:return e.next=25,this.props.client.mutate({mutation:cu,variables:{data:{unavailable:this.updatedData.unavailable,available:this.updatedData.available,pool_id:a.id}}});case 25:if("success"!==(l=e.sent).data.savePoolDaysUnAvailability.status){e.next=30;break}this.updatedData={available:[],unavailable:[]},e.next=33;break;case 30:if("BOOKING_EXIST"!==l.data.savePoolDaysUnAvailability.status){e.next=33;break}return this.showErrorMessage("You can\u2019t block time with existing bookings."),e.abrupt("return");case 33:this.getPoolData(),this.state.isAddPool&&this.state.isMonthlyView&&(this.sendCreatingPoolAnalytics(a.id),this.props.handleNextScreen("showManageCalendarScreen","payoutStatus")),this.setState({loading:!1}),e.next=48;break;case 38:if(e.prev=38,e.t1=e.catch(2),"Unauthenticated."!==(d=Gt(e.t1))){e.next=47;break}return e.next=44,this.props.refreshToken(this.props.history);case 44:"ok"===e.sent&&this.handleSubmit(),d="";case 47:this.setState({loading:!1,errorMessage:d});case 48:case"end":return e.stop()}},e,this,[[2,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendCreatingPoolAnalytics",value:function(e){var t=ie.getCreatePoolTime(),a=ie.getCreatePoolIDEvent(),n=new Date;if(t&&a&&a===e){var i=n-new Date(t),o={timestamp:(new Date).toISOString(),event_type:"creating-pool-time",poolId:e,duration:i,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"host"};Ci(this.props.client,o),ie.removeCreatePoolTime(),ie.removeCreatePoolIDEvent()}}},{key:"updateCalendarInst",value:function(e,t){this.calendar!==t&&(this.calendar=t)}},{key:"onSetDay",value:function(e){var t=e.repeat,a=e.endDate,n=e.days,i=e.dayIndex,o=e.addDayIndex,r=e.updateDate,s=e.unavailable;if(n&&this.setState({days:n}),a&&this.setState({endDate:a}),"number"===typeof i&&this.setState({dayIndex:i}),"boolean"===typeof t&&this.setState({repeat:t}),o>=0){var l={d:r,background:s?this.unavailable:n[o].active?this.partiallyAvailable:this.available},d=this.repeatedDays.findIndex(function(e){return e.d===r});d>=0?n[o].active?(this.repeatedDays[d]=l,this.repeatedDays=Object(pt.a)(this.repeatedDays)):this.repeatedDays=this.repeatedDays.filter(function(e){return e.d!==r}):this.repeatedDays=[l].concat(Object(pt.a)(this.repeatedDays));var c=this.calendar.settings.colors.findIndex(function(e){return e.d===r});c>=0?n[o].active?(this.calendar.settings.colors[c]=l,this.calendar.settings.colors=Object(pt.a)(this.calendar.settings.colors)):this.calendar.settings.colors=this.calendar.settings.colors.filter(function(e){return e.d!==r}):this.calendar.settings.colors=[l].concat(Object(pt.a)(this.calendar.settings.colors)),this.calendar.redraw()}}},{key:"presetSelectedDayUnchangedTime",value:function(e,t,a){var n=this.state.poolDetails,i=gt()(t).format("YYYY-MM-DD"),o=gt()(a).format("YYYY-MM-DD");this.setState({timeDetails:e}),e=e.filter(function(e){return e.activeClass}),this.presetSelectedUpdateUnavailabilityTime(i,e,o),this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return i!==e.date}),this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return e.date!==o&&!e.temporary});var r=e.map(function(e){return{date:i,time:e.time_insert,temporary:!0,__typename:"PoolUnavailabilities"}});this.updatedUnavailability=[].concat(Object(pt.a)(this.updatedUnavailability),Object(pt.a)(r));var s=this.state,l=s.availableFrom,d=s.availableTo,c=e.filter(function(e){return!e.disable&&e.activeClass}),m=c[0]&&c[0].time_insert,u=c[c.length-1]&&c[c.length-1].time_insert;if(m===l&&u===d)this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return i!==e.date}),this.updatedData.available=this.updatedData.available.filter(function(e){return i!==e}),this.makeUnavailabilityAvailable.push(i),this.updatedData.unavailable.push(i);else if(this.updatedUnavailability.length>0){this.calendar.settings.marked=this.calendar.settings.marked||[],this.calendar.settings.marked=this.calendar.settings.marked.filter(function(e){return!gt()(e.d).isSame(t,"d")}),this.markBooking(t,!0,!1),n.unavailable_dates.find(function(e){return gt()(e).isSame(gt()(t),"day")})&&-1===this.updatedData.available.indexOf(i)&&this.updatedData.available.push(i)}else 0===this.updatedUnavailability.length&&(this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return i!==e.date}),this.calendar.settings.marked=this.calendar.settings.marked.filter(function(e){return!gt()(e.d).isSame(t,"d")}),this.markBooking(t,!0,!1));this.calendar.redraw()}},{key:"presetSelectedUpdateUnavailabilityTime",value:function(e,t,a){var n=this.updatedTimes.findIndex(function(t){return gt()(t.date).isSame(e)}),i=this.updatedData.unavailable.indexOf(e);i>=0&&this.updatedData.unavailable.splice(i,1),n>=0?this.updatedTimes[n].times=t.map(function(e){return e.time_insert}):(this.updatedTimes=this.updatedTimes.filter(function(e){return e.date!==a||!e.temp}),this.updatedTimes.push({date:e,times:t.map(function(e){return e.time_insert}),temp:!0}))}},{key:"onSetTimeDetails",value:function(e,t){var a=gt()(t).format("YYYY-MM-DD"),n=this.state.poolDetails;this.setState({timeDetails:e}),e=e.filter(function(e){return e.activeClass}),this.updateUnavailabilityTime(a,e),this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return a!==e.date});var i=e.map(function(e){return{date:a,time:e.time_insert,__typename:"PoolUnavailabilities"}});this.updatedUnavailability=[].concat(Object(pt.a)(this.updatedUnavailability),Object(pt.a)(i)),this.updatedTimes.length&&(this.updatedTimes=this.updatedTimes.map(function(e){return e.date===a&&(e.temp=!1),e}));var o=this.state,r=o.availableFrom,s=o.availableTo,l=e.filter(function(e){return!e.disable&&e.activeClass}),d=l[0]&&l[0].time_insert,c=l[l.length-1]&&l[l.length-1].time_insert;if(d===r&&c===s)this.calendar.settings.colors=[{d:t,background:this.unavailable}].concat(Object(pt.a)(this.calendar.settings.colors)),this.markBooking(t),this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return a!==e.date}),this.updatedData.available=this.updatedData.available.filter(function(e){return a!==e}),this.makeUnavailabilityAvailable.push(a),this.updatedData.unavailable.push(a);else if(this.updatedUnavailability.length>0){this.calendar.settings.colors=[{d:t,background:this.partiallyAvailable}].concat(Object(pt.a)(this.calendar.settings.colors)),this.markBooking(t,!0),n.unavailable_dates.find(function(e){return gt()(e).isSame(gt()(t),"day")})&&-1===this.updatedData.available.indexOf(a)&&this.updatedData.available.push(a),this.makeUnavailabilityAvailable=this.makeUnavailabilityAvailable.filter(function(e){return e!==a})}else 0===this.updatedUnavailability.length&&(this.calendar.settings.colors=[{d:t,background:this.available}].concat(Object(pt.a)(this.calendar.settings.colors)),this.updatedUnavailability=this.updatedUnavailability.filter(function(e){return a!==e.date}),this.calendar.settings.marked=this.calendar.settings.marked.filter(function(e){return!gt()(e.d).isSame(t,"d")}),this.makeUnavailabilityAvailable=this.makeUnavailabilityAvailable.filter(function(e){return e!==a}));this.calendar.redraw()}},{key:"updateUnavailabilityTime",value:function(e,t){var a=this.updatedTimes.findIndex(function(t){return gt()(t.date).isSame(e)}),n=this.updatedData.unavailable.indexOf(e);n>=0&&this.updatedData.unavailable.splice(n,1),a>=0?this.updatedTimes[a].times=t.map(function(e){return e.time_insert}):this.updatedTimes.push({date:e,times:t.map(function(e){return e.time_insert})})}},{key:"onSelectDate",value:function(e){this.selectedDate=e}},{key:"onCancelRepeat",value:function(){for(var e=this,t=function(t){e.calendar.settings.colors=e.calendar.settings.colors.filter(function(a){return!(gt()(a.d).isSame(e.repeatedDays[t].d)&&a.background===e.partiallyAvailable)})},a=0;a<this.repeatedDays.length;a++)t(a);this.repeatedDays=[],this.calendar.redraw()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.unAvailableTimeGroups,n=t.isAddPool,o=t.loading,r=t.buttonText,s=t.isMonthlyView,l=t.poolDetails,d=t.timeDetails,c=t.repeat,m=t.minTime,u=t.availableFrom,p=t.availableTo,v=t.firstAvailableDate,g=this.selectedDate,h=this.calendar,f=this.updatedUnavailability;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},o&&i.a.createElement(ut,{loading:o}),i.a.createElement("div",{className:"".concat(e.container," ").concat(n?e.addPoolAlign:"")},i.a.createElement("div",{className:e.editPoolcontainer},n?i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")):i.a.createElement("div",{className:e.backStep},i.a.createElement(ze.a,{to:"/host"},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK"))),n&&i.a.createElement("div",{className:e.stepperContainer},i.a.createElement(Id,{activeStep:this.activeStep})),i.a.createElement("div",{className:e.formContainer},i.a.createElement("div",{className:"manageCalender daily poolTimeManagements"},i.a.createElement("div",{className:e.ContentContainer},i.a.createElement("div",{className:e.headerContainer},i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h3"},"Manage Calendar"),i.a.createElement("div",{className:e.alignCenter},i.a.createElement(Oe.a,{variant:"body1",className:"".concat(e.marginLeft," ").concat(e.maxWidth)},"Tap on dates to block or unblock the entire day or click on ",i.a.createElement("span",{className:e.bold},"Daily view")," to block out specific hours"))),i.a.createElement("ul",{className:e.toggleBox},i.a.createElement("li",{className:s?e.activeToggle:"",onClick:this.toggleHourlyView.bind(null,null,!0)},"Monthly View"),i.a.createElement("li",{className:s?"":e.activeToggle,onClick:this.toggleHourlyView.bind(null,null,!1)},"Daily View")))),this.state.errorMessage?i.a.createElement(Us,{hide:this.handleErrorMessage.bind(this,""),message:this.state.errorMessage}):null,s?i.a.createElement("div",null,i.a.createElement(Pi.a.Form,null,i.a.createElement(Pi.a.FormGroup,null,i.a.createElement("label",null,i.a.createElement(Pi.a.Calendar,{theme:"bootstrap",layout:"liquid",yearChange:!1,month:"auto",display:"inline",placeholder:"Please Select...",value:this.state.firstAvailableDate,onDayChange:this.handleCalender,onInit:this.updateCalendarInst,showOuterDays:!1,min:v,colors:h.settings.colors,marked:h.settings.marked,invalid:h.settings.invalid},i.a.createElement("input",{type:"hidden"})))))):i.a.createElement(lu,{selectedDate:g,poolUnavailabilitie:[].concat(Object(pt.a)(l.pool_unavailabilities),Object(pt.a)(f)),poolDetails:l,invalid:h.settings.invalid,colors:this.initialCalendar.settings.colors,handleUpdate:this.handleHourlyCalender,onSetTimeDetails:this.onSetTimeDetails,presetSelectedDayUnchangedTime:this.presetSelectedDayUnchangedTime,onSelectDate:this.onSelectDate,timeDetails:d,onSetDay:this.onSetDay,onCancelRepeat:this.onCancelRepeat,minTime:m,availableFrom:u,availableTo:p,unavailableDates:l.unavailable_dates,updatedUnavailableDates:this.updatedData.unavailable,updatedUnavailability:f,getPoolData:this.getPoolData,firstAvailableDate:v,unAvailableTimeGroups:a,removeUnAvailableTimeGroup:this.removeUnAvailableTimeGroup,updateCalendarInst:this.updateCalendarInst,handleBlockTimeRange:this.handleBlockTimeRange,showBlockTimeRange:this.state.showBlockTimeRange,handleSubmit:this.handleSubmit,bookings:this.state.bookings,handleErrorMessage:this.handleErrorMessage})),s?i.a.createElement("div",{className:"".concat(e.submitBtn," ").concat(c?e.defaultReservationBtn:""," ").concat("Block"!==r||c?"":e.submitBtnRed)},i.a.createElement(Oe.a,{variant:"button",onClick:c?function(){}:this.handleSubmit},r)):null),i.a.createElement(Je.a,{keepMounted:!0,open:this.state.showHourlyPopup},i.a.createElement(tt.a,{className:e.popupContainer},i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("p",{className:"".concat(e.subTitle," ").concat(e.reduceMarginTop)},"Making this date available will remove your blocked out time slot")),i.a.createElement("div",{className:e.buttonsContainer},i.a.createElement(Oe.a,{variant:"button",className:e.okButton,onClick:this.makePartialAvailableOrUnavailable.bind(this,!0,this.state.selectedHourlyDate)},"Make it available"),i.a.createElement(Oe.a,{variant:"button",className:e.cancelButton,onClick:this.handleHourlyPopup.bind(this,!1,null)},"Cancel")))))))}}]),a}(i.a.Component);var hu=vu(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(gu,Object.assign({},t,e))});function fu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var ku={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},bu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveConnectedAccount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OauthInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveConnectedAccount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111,source:{body:"mutation saveConnectedAccount($data:OauthInput!){\n\tsaveConnectedAccount(data:$data){\n\t  status\n\t  message\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},yu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xu=a(157),Nu=function(e){Object(h.a)(a,e);var t=fu(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getProfileDetails=function(e){n.props.client.query({query:ku,fetchPolicy:"network-only"}).then(function(t){n.setState({profileImage:t.data.me.img_url||"",description:t.data.me.description||"",loading:!1,stripe_id:t.data.me.stripe_id,stripe_url:t.data.me.stripe_connect_url,isAnyPool:t.data.me.isAnyPool,tutorial_status:t.data.me.tutorial_status}),ie.setUserID(t.data.me.id),"payout"===e&&n.setState({payoutStatus:!0}),ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id)}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Gt(a),n.setState({loading:!1}),"Unauthenticated."!==i){t.next=7;break}return t.next=5,n.props.refreshToken(n.props.history);case 5:"ok"===t.sent&&n.getProfileDetails(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},n.getPoolDetails=Object(m.a)(c.a.mark(function e(){var t,a,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=parseInt(ie.getHostPoolID(),10),e.next=4,n.props.client.query({query:yu,variables:{id:t},fetchPolicy:"network-only"});case 4:a=e.sent,i=a.data.pool,n.setState({poolData:i}),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(0),o=Gt(e.t0),n.setState({loading:!1}),"Unauthenticated."!==o){e.next=18;break}return e.next=16,n.props.refreshToken(n.props.history);case 16:"ok"===e.sent&&n.getPoolDetails();case 18:case"end":return e.stop()}},e,null,[[0,9]])})),n.handleNextScreen=function(e,t){var a;n.setState((a={},Object(Fe.a)(a,e,!1),Object(Fe.a)(a,t,!0),Object(Fe.a)(a,"prevScreen",e),a))},n.setAvailableMonths=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.setState({availableMonths:e})},n.state={poolData:{},completionProgress:0,lastStep:1,locationStatus:!1,listingInfoStatus:!1,pricingGuest:!1,amenitiesListStatus:!1,amenitiesAdditionalStatus:!1,dimensionsStatus:!1,privacyStatus:!1,rulesStatus:!1,imagesStatus:!1,cancellationPolicyStatus:!1,payoutStatus:!1,profileStatus:!1,completedStatus:!1,profileImage:"",description:"",stripe_id:"",stripe_url:"",backBtnChange:!1,isAnyPool:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),showAvailabilityScreen:!1,showLearnHowBookScreen:!1,showRequestsInstructionScreen:!1,showMonthsSettingsScreen:!1,showManageCalendarScreen:!1,availableMonths:[]},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.history,n=t.location,i=xu.parse(this.props.location.search),o=(n.state||{}).lastStep,r=n.state&&n.state.completionProgress||0;void 0!==i.code&&""!==i.code?(this.setState({lastStep:o,completionProgress:r,loading:!0}),this.props.client.mutate({mutation:bu,variables:{data:{code:i.code}}}).then(function(t){t.data.saveConnectedAccount.status?(e.setState({loading:!1,errorMessage:"",successMessage:t.data.saveConnectedAccount.message,stripe_id:"connected"}),e.checkAddPoolDetails("payout"),a.push("/addpool")):(e.setState({loading:!1,errorMessage:t.data.saveConnectedAccount.message,successMessage:""}),e.checkAddPoolDetails("payout"))}).catch(function(t){console.log("error",t);var a=Gt(t);e.setState({profileFailError:a,loading:!1})})):this.checkAddPoolDetails()}},{key:"checkAddPoolDetails",value:function(e){var t,a=ie.getEditPoolStatus(),n=this.props.location,i=n.state&&n.state.lastStep,o=n.state&&n.state.completionProgress||this.state.completionProgress||0;i&&this.setState((t={},Object(Fe.a)(t,i,!0),Object(Fe.a)(t,"completionProgress",o),t));i||(null!==a&&this.setState({backBtnChange:!0}),"listing_info"===a?this.setState({listingInfoStatus:!0}):"images"===a?this.setState({imagesStatus:!0}):"amenties"===a?this.setState({amenitiesListStatus:!0}):"additional_amenties"===a?this.setState({amenitiesAdditionalStatus:!0}):"pricing_guest"===a?this.setState({pricingGuest:!0}):"cancellation_policy"===a?this.setState({cancellationPolicyStatus:!0}):"rules"===a?this.setState({rulesStatus:!0}):"privacy"===a?this.setState({privacyStatus:!0}):"location"===a?this.setState({locationStatus:!0}):"dimension"===a?this.setState({dimensionsStatus:!0}):"availability"===a?this.setState({showAvailabilityScreen:!0}):void 0===e&&this.setState({locationStatus:!0})),this.getProfileDetails(e),this.getPoolDetails()}},{key:"handleLocation",value:function(e){!0===e?this.setState({locationStatus:!1,listingInfoStatus:!0,isAnyPool:!0}):this.setState({locationStatus:!0,listingInfoStatus:!1,isAnyPool:!0})}},{key:"handleListingInfo",value:function(e){!0===e?this.setState({amenitiesListStatus:!0,listingInfoStatus:!1}):this.setState({amenitiesListStatus:!1,listingInfoStatus:!0})}},{key:"handlePricingGuest",value:function(e){var t=ie.getHostDataIncomplete();t&&this.state.poolData&&this.state.poolData.images&&!this.state.poolData.images.length>0?this.setState({imagesStatus:!0,pricingGuest:!1}):t?this.setState({showAvailabilityScreen:!0,pricingGuest:!1}):!0===e?this.setState({privacyStatus:!0,pricingGuest:!1}):this.setState({privacyStatus:!1,pricingGuest:!0})}},{key:"handleAmenitiesList",value:function(e){!0===e?this.setState({amenitiesAdditionalStatus:!0,amenitiesListStatus:!1}):this.setState({amenitiesAdditionalStatus:!1,amenitiesListStatus:!0})}},{key:"handleAmenitiesAdditional",value:function(e){!0===e?this.setState({amenitiesAdditionalStatus:!1,dimensionsStatus:!0}):this.setState({amenitiesAdditionalStatus:!0,dimensionsStatus:!1})}},{key:"handleDimensions",value:function(e){!0===e?this.setState({dimensionsStatus:!1,pricingGuest:!0}):this.setState({dimensionsStatus:!0,pricingGuest:!1})}},{key:"handlePrivacy",value:function(e){!0===e?this.setState({privacyStatus:!1,rulesStatus:!0}):this.setState({privacyStatus:!0,rulesStatus:!1})}},{key:"handleRules",value:function(e){!0===e?this.setState({rulesStatus:!1,imagesStatus:!0}):this.setState({rulesStatus:!0,imagesStatus:!1})}},{key:"handleImages",value:function(e){ie.getHostDataIncomplete()?this.setState({showAvailabilityScreen:!0,imagesStatus:!1}):this.state.completionProgress>=14?this.setState({completedStatus:!0,imagesStatus:!1}):!0===e?this.setState({imagesStatus:!1,cancellationPolicyStatus:!0}):this.setState({imagesStatus:!0,cancellationPolicyStatus:!1})}},{key:"handleCancellationPolicy",value:function(e){this.setState({cancellationPolicyStatus:!e,showAvailabilityScreen:e})}},{key:"handlePayout",value:function(e){ie.getHostDataIncomplete()?this.setState({completedStatus:!0,payoutStatus:!1}):!0===e?this.setState({payoutStatus:!1,profileStatus:!0}):this.setState({payoutStatus:!0,profileStatus:!1})}},{key:"handleProfile",value:function(e){!0===e?this.setState({profileStatus:!1,completedStatus:!0}):this.setState({profileStatus:!0,completedStatus:!1})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.backBtnChange,n=t.loading,o=t.locationStatus,r=t.listingInfoStatus,s=t.stripe_url,l=t.amenitiesListStatus,d=t.pricingGuest,c=t.amenitiesAdditionalStatus,m=t.dimensionsStatus,u=t.privacyStatus,p=t.rulesStatus,v=t.imagesStatus,g=t.cancellationPolicyStatus,h=t.payoutStatus,f=t.profileStatus,k=t.completedStatus,b=t.stripe_id,y=t.profileImage,x=t.description,N=t.isAnyPool,S=t.tutorial_status,w=t.showAvailabilityScreen,_=t.showLearnHowBookScreen,E=t.showRequestsInstructionScreen,F=t.showMonthsSettingsScreen,C=t.showManageCalendarScreen,T=t.prevScreen;return this.state.showHostPlaceholder?i.a.createElement(cl,{from:"addpool"}):i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:"".concat(e.container," ").concat(C?e.reducePadding:{})},i.a.createElement("div",{className:"".concat(e.addPoolContainer," ").concat(C?e.initialWidth:{})},!0===o?i.a.createElement(Md,{backBtnChange:a,isAnyPool:N,redirectToListingInfo:this.handleLocation.bind(this)}):"",!0===r?i.a.createElement(Ud,{backBtnChange:a,redirectToPricingGuest:this.handleListingInfo.bind(this),redirectToLocation:this.handleLocation.bind(this)}):"",!0===l?i.a.createElement($d,{backBtnChange:a,redirectToAmenitiesAdditional:this.handleAmenitiesList.bind(this),redirectToPricingGuest:this.handleListingInfo.bind(this)}):"",!0===c?i.a.createElement(ic,{backBtnChange:a,redirectToDimensions:this.handleAmenitiesAdditional.bind(this),redirectToAmenitiesList:this.handleAmenitiesList.bind(this)}):"",!0===m?i.a.createElement(dc,{backBtnChange:a,redirectToPrivacy:this.handleDimensions.bind(this),redirectToAmenitiesAdditional:this.handleAmenitiesAdditional.bind(this)}):"",!0===d?i.a.createElement(Xd,{backBtnChange:a,redirectToAmenitiesList:this.handlePricingGuest.bind(this),redirectToListingInfo:this.handleDimensions.bind(this)}):"",!0===u?i.a.createElement(fc,{backBtnChange:a,redirectToRules:this.handlePrivacy.bind(this),redirectToDimensions:this.handlePricingGuest.bind(this)}):"",!0===p?i.a.createElement(Sc,{backBtnChange:a,redirectToImages:this.handleRules.bind(this),redirectToPrivacy:this.handlePrivacy.bind(this)}):"",!0===v?i.a.createElement(Tc,{backBtnChange:a,redirectToCancellationPolicy:this.handleImages.bind(this),redirectToRules:this.handleRules.bind(this)}):"",!0===g?i.a.createElement(Ac,{backBtnChange:a,redirectToPayout:this.handleCancellationPolicy.bind(this),redirectToImages:this.handleImages.bind(this)}):"",w&&i.a.createElement(sm,{isEditing:a,handleNextScreen:this.handleNextScreen}),_&&i.a.createElement(wm,{isEditing:a,handleNextScreen:this.handleNextScreen,prevScreen:T}),E&&i.a.createElement(Pm,{isEditing:a,handleNextScreen:this.handleNextScreen}),F&&i.a.createElement(Um,{isEditing:a,handleNextScreen:this.handleNextScreen,setAvailableMonths:this.setAvailableMonths,prevScreen:T}),C&&i.a.createElement(hu,{handleNextScreen:this.handleNextScreen,availableMonths:this.state.availableMonths,isAddPool:!0}),!0===h?i.a.createElement(jc,{backBtnChange:a,stripe_id:b,stripe_url:s,redirectToProfile:this.handlePayout.bind(this),redirectToCancellationPolicy:this.handleCancellationPolicy.bind(this),handleNextScreen:this.handleNextScreen}):"",!0===f?i.a.createElement(Uc,{backBtnChange:a,profileImage:y,description:x,stripe_id:b,stripe_url:s,redirectToCompletedStatus:this.handleProfile.bind(this),redirectToPayout:this.handlePayout.bind(this),handleNextScreen:this.handleNextScreen}):"",!0===k?i.a.createElement(Yc,{tutorial_status:S}):"")))}}]),a}(i.a.Component);var Su=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",position:"fixed",background:"#fff",zIndex:"9",top:"0",overflow:"auto",height:"100%"}},addPoolContainer:{maxWidth:"500px",padding:"60px 0","@media (max-width:767px)":{padding:"20px 0 100px 0"}},initialWidth:{maxWidth:"initial"},reducePadding:{padding:-1!==navigator.appVersion.indexOf("Chrome/")?"0":"0 15px"}}}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Nu,Object.assign({},t,e))});function wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var _u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Eu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"changePoolStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"ChangePoolStatusInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"changePoolStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:108,source:{body:"mutation changePoolStatus($data:ChangePoolStatusInput){\n  changePoolStatus(data:$data){\n    status    \n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fu=function(e){Object(h.a)(a,e);var t=wu(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getPoolDetails=function(){n.setState({loading:!0},Object(m.a)(c.a.mark(function e(){var t,a,i,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=ie.getHostPoolID(),e.next=4,n.props.client.query({query:_u,variables:{id:t},fetchPolicy:"network-only"});case 4:a=e.sent,(i=a.data.pool)?(o=3!==i.status,n.setState({poolInfo:i,loading:!1,poolID:t,activePool:o})):n.setState({loading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r=Gt(e.t0),n.setState({loading:!1,hostError:r},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Unauthenticated."!==r){e.next=5;break}return e.next=3,n.props.refreshToken(n.props.history);case 3:"ok"===e.sent&&n.getPoolDetails();case 5:case"end":return e.stop()}},e)})));case 13:case"end":return e.stop()}},e,null,[[0,9]])})))},n.state={activeStep:0,poolInfo:{},loading:!1,deleteAlert:!1,deactiveAlert:!1,activePool:!0,activateAlert:!1,reason:"",otherReason:""},n.redirectToListingInfo=n.redirectToListingInfo.bind(Object(g.a)(n)),n.handleDeletePoolAlert=n.handleDeletePoolAlert.bind(Object(g.a)(n)),n.closePopup=n.closePopup.bind(Object(g.a)(n)),n.handleDeletePool=n.handleDeletePool.bind(Object(g.a)(n)),n.handleDeactiveAlert=n.handleDeactiveAlert.bind(Object(g.a)(n)),n.handleActivatePoolAlert=n.handleActivatePoolAlert.bind(Object(g.a)(n)),n.onSelectReason=n.onSelectReason.bind(Object(g.a)(n)),n.checkOnSubmit=n.checkOnSubmit.bind(Object(g.a)(n)),n.onReasonChange=n.onReasonChange.bind(Object(g.a)(n)),n.handlePauseReason=n.handlePauseReason.bind(Object(g.a)(n)),n.handlePauseReasonMessage=n.handlePauseReasonMessage.bind(Object(g.a)(n)),n.handleOtherReason=n.handleOtherReason.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPoolDetails()}},{key:"handleDeletePoolAlert",value:function(){this.setState({deleteAlert:!0})}},{key:"handleActivatePoolAlert",value:function(){this.setState({activateAlert:!0})}},{key:"closePopup",value:function(){this.setState({deleteAlert:!1,deactiveAlert:!1,activateAlert:!1})}},{key:"handleDeactiveAlert",value:function(){this.setState({deactiveAlert:!0})}},{key:"handleDeletePool",value:function(e){var t=this,a=this.state.poolID,n=this.props.history;this.setState({loading:!0});var i={pool_id:parseInt(a)||"",status:parseInt(e)};3===e&&(i.pause_reason=this.handlePauseReason(this.state.reason),i.pause_reason_message=this.handlePauseReasonMessage(this.state.reason)),this.props.client.mutate({mutation:Eu,variables:{data:i}}).then(function(e){n.push("host")}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),t.setState({hostError:i,loading:!1}),"Unauthenticated."!==i){a.next=7;break}return a.next=5,t.props.refreshToken(t.props.history);case 5:"ok"===a.sent&&t.handleDeletePool(e);case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"redirectToListingInfo",value:function(){this.props.redirectToListingInfo(!0)}},{key:"redirectToEditPool",value:function(e){var t=this.props.history;ie.setEditPoolStatus(e),t.push("addpool")}},{key:"onSelectReason",value:function(e){var t=e.target.value;this.setState({reason:t})}},{key:"onReasonChange",value:function(e){var t=e.target.value;this.setState({otherReason:t})}},{key:"handleOtherReason",value:function(e){return e.match(/Other/)?this.state.otherReason:e}},{key:"checkOnSubmit",value:function(){return!this.state.reason||this.state.reason.match(/Other|had a bad experience/)&&this.state.otherReason.trim().length<=15}},{key:"handlePauseReasonMessage",value:function(e){return e.toLowerCase().match(/other|had a bad experience/)?this.state.otherReason:e}},{key:"handlePauseReason",value:function(e){return e.toLowerCase().match(/other/)?this.state.otherReason:e}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.loading,o=a.poolInfo,r=a.deactiveAlert,s=a.activePool,l="";return l=0===o.status?"PENDING INSPECTION":1===o.status||5===o.status?"Active":2===o.status||6===o.status?"PENDING SWIMPLY APPROVAL":3===o.status?"INACTIVE":"PENDING APPROVAL",i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.editPoolcontainer},i.a.createElement("div",{className:t.backStep},i.a.createElement(ze.a,{to:"/host"},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK"))),i.a.createElement("div",{className:t.ContentContainer},i.a.createElement(Oe.a,{variant:"h3"},"Edit Pool Details"),i.a.createElement(Oe.a,{variant:"h4"},""===o.title?"Lovely Pool with porch":o.title),i.a.createElement("p",null,o.full_address)),i.a.createElement("div",{className:t.formContainer},0===o.status||2===o.status?i.a.createElement(Ae.a,{className:"PENDING INSPECTION"===l||"PENDING APPROVAL"===l||"PENDING SWIMPLY APPROVAL"===l?t.greenBtn+" "+t.waitingCertiBtn:"INACTIVE"===l?t.redBtn+" "+t.waitingCertiBtn:t.waitingCertiBtn},l):"",i.a.createElement("div",{className:t.formInputBox},i.a.createElement("ul",{className:t.editPoolList},i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"listing_info")},"Pool Name and Description"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"images")},"Pool Images"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"amenties")},"Amenities"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"additional_amenties")},"Additional Amenities "),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"pricing_guest")},"Pricing & Guests"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"cancellation_policy")},"Cancellation Policy"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"rules")},"Pool Rules"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"privacy")},"Privacy"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"location")},"Location and Access Instructions"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"dimension")},"Pool Dimensions"),i.a.createElement("li",{onClick:this.redirectToEditPool.bind(this,"availability")},"Availability"))),"Active"===l||"INACTIVE"===l?i.a.createElement("div",{className:t.formInputBox},i.a.createElement(Oe.a,{variant:"subtitle2",component:"label"},"LISTING STATUS"),!0===s?i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!0===s?t.active:""},"Active"),i.a.createElement("li",{className:!0!==s?t.active:"",onClick:this.handleDeactiveAlert},"Paused")):i.a.createElement("ul",{className:t.toggleBox},i.a.createElement("li",{className:!0===s?t.active:"",onClick:this.handleActivatePoolAlert},"Active"),i.a.createElement("li",{className:!0!==s?t.active:""},"Paused"))):""))),i.a.createElement(Je.a,{open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,{className:t.editPoolPopupText},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement(Oe.a,{variant:"h3"},"Pause pool"),i.a.createElement("p",null,"Pausing this pool will cancel all pending reservation requests and confirmed bookings for this pool."),i.a.createElement("br",null),"You may reactivate this pool later, but cancelled bookings will not return.",i.a.createElement("br",null),i.a.createElement(oi.a,{className:t.selectReason,value:this.state.reason,onChange:this.onSelectReason,displayEmpty:!0},i.a.createElement(si.a,{value:"",className:t.selectItem},"Select"),Nt.map(function(e,a){return i.a.createElement(si.a,{className:t.selectItem,value:e},e)})),this.state.reason.match(/Other|had a bad experience/)&&i.a.createElement("div",null,i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.otherReason,onChange:this.onReasonChange,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"Pause Reason (min 15 characters)"})),i.a.createElement("p",{className:t.continueText},"Are you sure you want to continue?"),i.a.createElement("div",{className:t.divider}))),i.a.createElement(hi.a,{className:t.deactivateBtn},i.a.createElement(Ae.a,{className:"".concat(t.mainButton," ").concat(this.checkOnSubmit()?t.disableBtn:""),disabled:this.checkOnSubmit(),onClick:function(){return e.handleDeletePool(3)}},"PAUSE THIS POOL"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"CANCEL"))),i.a.createElement(Je.a,{open:this.state.deleteAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,{className:t.editPoolPopupText},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement(Oe.a,{variant:"h3"},"Delete this pool"),"Deleting this pool will cancel all pending reservation requests and confirmed bookings for this pool.",i.a.createElement("br",null),"Deleting this pool is a permanent action and cannot be undone later.",i.a.createElement("br",null),i.a.createElement("p",{className:t.continueText},"Are you sure you want to continue?"),i.a.createElement("div",{className:t.divider}))),i.a.createElement(hi.a,{className:t.deactivateBtn},i.a.createElement(Oe.a,{variant:"button",onClick:function(){return e.handleDeletePool(6)},autoFocus:!0},"DELETE THIS POOL"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"CANCEL"))),i.a.createElement(Je.a,{open:this.state.activateAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,{className:t.editPoolPopupText},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement(Oe.a,{variant:"h3"},"Activate this pool"),i.a.createElement("p",{className:t.continueText},"Are you sure you want to continue?"),i.a.createElement("div",{className:t.divider}))),i.a.createElement(hi.a,{className:t.deactivateBtn},i.a.createElement(Oe.a,{variant:"button",onClick:function(){return e.handleDeletePool(1)},autoFocus:!0},"ACTIVATE THIS POOL"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"CANCEL"))))}}]),a}(i.a.Component);var Cu=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},addPoolContainer:{"& p":{fontWeight:"100"}},backStep:{marginBottom:"10px","& a":{color:e.palette.common.blue,fontWeight:"500"},"& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"}},ContentContainer:{paddingTop:"0","& h3":{fontSize:"25px",marginBottom:"12px"},"& p":{fontWeight:"100",fontSize:"14px",margin:"2px 0 0"}},formContainer:{maxWidth:"500px",paddingTop:"20px"},nextButton:{marginTop:"35px"},editPoolcontainer:{padding:"60px 0"},toggleBox:{listStyle:"none",display:"flex",paddingLeft:"0",margin:"0","& li":{padding:"8px 30px",cursor:"pointer",border:"1px solid #ccc","&:first-child":{borderRadius:"5px 0px 0px 5px"},"&:last-child":{marginLeft:"-1px",borderRadius:"0px 5px 5px 0px"}}},active:{border:"1px solid #22bfea !important",color:e.palette.common.blue,zIndex:"1",cursor:"text !important"},formInputBox:{position:"relative",marginBottom:"20px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontSize:"12px",marginBottom:"5px",letterSpacing:"1px"}},editPoolList:{listStyle:"none",paddingLeft:"0",marginTop:"15px",cursor:"pointer","& li":{padding:"13px 15px",fontWeight:"300",background:"url(img/Arrow-Right.png)",border:"1px solid #d2dddd",borderBottom:"0",backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",backgroundSize:"20px","&:last-child":{borderBottom:"1px solid #d2dddd"}},"@media (max-width:767px)":{margin:"15px -15px","& li":{borderLeft:0,borderRight:0}}},waitingCertiBtn:{background:"#2bb67f",border:"2px solid #2bb67f",padding:"3px 15px",fontSize:"13px",marginTop:"15px",fontWeight:"300",textTransform:"uppercase","& span":{color:"#fff"},"&:hover":{background:"#2bb67f","& span":{color:e.palette.common.white}}},managePaymentBtn:{background:"transparent",border:"2px solid #22bfea",padding:"6px 45px",fontSize:"13px",fontWeight:"500",textTransform:"uppercase","@media(max-width:767px)":{width:"100%"},"& span":{color:e.palette.common.black},"&:hover":{background:e.palette.common.blue,"& span":{color:e.palette.common.white}}},deletePopup:{"& span":{padding:"3px 20px"},"@media (max-width:767px)":{"& > div > div ":{margin:"15px"}}},editPoolPopupText:{maxWidth:"350px","& h3":{marginBottom:"15px"},"& p":{color:e.palette.common.black,fontSize:"12px"}},deactivateBtn:{display:"block",padding:"0 15px","& span":{marginBottom:"10px",padding:"10px 20px"},"& span:last-child":{background:"transparent",color:e.palette.common.blue}},continueText:{background:"#fdece2",color:"#f99f6c !important",textAlign:"center",padding:"10px",marginTop:"35px"},divider:{borderBottom:"1px solid #ccc",paddingTop:"20px",margin:"0 -24px"},greenBtn:{background:"#008000",borderColor:"#008000"},redBtn:{background:"#ff0000",borderColor:"#ff0000"},selectReason:{width:"100%"},selectItem:{whiteSpace:"pre-wrap","@media (max-width:500px)":{fontSize:"14px"}},mainButton:{display:"block",width:"100%",maxWidth:"300px",height:"44px",padding:"9px 20px",margin:"0 auto","& span:last-child, span:first-child":{padding:"0",fontSize:"14px",color:"#fff"},"&:disabled":{opacity:"0.6"}},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default",marginTop:"22px","&:hover":{background:"#ccc"}}}},{withTheme:!0}),b.b,je.a)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Fu,Object.assign({},t,e))});function Tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Pu=function(e){Object(h.a)(a,e);var t=Tu(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"span"},i.a.createElement("div",{className:e.notFound},i.a.createElement("strong",null,"404")," Page Not found"))}}]),a}(i.a.Component),Iu=Object(T.withStyles)(function(e){return{notFound:{display:"flex",minHeight:"calc(100vh - 100px)",alignItems:"center",justifyContent:"center",fontSize:"25px","& strong":{paddingRight:"16px",fontSize:"35px",color:e.palette.common.blue}}}})(Pu);function Du(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ou={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"completeTutorial"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CompleteTutorialInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"completeTutorial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:105,source:{body:"mutation completeTutorial($data:CompleteTutorialInput!){\n  completeTutorial(data:$data){\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ru=function(e){Object(h.a)(a,e);var t=Du(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).startTutorial=function(e){var t=n.props.history,a=n.state.pool_id;n.props.client.mutate({mutation:Ou,variables:{data:{tutorial_status:!0}}}).then(function(e){}).catch(function(e){}),"start"===e?ie.setStartTutorial("start"):ie.removeStartTutorial(),t.push("/calendar-management/"+a)},n.state={poolId:""},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.history,t=parseInt(this.props.match.params.id),a=ie.getAccessToken();void 0!==a&&null!==a&&""!==a?isNaN(t)?e.push("/host"):this.setState({pool_id:t}):(ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),e.push("/"))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.editPoolcontainer},i.a.createElement("div",{className:t.headTutorial},i.a.createElement("figure",null,i.a.createElement("img",{alt:"",src:window.location.origin+"/img/Date-Active.png"})),i.a.createElement("div",{className:t.figurCaption},i.a.createElement(Oe.a,{variant:"h3"},"Welcome to the",i.a.createElement("br",null)," ",me?"Shvimply":"Swimply"," calendar!"))),i.a.createElement("div",{className:t.ContentTutorial},i.a.createElement(Oe.a,{variant:"h5"},"Here's a quick tutorial so you can make the most out of your pool's availability.")))),i.a.createElement("div",{className:t.footerTut},i.a.createElement("div",{className:t.containerTwo},i.a.createElement("span",{className:t.startTut,onClick:function(t){return e.startTutorial("start")}},"Start"),i.a.createElement("span",{className:t.skip,onClick:function(t){return e.startTutorial("skip")}},"Skip"))))}}]),a}(i.a.Component),Au=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",position:"fixed",top:"0",background:e.palette.common.blue,minHeight:"100vh",zIndex:"9999",color:" #fff"}},editPoolcontainer:{padding:"60px 0 90px",maxWidth:"380px","@media(max-width:767px)":{padding:"30px 15px 20px"}},headTutorial:{display:"flex",alignItems:"center","& figure":{margin:"0 15px 0 0"},"& h3":{fontSize:"20px"},"@media (max-width:767px)":{display:"block",textAlign:"center","& figure":{filter:"brightness(0) invert(1)",margin:"0 0 5px 0"},"& h3":{color:e.palette.common.white,textAlign:"center"}}},ContentTutorial:{paddingTop:"25px","& h5":{lineHeight:"21px",fontSize:"16px",fontWeight:"400","@media (max-width:767px)":{color:e.palette.common.white,textAlign:"center"}},"& p":{"@media (max-width:767px)":{color:e.palette.common.white,textAlign:"center"}}},footerTut:{background:e.palette.common.blue,padding:"20px 35px",position:"fixed",bottom:"0",width:"100%",right:"0",zIndex:"9999","& span":{display:"inline-block",padding:"10px 20px",textTransform:"uppercase",fontWeight:"500",float:"right",cursor:"pointer","@media (max-width:767px)":{width:"25%",textAlign:"center"}}},skip:{color:e.palette.common.white,marginRight:"55px","&:hover":{opacity:"0.8"}},startTut:{background:e.palette.common.white,color:e.palette.common.blue,borderRadius:"5px","&:hover":{opacity:"0.8"}}}},{withTheme:!0}),je.a,b.b)(Ru),Bu=a(115),Mu=a.n(Bu),ju=a(156),Lu=a.n(ju),Wu=a(133),zu=a.n(Wu);function Uu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Hu=a(157),Gu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Yu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMyPoolPendingReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getMyPoolPendingReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortBy"},value:{kind:"Variable",name:{kind:"Name",value:"sortBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancelled_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transfer_host_amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host_can_earn"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:899,source:{body:"query getMyPoolPendingReservation($sortBy: String){\n  getMyPoolPendingReservation(sortBy: $sortBy){\n    id\n    status\n    date\n  \tfrom\n    to\n    reason_for_booking\n    adult_guests\n    children_guests\n    infant_guests\n    reservation_price\n    host_review\n    cancelled_at\n    pool {\n      id\n      title\n      cancellation_policy {\n        id\n        hours\n      }\n    }\n    user{\n        id\n        firstname\n        lastname\n        img_url\n        rating\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    payment {\n      payment_mode\n      refund\n      transfer_host_amount\n    }\n    confirmed_at\n    edited_fields {\n      date\n      from\n      to\n      adult_guests\n      children_guests\n      infant_guests\n      host_can_earn\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMyPoolUpcomingReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getMyPoolUpcomingReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortBy"},value:{kind:"Variable",name:{kind:"Name",value:"sortBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancelled_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transfer_host_amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host_can_earn"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:901,source:{body:"query getMyPoolUpcomingReservation($sortBy: String){\n  getMyPoolUpcomingReservation(sortBy: $sortBy){\n    id\n    status\n    date\n  \tfrom\n    to\n    reason_for_booking\n    adult_guests\n    children_guests\n    infant_guests\n    reservation_price\n    host_review\n    cancelled_at\n    pool {\n      id\n      title\n      cancellation_policy {\n        id\n        hours\n      }\n    }\n    user{\n        id\n        firstname\n        lastname\n        img_url\n        rating\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    payment {\n      payment_mode\n      refund\n      transfer_host_amount\n    }\n    confirmed_at\n    edited_fields {\n      date\n      from\n      to\n      adult_guests\n      children_guests\n      infant_guests\n      host_can_earn\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMyPoolCompletedReservation"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getMyPoolCompletedReservation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_for_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adult_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"children_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infant_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reservation_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host_review"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancelled_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payment_mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refund"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transfer_host_amount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:541,source:{body:"query getMyPoolCompletedReservation{\n  getMyPoolCompletedReservation{\n    id\n    status\n    date\n  \tfrom\n    to\n    reason_for_booking\n    adult_guests\n    children_guests\n    infant_guests\n    reservation_price\n    host_review\n    cancelled_at\n    pool {\n      id\n      title\n      cancellation_policy {\n        id\n        hours\n      }\n    }\n    user{\n        id\n        firstname\n        lastname\n        img_url\n        rating\n        description\n    }\n    payment {\n      payment_mode\n      refund\n      transfer_host_amount\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"approveReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"approveReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:116,source:{body:"mutation approveReservation($data:ReservationInput!){\n  approveReservation(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Qu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"approveEditReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ApproveEditReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"approveEditReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:147,source:{body:"mutation approveEditReservation($data:ApproveEditReservationInput!){\n    approveEditReservation(data:$data){\n        status\n        message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ku={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"declineReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"declineReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117,source:{body:"mutation declineReservation($data:ReservationInput!){\n  declineReservation(data:$data){\n    status\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ju={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"declineEditReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeclineEditReservationTypeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"declineEditReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:152,source:{body:"mutation declineEditReservation($data:DeclineEditReservationTypeInput!){\n    declineEditReservation(data:$data){\n        status\n        message\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"booking"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:415,source:{body:"query user($id: Int!){\n  user(id: $id){\n   \tid\n    firstname\n    lastname\n    img_url\n    rating\n    roles {\n      name\n    }\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    reviews{\n      rating\n      comment\n      booking{\n        date \n        pool {\n          title\n        }\n      }\n    }\n    description\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Xu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:114,source:{body:"mutation cancelReservation($data:ReservationInput!){\n  cancelReservation(data:$data){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ep={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serviceCharge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76,source:{body:"query{\n    serviceCharge{\n        id\n        name\n        percentage\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},tp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"hideCompletedBooking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"booking_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hideCompletedBooking"},arguments:[{kind:"Argument",name:{kind:"Name",value:"booking_id"},value:{kind:"Variable",name:{kind:"Name",value:"booking_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:121,source:{body:"mutation hideCompletedBooking($booking_id: ID!){\n\thideCompletedBooking(booking_id: $booking_id){\n\t\tstatus\n\t\tmessage\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ap={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveConnectedAccount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OauthInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveConnectedAccount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111,source:{body:"mutation saveConnectedAccount($data:OauthInput!){\n\tsaveConnectedAccount(data:$data){\n\t  status\n\t  message\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},np=function(e){Object(h.a)(a,e);var t=Uu(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleOtherReason=function(e){return e.match(/Other/)?n.state.otherReason:e},n.showSuggestAnotherTime=function(){n.props.history.push({pathname:"/host-reservation/suggest-new-time",state:{reservationDetails:n.state.singlePoolDetails}})},n.hideSuggestAnotherTime=function(){n.setState({showSuggestAnotherTime:!1})},n.handleDeclineReasonPopup=function(e){n.setState({showAlert:!1,statusChangePopup:e})},n.closePopup=function(){n.setState({showAlert:!1})},n.onChangeCancelChatMessage=function(e){var t=e.target.value;n.setState({cancelChatMessage:t})},n.disableCancelChatButton=function(){return n.state.cancelChatMessage.trim().length<10},n.openCancelChatMessagePopup=function(){n.setState({statusChangePopup:!1,showCancelChatMessagePopup:!0})},n.handlePopup=function(e){n.setState({showAlert:e})},n.handleBookingId=function(e){n.setState({bookingId:e})},n.checkOnSubmit=function(e){var t=n.state["".concat(e,"Reason")];return(!t||t.match(/Other/)&&n.state.otherReason.trim().length<=10)&&n.state.showReasonDropDown},n.handleError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=Gt(e);n.setState({errorMessage:a,loading:!1,declineChangesReason:"",otherReason:"",cancelChatMessage:"",statusChangePopup:!1,showCancelChatMessagePopup:!1},Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Unauthenticated."!==a){e.next=5;break}return e.next=3,n.props.refreshToken(n.props.history);case 3:"ok"===e.sent&&t();case 5:case"end":return e.stop()}},e)})))},n.approveReservationChanges=function(e){n.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.props.client.mutate({mutation:Qu,variables:{data:e}});case 3:a=t.sent,"APPROVE_BOOKING_SUCCESSFUL"===(i=a.data.approveEditReservation).status?n.getPoolReservation("active"):"APPROVE_BOOKING_ALREADY_DONE_FOR_SOMEONE"===i.status?n.setState({loading:!1,errorMsg:"You have already approved this time slot for someone."}):n.setState({loading:!1,errorMsg:""}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n.handleError(t.t0,n.approveReservationChanges.bind(Object(g.a)(n),e));case 11:case"end":return t.stop()}},t,null,[[0,8]])})))},n.declineReservationChanges=function(e){n.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.props.client.mutate({mutation:Ju,variables:{data:Object(u.a)({},e,{decline_reason:n.handleOtherReason(n.state.declineChangesReason),cancel_chat_message:n.state.cancelChatMessage})}});case 3:a=t.sent,"EDIT_BOOKING_DECLINED_SUCCESSFUL"===a.data.declineEditReservation.status?n.getPoolReservation(n.state.subTabs):n.setState({loading:!1,declineChangesReason:"",otherReason:"",cancelChatMessage:"",statusChangePopup:!1,showCancelChatMessagePopup:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n.handleError(t.t0,n.declineReservationChanges.bind(Object(g.a)(n),e));case 11:case"end":return t.stop()}},t,null,[[0,8]])})))},n.deleteReservation=function(){var e=n.state.bookingId;if(e){var t=n.props.client;n.setState({loading:!0}),t.mutate({mutation:tp,variables:{booking_id:e}}).then(function(e){"true"===e.data.hideCompletedBooking.status&&n.getPoolReservation("completed")}).catch(function(e){n.setState({loading:!1})}),n.setState({bookingId:null})}},n.getPopupText=function(){switch(n.state.statusChange){case"approve":return{buttonOneText:"APPROVE RESERVATION REQUEST",buttonTwoText:"CANCEL",popUpTitle:"Approve request?"};case"decline":return{buttonOneText:"DECLINE RESERVATION REQUEST",buttonTwoText:"CANCEL",popUpTitle:"Decline request?"};case"cancel":return{buttonOneText:"CANCEL THIS RESERVATION",buttonTwoText:"GO BACK",popUpTitle:"Cancel reservation?"};case"approveChanges":return{buttonOneText:"APPROVE CHANGE REQUEST",buttonTwoText:"CANCEL",popUpTitle:"Approve change request?"};case"declineChanges":return{buttonOneText:"DECLINE CHANGE REQUEST",buttonTwoText:"CANCEL",popUpTitle:"Decline change request?"};default:return{buttonOneText:"",buttonTwoText:"",popUpTitle:""}}},n.dateWasBeforeOrEqualNow=function(e){var t=e+" "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:00");return(t=gt()(t).add(1,"hours")).isBefore(gt()())||t.isSame(gt()())},n.renderStatusChangePopup=function(){var e=n.props.classes,t=n.state,a=t.singlePoolDetails,o=t.subTabs,r=t.statusChange,s=t.errorMsg,l=n.getPopupText(),d=l.buttonOneText,c=l.buttonTwoText,m=l.popUpTitle,u=("active"===o||"upcoming"===o)&&Wt.isEditedBooking(a),p=u&&a.edited_fields.date,v=u&&(a.edited_fields.from||a.edited_fields.to),g=u&&(Wt.isNumber(a.edited_fields.adult_guests)||Wt.isNumber(a.edited_fields.children_guests)||Wt.isNumber(a.edited_fields.infant_guests));return i.a.createElement(Je.a,{className:e.calenderManegemetPopMain,open:n.state.statusChangePopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement("div",{className:e.borderBottom},i.a.createElement(tt.a,{className:e.calenderManegemetPop},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement(Oe.a,{variant:"h3"},m),""===s?"":i.a.createElement(Oe.a,{variant:"caption",className:e.popUpErrorMsg,component:"p"},s),i.a.createElement("div",{className:e.flexContainer},void 0!==a.user?i.a.createElement("div",null,i.a.createElement(io,{containerClass:e.avatarContainer,className:e.viewProfileAvatar,src:a&&a.img_url||window.location.origin+"/img/profile-icon.png",alt:"Avatar",user:a&&a.createdBy})):"",i.a.createElement("div",{className:e.popupTextContent},a.user&&i.a.createElement(Oe.a,{variant:"h4"},a.user.firstname+(a.user.lastname?" "+a.user.lastname.charAt(0).toUpperCase():""),"."),i.a.createElement("div",{className:p?e.lineThrough:""},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},a.date))),p&&i.a.createElement("div",{className:e.editedTime},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},a.edited_fields.date))),i.a.createElement("div",{className:v?e.lineThrough:""},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"h:mm A"},a.date+" "+a.from)," ","-"," ",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},a.date+" "+a.to))),v&&i.a.createElement("div",{className:e.editedTime},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.from||a.from))," ","-"," ",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.to||a.to)))),g?i.a.createElement("div",{className:e.editedGuests},i.a.createElement("p",null,Wt.isNumber(a.edited_fields.adult_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.adult_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.adult_guests),i.a.createElement("span",null," Adults, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.adult_guests)," Adults,"),Wt.isNumber(a.edited_fields.children_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.children_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.children_guests),i.a.createElement("span",null," Children, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.children_guests)," Children,"),Wt.isNumber(a.edited_fields.infant_guests)?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.infant_guests," "),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.infant_guests),i.a.createElement("span",null," Infants, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.infant_guests)," Infants,"))):i.a.createElement("p",null,"Adults: ",a.adult_guests,", Children:"," ",a.children_guests,", Infants:"," ",a.infant_guests),i.a.createElement("p",null,a.reason_for_booking)))))),i.a.createElement(tt.a,{className:e.calenderManegemetPop},i.a.createElement(jn.a,{id:"alert-dialog-description"},n.state.showReasonDropDown&&i.a.createElement("div",{className:e.selectContainer},i.a.createElement(Oe.a,{variant:"h5",className:e.dropDownTitle},"Let us know the reason for declining in order to help us improve our platform"),i.a.createElement(oi.a,{className:e.selectDeclineReason,value:n.state["".concat(r,"Reason")],onChange:n.onSelectDeclineReason.bind(null,r),displayEmpty:!0},i.a.createElement(si.a,{value:""},"Select"),("cancel"===r?xt:yt).map(function(e,t){return i.a.createElement(si.a,{value:e,key:"reason-".concat(t)},e)})),n.state["".concat(r,"Reason")].match(/Other/)&&i.a.createElement("div",{className:e.formInputBox},i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:n.state.otherReason,onChange:n.onSelectDeclineReason.bind(null,"other"),rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"Cancellation Reason (min 10 characters)"}))),i.a.createElement("div",{className:e.popupButtons},i.a.createElement(Ae.a,{className:e.mainButton,disabled:n.checkOnSubmit(r),onClick:function(){"approve"===r||"approveChanges"===r?n.changeBookingStatus(a.id,r):n.openCancelChatMessagePopup()}},d),i.a.createElement(Oe.a,{variant:"button",className:e.cancelBtn,onClick:n.closeStatusChangePopup},c)))))},n.state={tabs:0,subTabs:"active",moreRecent:!1,loading:!1,reservation:[],userProfileDetails:{},viewProfile:!1,singlePoolDetails:{},statusChange:"",statusChangePopup:!1,serviceCharge:0,applicationCharge:0,sortBy:"booking",stripe_url:"",stripe_id:"",errorMsg:"",mail_booking_id:"",mail_booking_status:"",declineReason:"",declineChangesReason:"",approveChangesReason:"",cancelReason:"",otherReason:"",showAlert:!1,showReasonDropDown:!1,showSuggestAnotherTime:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),showCancelChatMessagePopup:!1,cancelChatMessage:"",selectedReservationId:null,bookingId:null},n.handleTabsChange=n.handleTabsChange.bind(Object(g.a)(n)),n.handleChangeTabIndex=n.handleChangeTabIndex.bind(Object(g.a)(n)),n.handleMoreRecent=n.handleMoreRecent.bind(Object(g.a)(n)),n.viewUserProfile=n.viewUserProfile.bind(Object(g.a)(n)),n.sendMessage=n.sendMessage.bind(Object(g.a)(n)),n.closeProfilePopup=n.closeProfilePopup.bind(Object(g.a)(n)),n.changeReservationStatus=n.changeReservationStatus.bind(Object(g.a)(n)),n.closeStatusChangePopup=n.closeStatusChangePopup.bind(Object(g.a)(n)),n.changeBookingStatus=n.changeBookingStatus.bind(Object(g.a)(n)),n.sendCancelEvent=n.sendCancelEvent.bind(Object(g.a)(n)),n.getProfileDetails=n.getProfileDetails.bind(Object(g.a)(n)),n.redirectToStripe=n.redirectToStripe.bind(Object(g.a)(n)),n.onSelectDeclineReason=n.onSelectDeclineReason.bind(Object(g.a)(n)),n.handleNewReservation=n.handleNewReservation.bind(Object(g.a)(n)),n.handleStatusChange=n.handleStatusChange.bind(Object(g.a)(n)),n.deleteReservation=n.deleteReservation.bind(Object(g.a)(n)),n.channel="",n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history,a=ie.getAccessToken();if(null!==a&&""!==a){var n=Hu.parse(this.props.location.search);void 0!==n.code&&""!==n.code?(this.setState({loading:!0}),this.props.client.mutate({mutation:ap,variables:{data:{code:n.code}}}).then(function(a){a.data.saveConnectedAccount.status?(e.setState({loading:!1,stripe_id:"connected"}),t.push("/host-reservation"),"reservation-success"===ie.getPreviousUrl()&&(e.setState({tabs:1}),ie.removePreviousUrl()),e.getProfileDetails(),e.getPoolReservation("completed")):(e.setState({loading:!1,successMessage:""}),e.getProfileDetails(),e.getPoolReservation("completed"))}).catch(function(t){var a=Gt(t);e.setState({profileFailError:a,loading:!1}),e.getProfileDetails(),e.getPoolReservation("completed")})):void 0!==n.booking_id&&null!==n.booking_id&&""!==n.booking_id&&void 0!==n.status&&null!==n.status&&""!==n.state?(this.setState({mail_booking_id:n.booking_id,mail_booking_status:n.status},function(){e.getProfileDetails(),e.getPoolReservation("active")}),t.push("/host-reservation"),"reservation-success"===ie.getPreviousUrl()&&(this.setState({tabs:1}),ie.removePreviousUrl())):(this.setState({mail_booking_id:"",mail_booking_status:""}),t.push("/host-reservation"),"reservation-success"===ie.getPreviousUrl()&&(this.setState({tabs:1}),ie.removePreviousUrl()),this.getProfileDetails(),this.getPoolReservation("active")),this.props.client.query({query:ep,fetchPolicy:"network-only"}).then(function(t){var a=t.data.serviceCharge.findIndex(function(e){return"service_fee"===e.name}),n=t.data.serviceCharge.findIndex(function(e){return"host_fee"===e.name});e.setState({serviceCharge:t.data.serviceCharge[a].percentage,applicationCharge:t.data.serviceCharge[n].percentage})}).catch(function(t){e.setState({loading:!1})})}else ie.setPreviousUrl(this.props.location.pathname),ie.setPreviousSearchUrl(this.props.location.search),ie.setIsPreviousUrl("yes"),t.push("/")}},{key:"componentWillUnmount",value:function(){this.props.echo&&this.props.echo.leave&&this.props.echo.leave(this.channel)}},{key:"handleNewReservation",value:function(e){if(console.log("new reservation",e),e.id=e.id.toString(),("active"===this.state.subTabs||"upcoming"===this.state.subTabs)&&e.status<=1||"completed"===this.state.subTabs&&e.status>1)if("reservation"===this.state.sortBy)this.setState({reservation:_()(this.state.reservation,{$unshift:[e]})});else{var t=this.state.reservation.findIndex(function(t){var a=gt()("".concat(t.date," ").concat(t.from)).toISOString(),n=gt()("".concat(e.date," ").concat(e.from)).toISOString();return gt()(a).isAfter(gt()(n))});this.setState({reservation:_()(this.state.reservation,{$splice:[[t,0,e]]})})}}},{key:"handleStatusChange",value:function(e){console.log("handleStatusChange",e);var t=this.state.reservation.findIndex(function(t){return t.id===e.booking.toString()});console.log("reservationIndex",t),t>=0&&this.setState({reservation:_()(this.state.reservation,Object(Fe.a)({},t,{status:{$set:e.status}}))})}},{key:"getProfileDetails",value:function(){var e=this;this.props.client.query({query:Gu,fetchPolicy:"network-only"}).then(function(t){ie.setUserCountry(t.data.me.country_code),ie.setSwimmerCountry(t.data.me.country_code_swimmer),ie.setLastPoolId(t.data.me.last_pool_id),e.setState({stripe_url:t.data.me.stripe_connect_url,stripe_id:t.data.me.stripe_id,showHostPlaceholder:Wt.handleHostPlaceholder()}),ie.setUserID(t.data.me.id),e.channel="reservation.".concat(t.data.me.id),e.props.echo&&e.props.echo.private(e.channel).listen(".booking.created.host",function(t){e.handleNewReservation(t)}).listen(".booking.updated.host",function(t){e.handleStatusChange(t)})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Gt(a),e.setState({loading:!1}),"Unauthenticated."!==n){t.next=7;break}return t.next=5,e.props.refreshToken(e.props.history);case 5:"ok"===t.sent&&e.getProfileDetails();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"redirectToStripe",value:function(){var e=this.state.stripe_url;e=e+"&redirect_uri="+window.location.href,window.open(e,"_self")}},{key:"changeReservationStatus",value:function(e,t,a){var n,i=!!t.match(/decline|cancel|declineChanges/),o=i?"showAlert":"statusChangePopup",r=a?{}:{errorMsg:""};e.guestName=e.user?"".concat(e.user.firstname," ").concat(e.user.lastname?"".concat(e.user.lastname.charAt(0).toUpperCase(),"."):""):"";var s=e.reservation_price||0;s-=s/100*parseFloat(this.state.applicationCharge).toFixed(2),e.totalAmount="$".concat(parseFloat(s).toFixed(2)),this.setState(Object(u.a)((n={singlePoolDetails:e,statusChange:t},Object(Fe.a)(n,o,!0),Object(Fe.a)(n,"showReasonDropDown",i),n),r))}},{key:"viewUserProfile",value:function(e){var t=this;e.user.id&&(this.setState({loading:!0}),this.props.client.query({query:Zu,variables:{id:parseInt(e.user.id)},fetchPolicy:"network-only"}).then(function(a){t.setState({userProfileDetails:a.data.user,loading:!1,viewProfile:!0,selectedReservationId:e.id})}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==Gt(n)){a.next=6;break}return a.next=4,t.props.refreshToken(t.props.history);case 4:"ok"===a.sent&&t.viewUserProfile(e);case 6:t.setState({loading:!1});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()))}},{key:"closeProfilePopup",value:function(){this.setState({viewProfile:!1,selectedReservationId:null})}},{key:"closeStatusChangePopup",value:function(){this.setState({statusChangePopup:!1,showCancelChatMessagePopup:!1,cancelReason:"",declineReason:"",otherReason:"",cancelChatMessage:""})}},{key:"sendMessage",value:function(e,t){if(e)if(this.props.user&&!this.props.user.accept_chat_rules)this.props.history.replace("/chat-rules");else{var a=this.props.history;ie.setMessageReceiverId(e),ie.setBackBtnLink("reservation"),a.push({pathname:"conversations",state:{fromReservationDetails:!0,bookingId:t||this.state.selectedReservationId}})}}},{key:"handleTabsChange",value:function(e,t){this.setState({tabs:t}),0===t&&this.getPoolReservation("active")}},{key:"changeSubTabs",value:function(e){this.state.subTabs!==e&&this.getPoolReservation(e)}},{key:"getPoolReservation",value:function(e){var t=this;this.setState({loading:!0,subTabs:e,statusChangePopup:!1,showCancelChatMessagePopup:!1,cancelChatMessage:""});var a=this.state.sortBy;if("active"===e||"upcoming"===e){var n="active"===e?Yu:qu,i="active"===e?"getMyPoolPendingReservation":"getMyPoolUpcomingReservation";this.props.client.query({query:n,variables:{sortBy:a},fetchPolicy:"no-cache"}).then(function(a){var n=a.data[i];t.setState({loading:!1,reservation:n});var o=t.state,r=o.mail_booking_id,s=o.mail_booking_status;if(("active"===e||"upcoming"===e)&&null!==r&&""!==r&&void 0!==r&&""!==r){var l=ft.a.filter(n,{id:r});1===(l=ft.a.filter(l,{status:0})).length&&null!==s&&void 0!==s&&""!==s&&("approve"===s?t.changeReservationStatus(l[0],"approve"):"decline"===s&&t.changeReservationStatus(l[0],"decline"))}}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),t.setState({loading:!1,reservation:[]}),"Unauthenticated."!==i){a.next=7;break}return a.next=5,t.props.refreshToken(t.props.history);case 5:"ok"===a.sent&&t.getPoolReservation(e);case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}else this.props.client.query({query:Vu,fetchPolicy:"no-cache"}).then(function(e){var a=e.data.getMyPoolCompletedReservation;t.setState({loading:!1,reservation:a})}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Gt(n),t.setState({loading:!1,reservation:[]}),"Unauthenticated."!==i){a.next=7;break}return a.next=5,t.props.refreshToken(t.props.history);case 5:"ok"===a.sent&&t.getPoolReservation(e);case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"handleChangeTabIndex",value:function(e){this.setState({tabs:e})}},{key:"handleMoreRecent",value:function(e){var t=this,a=this.state,n=a.moreRecent,i=a.sortBy;n&&i!==e?this.setState({moreRecent:!n,sortBy:e},function(){t.getPoolReservation(t.state.subTabs)}):this.setState({moreRecent:!n})}},{key:"sendCancelEvent",value:function(e){var t={timestamp:(new Date).toISOString(),event_type:"booking-cancel",poolId:this.state.singlePoolDetails.id,bookingId:e,platform:"web",location:le?"US":"AU",userId:ie.getUserID(),userRole:"host"};Ci(this.props.client,t)}},{key:"changeBookingStatus",value:function(e,t){var a={booking_id:e};"approve"===t?this.approveReservationStatus(a):"decline"===t?(this.declineReservationStatus(a),this.sendCancelEvent(e)):"cancel"===t?(this.cancelReservationStatus(a),this.sendCancelEvent(e)):"approveChanges"===t?(this.approveReservationChanges(a),this.sendCancelEvent(e)):"declineChanges"===t&&(this.declineReservationChanges(a),this.sendCancelEvent(e))}},{key:"declineReservationStatus",value:function(e){var t=this;this.setState({loading:!0}),this.props.client.mutate({mutation:Ku,variables:{data:Object(u.a)({},e,{decline_reason:this.handleOtherReason(this.state.declineReason),cancel_chat_message:this.state.cancelChatMessage})}}).then(function(e){"DECLINED_BOOKING_SUCCESSFULL"===e.data.declineReservation.status?t.getPoolReservation("active"):t.setState({loading:!1,declineReason:"",otherReason:"",cancelChatMessage:"",statusChangePopup:!1,showCancelChatMessagePopup:!1})}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==(i=Gt(n))){a.next=6;break}return a.next=4,t.props.refreshToken(t.props.history);case 4:"ok"===a.sent&&t.declineReservationStatus(e);case 6:t.setState({errorMessage:i,loading:!1,declineReason:"",otherReason:"",cancelChatMessage:"",statusChangePopup:!1,showCancelChatMessagePopup:!1});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"cancelReservationStatus",value:function(e){var t=this;this.setState({loading:!0}),this.props.client.mutate({mutation:Xu,variables:{data:Object(u.a)({},e,{cancel_reason:this.handleOtherReason(this.state.cancelReason),cancel_reason_message:this.handleOtherReason(this.state.cancelReason),cancel_chat_message:this.state.cancelChatMessage})}}).then(function(e){"CANCELLED_BOOKING_SUCCESSFULL"===e.data.cancelReservation.status?t.getPoolReservation(t.state.subTabs):t.setState({loading:!1,cancelReason:"",otherReason:"",cancelChatMessage:"",statusChangePopup:!1,showCancelChatMessagePopup:!1})}).catch(function(){var a=Object(m.a)(c.a.mark(function a(n){var i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==(i=Gt(n))){a.next=6;break}return a.next=4,t.props.refreshToken(t.props.history);case 4:"ok"===a.sent&&t.cancelReservationStatus(e);case 6:t.setState({errorMessage:i,loading:!1,cancelReason:"",otherReason:"",statusChangePopup:!1,showCancelChatMessagePopup:!1});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"approveReservationStatus",value:function(e,t){var a=this;this.setState({loading:!0}),this.props.client.mutate({mutation:$u,variables:{data:e}}).then(function(e){"APPROVE_BOOKING_SUCCESSFULL"===e.data.approveReservation.status?a.getPoolReservation("active"):"APPROVE_BOOKING_ALREADY_DONE_FOR_SOMEONE"===e.data.approveReservation.status?(a.setState({loading:!1,errorMsg:"You have already approved this time slot for someone."}),void 0!==t&&""!==t&&a.changeReservationStatus(t,"approve",!0)):a.setState({loading:!1,errorMsg:""})}).catch(function(){var n=Object(m.a)(c.a.mark(function n(i){var o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("Unauthenticated."!==(o=Gt(i))){n.next=7;break}return n.next=4,a.props.refreshToken(a.props.history);case 4:"ok"===n.sent&&a.approveReservationStatus(e,t),o="";case 7:a.setState({errorMessage:o,loading:!1});case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"redirectToReviews",value:function(e){this.props.history.push("/reviews-host/"+e.id)}},{key:"onSelectDeclineReason",value:function(e,t){var a=t.target.value;this.setState(Object(Fe.a)({},"".concat(e,"Reason"),a))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.loading,o=a.tabs,r=a.moreRecent,s=a.reservation,l=a.subTabs,d=a.userProfileDetails,c=a.singlePoolDetails,m=a.statusChange,u=a.sortBy,p=a.applicationCharge,v=a.stripe_id;s=ft.a.reject(s,{user:null}),s=ft.a.reject(s,{user:""}),s=ft.a.reject(s,{pool:null}),s=ft.a.reject(s,{pool:""}),s=ft.a.filter(s,function(e){if(3===e.status||6===e.status){var t=gt()(e.date+" "+e.to).add("1","hours").format("MM/DD/YYYY h:mm A");return(gt()().isBefore(gt()(t))||gt()().isSame(gt()(t)))&&("active"===l||"upcoming"===l)||(gt()().isAfter(gt()(t))||6===e.status)&&"completed"===l?e:""}return e});var g=this.getPopupText(),h=g.buttonOneText,f=g.buttonTwoText,k="",b="",y="",x="";return"reservation"===u?(y="reservation",x="booking",k="Most recent requests",b="Reservation date"):(y="booking",x="reservation",k="Reservation date",b="Most recent requests"),i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===n?i.a.createElement(ut,{loading:n}):"",i.a.createElement("div",{className:t.hostMaintabs},i.a.createElement("div",{className:t.container+" "+t.tabsChange},i.a.createElement(Lu.a,{value:o,onChange:this.handleTabsChange,className:t.tabsHosting,indicatorColor:"primary",textColor:"primary"},i.a.createElement(zu.a,{label:"Hosting",className:0===o?t.activeTab:t.defaultTab}),i.a.createElement(zu.a,{label:"Swimming",className:1===o?t.activeTab:t.defaultTab})))),0===o?this.state.showHostPlaceholder?i.a.createElement(cl,null):i.a.createElement("div",null,i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.hostingPools},i.a.createElement(Oe.a,{variant:"h2"},"Manage Reservations"),i.a.createElement("ul",null,i.a.createElement("li",{className:"active"===l?t.active:"",onClick:function(){return e.changeSubTabs("active")}},"PENDING"),i.a.createElement("li",{className:"upcoming"===l?t.active:"",onClick:function(){return e.changeSubTabs("upcoming")}},"UPCOMING"),i.a.createElement("li",{className:"completed"===l?t.active:"",onClick:function(){return e.changeSubTabs("completed")}},"PAST"),"active"===l||"upcoming"===l?i.a.createElement("li",{className:!0===r?t.mostRecent+" "+t.activeMostRecent:t.mostRecent},i.a.createElement("ul",null,i.a.createElement(Ye.a,{className:t.mostRecentItem,onClick:function(t){return e.handleMoreRecent(y)}},i.a.createElement(Ve.a,{primary:k})),i.a.createElement(Mu.a,{in:r},i.a.createElement(Qe.a,{component:"div",className:t.reservationDate,onClick:function(t){return e.handleMoreRecent(x)}},i.a.createElement(Ye.a,null,i.a.createElement(Ve.a,{primary:b})))))):""),0!==s.length?s.map(function(a,n){var o=("active"===e.state.subTabs||"upcoming"===e.state.subTabs)&&Wt.isEditedBooking(a),r=!1,s=!1,l=!1,d=o&&a.edited_fields.date,c=o&&(a.edited_fields.from||a.edited_fields.to),m=o&&(Wt.isNumber(a.edited_fields.adult_guests)||Wt.isNumber(a.edited_fields.children_guests)||Wt.isNumber(a.edited_fields.infant_guests));if(c){var u=Rt.find(function(e){return e.time_insert===a.from}).timeNumber,g=Rt.find(function(e){return e.time_insert===a.to}).timeNumber+1-u,h=Rt.find(function(e){return e.time_insert===(a.edited_fields.from||a.from)}).timeNumber,f=Rt.find(function(e){return e.time_insert===(a.edited_fields.to||a.to)}).timeNumber+1-h;r=f>g,l=f<g}if(m){var k=a.adult_guests+a.children_guests+a.infant_guests;s=(Wt.isNumber(a.edited_fields.adult_guests)?a.edited_fields.adult_guests:a.adult_guests)+(Wt.isNumber(a.edited_fields.children_guests)?a.edited_fields.children_guests:a.children_guests)+(Wt.isNumber(a.edited_fields.infant_guests)?a.edited_fields.infant_guests:a.infant_guests)>k}var b=0;b=a.reservation_price,b-=b/100*parseFloat(p).toFixed(2),b=o&&a.edited_fields.host_can_earn?a.edited_fields.host_can_earn:b;var y=gt()(),x=a.confirmed_at?gt()(a.confirmed_at):y,N=Math.round(gt.a.duration(y.diff(x)).asHours())<12,S=!1;if(5===a.status){var w=At.time_insert[a.from].timeNumber,_=gt()(a.date).hour(w),E=gt()(_).subtract(a.pool.cancellation_policy.hours,"hours");gt()(a.cancelled_at).isAfter(E)&&(S=!0)}var F=a&&a.status&&(2===a.status||5===a.status||6===a.status);return i.a.createElement("div",{className:t.listBoxHost,key:n},i.a.createElement("div",{className:t.listBoxHostLeft},i.a.createElement(io,{src:a&&a.user&&a.user.img_url||window.location.origin+"/img/profile-icon.png",alt:"Avatar",user:a&&a.user})),i.a.createElement("div",{className:t.listBoxHostMiddle},i.a.createElement("div",{className:t.sectionWithStatus},i.a.createElement(Oe.a,{variant:"h4"},a.user.firstname,void 0!==a.user.lastname&&null!==a.user.lastname&&""!==a.user.lastname?" "+a.user.lastname.charAt(0).toUpperCase():"","."),i.a.createElement("div",{className:t.listBoxHostRight},0===a.status||o?i.a.createElement(Oe.a,{className:t.pendingBtn,variant:"button"},"Pending Approval"):null,1===a.status&&!o&&i.a.createElement(Oe.a,{className:t.approvedBtn,variant:"button"},"Awaiting Guest Confirmation"),2===a.status&&!o&&i.a.createElement(Oe.a,{className:t.declinedBtn,variant:"button"},"Declined"),3===a.status&&!o&&!e.dateWasBeforeOrEqualNow(a.date,a.to)&&i.a.createElement(Oe.a,{className:t.approvedBtn,variant:"button"},"Confirmed"),4===a.status&&!o&&i.a.createElement(Oe.a,{className:t.declinedBtn,variant:"button"},"Payment Failed"),5===a.status&&!o&&i.a.createElement(Oe.a,{className:t.declinedBtn,variant:"button"},"Cancelled"),(3===a.status&&!o&&e.dateWasBeforeOrEqualNow(a.date,a.to)||6===a.status)&&i.a.createElement(Oe.a,{className:t.confirmedBtn,variant:"button"},"Completed")),F?i.a.createElement("button",{className:t.deleteBtn,onClick:function(){return e.handleBookingId(a.id)}},i.a.createElement("img",{src:window.location.origin+"/img/icons/close.png",style:{width:18,height:18},alt:""})):null),null!==a.user.rating&&""!==a.user.rating&&0!==a.user.rating?i.a.createElement("span",{className:t.ratingStar},i.a.createElement(Eo.a,{rating:null===a.user.rating||""===a.user.rating?0:a.user.rating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px"})):i.a.createElement("span",{className:t.emptyRatingStar}),o&&i.a.createElement("div",{className:t.reservationChangesContainer},r&&i.a.createElement("p",{className:"date"},"Guest wants to extend booking"),s&&i.a.createElement("p",{className:"guests"},"Guest wants to add guests"),l&&i.a.createElement("p",{className:"guests"},"Guest wants reduce hours")),i.a.createElement("label",{onClick:function(t){return e.viewUserProfile(a,n)}},"View Profile"),i.a.createElement("label",{onClick:function(){return e.sendMessage(a.user.id,a.id)}},"Send a Message"),i.a.createElement("div",{className:t.reservationInfo},i.a.createElement(Oe.a,{className:t.headingTop},a.pool.title),i.a.createElement("div",{className:d?t.lineThrough:""},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},a.date))),d&&i.a.createElement("div",{className:t.editedTime},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},a.edited_fields.date))),i.a.createElement("div",{className:c?t.lineThrough:""},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"h:mm A"},a.date+" "+a.from)," ","-"," ",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},a.date+" "+a.to))),c&&i.a.createElement("div",{className:t.editedTime},i.a.createElement("p",null,i.a.createElement(vi.a,{format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.from||a.from))," ","-"," ",i.a.createElement(vi.a,{add:{hours:1},format:"h:mm A"},(a.edited_fields.date||a.date)+" "+(a.edited_fields.to||a.to)))),m?i.a.createElement("div",{className:t.editedGuests},i.a.createElement("p",null,a.edited_fields.adult_guests?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.adult_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.adult_guests),i.a.createElement("span",null," Adults, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.adult_guests)," Adults,"),a.edited_fields.children_guests?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.children_guests),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.children_guests),i.a.createElement("span",null," Children, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.children_guests)," Children,"),a.edited_fields.infant_guests?i.a.createElement("span",{className:"item edited"},i.a.createElement("span",{className:"line-through"},a.infant_guests," "),i.a.createElement("span",{className:"blue"}," ",a.edited_fields.infant_guests),i.a.createElement("span",null," Infants, ")):i.a.createElement("span",{className:"item"},i.a.createElement("span",{className:"gray"},a.infant_guests)," Infants,"))):i.a.createElement("p",null,"Adults: ",a.adult_guests,", Children:"," ",a.children_guests,", Infants:"," ",a.infant_guests),a.reason_for_booking&&i.a.createElement("p",null,a.reason_for_booking)),i.a.createElement("div",{className:t.bottomBox},o?i.a.createElement("div",{className:t.buttonsContainer},i.a.createElement("p",null,"This update will you earn:",i.a.createElement("strong",{className:t.blue},"\xa0$",parseFloat(b).toFixed(2))),i.a.createElement("div",{className:"flex"},i.a.createElement(Oe.a,{variant:"button",onClick:e.changeReservationStatus.bind(e,a,"approveChanges")},"Approve change"),i.a.createElement(Oe.a,{className:"decline-button",variant:"button",onClick:e.changeReservationStatus.bind(e,a,"declineChanges")},"Decline change"))):i.a.createElement(i.a.Fragment,null,5!==a.status||S?i.a.createElement("p",null,(3===a.status||S)&&e.dateWasBeforeOrEqualNow(a.date,a.to)?"You Earned:":"You Could Earn: ",i.a.createElement("strong",{className:t.blue},"\xa0$",parseFloat(b).toFixed(2))):"",N&&(1===a.status||3===a.status&&!e.dateWasBeforeOrEqualNow(a.date,a.to))&&i.a.createElement("label",{onClick:function(t){return e.changeReservationStatus(a,"cancel")}},"CANCEL RESERVATION"),(3===a.status||6===a.status)&&(new Date).setHours(0,0,0,0)>new Date(a.date)&&!1===a.host_review&&i.a.createElement("label",{onClick:e.redirectToReviews.bind(e,a)},"RATE THIS SWIMMER"),0===a.status?i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"button",onClick:function(t){return e.changeReservationStatus(a,"approve")}},"Approve"),i.a.createElement(Oe.a,{variant:"button",onClick:function(t){return e.changeReservationStatus(a,"decline")}},"Decline")):null)),4!==a.status||null!==v&&""!==v?"":i.a.createElement("div",{className:t.cancelPolicyText},"Your payout failed to process. Please fix your payout information to receive funds for this booking."),4!==a.status||null!==v&&""!==v?"":i.a.createElement("div",{className:t.bluecolorTwo,onClick:e.redirectToStripe},i.a.createElement(Oe.a,{variant:"button"},"Update payout method"),i.a.createElement("p",null,"For bussines site link put swimply.com"))))}):i.a.createElement(Oe.a,{variant:"h6",color:"inherit"},i.a.createElement("div",{className:t.noMessages},i.a.createElement("figure",null,i.a.createElement("img",{src:"/img/perfect-day.png",alt:""})),"active"===l||"upcoming"===l?i.a.createElement("p",null,"You don't have any ".concat("active"===l?"pending":"upcoming"," reservations or reservation\n                              requests.")):i.a.createElement("p",null,"You don't have any completed reservations."))))),i.a.createElement(Je.a,{open:this.state.showAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(Oe.a,{variant:"h3",className:t.cancelPopupTitle},"cancel"===m?"Are you sure you would to cancel on ".concat(c.guestName," confirmed booking?"):"Are you sure you want to decline ".concat(c.guestName,"declineChanges"===m?" change request?":" request?")),i.a.createElement(jn.a,{id:"alert-dialog-description"},"cancel"===m?"You will lose your ".concat(c.totalAmount," and may face additional fees as per ").concat(me?"Shvimply":"Swimply","'s terms of use. Canceling too many approved requests may eventually result in removal from the platform."):"Declining too many requests may reduce yours pool's popularity and appearance in search results.")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.handleDeclineReasonPopup.bind(null,!0),autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:this.closePopup},"no"))),i.a.createElement(Je.a,{open:!!this.state.bookingId,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:t.deletePopup},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},"Are you sure you want to delete this reservation from your history?")),i.a.createElement(hi.a,null,i.a.createElement(Oe.a,{variant:"button",onClick:this.deleteReservation,autoFocus:!0},"yes"),i.a.createElement(Oe.a,{variant:"button",onClick:function(){return e.handleBookingId(null)}},"no"))),this.renderStatusChangePopup(),i.a.createElement(Je.a,{className:t.calenderManegemetPopMain,open:this.state.showCancelChatMessagePopup,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,null,i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("p",null,"Last step! Send the Guest a quick message"),i.a.createElement("div",{className:t.blueBox},i.a.createElement("p",null,"Here you may explain to the guest ",i.a.createElement("br",null)," why will be declining the request"))),i.a.createElement(Xe.a,{type:"text",name:"email",margin:"normal",variant:"outlined",onInput:function(e){e.target.value=e.target.value.slice(0,140)},value:this.state.cancelChatMessage,onChange:this.onChangeCancelChatMessage,rowsMax:4,rows:4,fullWidth:!0,multiline:!0,placeholder:"(min 10 characters)"}),i.a.createElement("div",{className:t.popupButtons},i.a.createElement(Ae.a,{className:t.mainButton,disabled:this.disableCancelChatButton(),onClick:this.changeBookingStatus.bind(null,c.id,m)},h),i.a.createElement(Oe.a,{variant:"button",className:t.cancelBtn,onClick:this.closeStatusChangePopup},f)))),i.a.createElement(Je.a,{className:t.hostReservationPopMain,open:this.state.viewProfile,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(tt.a,{className:t.hostReservationPop},i.a.createElement(jn.a,{id:"alert-dialog-description"},i.a.createElement("div",null,void 0!==d.firstname?i.a.createElement("div",null,i.a.createElement("div",{className:t.profileSection},i.a.createElement("img",{onClick:this.closeProfilePopup,className:t.closeButton,src:"../img/close-button1.png",alt:""}),i.a.createElement(io,{containerClass:t.avatarContainer,className:t.viewProfileAvatar,src:d&&d.img_url||window.location.origin+"/img/profile-icon.png",alt:"Avatar",user:d}),i.a.createElement(Oe.a,{variant:"h4"},d.firstname,void 0!==d.lastname&&null!==d.lastname&&""!==d.lastname?" "+d.lastname.charAt(0).toUpperCase():"","."),null!==d.rating&&""!==d.rating&&0!==d.rating?i.a.createElement("span",{className:t.ratingStar},i.a.createElement(Eo.a,{rating:null===d.rating||""===d.rating?0:d.rating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px"})):i.a.createElement("span",{className:t.emptyRatingStar}),i.a.createElement("label",{className:t.cursorPointer+" "+t.messageCenter,onClick:function(){return e.sendMessage(d.id)}},"Send a Message")),null!==d.description&&""!==d.description?i.a.createElement("div",null,i.a.createElement("div",{className:t.hospPopContent},i.a.createElement("label",null,"SWIMMER BIO"),i.a.createElement("p",null,d.description))):"",void 0!==d.id&&0!==d.reviews.length?i.a.createElement("div",null,i.a.createElement("div",{className:t.reviewOtherHosts},i.a.createElement("h5",null,"Reviews from other hosts"),d.reviews.map(function(e,a){return i.a.createElement("div",{className:t.commentGroup,key:a},i.a.createElement("label",null,e.booking.pool.title," (",i.a.createElement(vi.a,{format:"M/D/YY"},e.booking.date),")"),i.a.createElement("span",{className:t.ratingStar},i.a.createElement(Eo.a,{rating:null===e.rating||""===e.rating?0:e.rating,numberOfStars:5,name:"rating",starRatedColor:"#00ade2",starDimension:"20px",starSpacing:"1px"})),i.a.createElement("p",null,e.comment))}))):""):""))))):i.a.createElement("div",null,i.a.createElement(us,null)))}}]),a}(i.a.Component);var ip=C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"0 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"}},hostMaintabs:{boxShadow:"0 0 3px #ccc","& ul":{listStyle:"none",paddingLeft:"0",margin:"0","& li":{display:"inline-block",padding:"10px 60px",position:"relative"}}},active:{color:"#232323 !important","&:before":{content:'""',position:"absolute",width:"100%",height:"3px",background:e.palette.common.blue,bottom:0,left:0}},hostingPools:{maxWidth:"600px",padding:"40px 0","& h2":{marginBottom:"15px"},"& ul":{listStyle:"none",paddingLeft:"0",position:"relative",margin:"0","@media(max-width:767px)":{margin:"0 0 20px 0"},"& li":{display:"inline-block",padding:"2.5px 7px",marginRight:"15px",position:"relative",color:"#aabac0",letterSpacing:"1px",fontWeight:"500",fontSize:"13px",cursor:"pointer","@media(max-width:767px)":{marginRight:"8px ",padding:"2.5px 5px 2.5px 0",fontSize:"11px"}}}},cursorPointer:{cursor:"pointer",fontSize:"11px",position:"relative",left:"132px"},mostRecent:{letterSpacing:"0",float:"right",marginRight:"0 !important",position:"absolute !important",background:e.palette.common.white,right:"0",cursor:"pointer",border:"2px solid #fff",top:"-7px","& img":{maxWidth:"15px",verticalAlign:"middle"},"& > div":{padding:"0","& span":{color:e.palette.common.black,fontSize:"13px",letterSpacing:"0",textAlign:"right"},"&:focus":{background:"transparent"},"&:hover":{background:"transparent"},"& > li ":{padding:"0",color:e.palette.common.black,letterSpacing:"0","& span":{color:e.palette.common.black}}},"& > div > div > div> div > div":{background:"transparent","&:focus":{background:"transparent"},"&:hover":{background:"transparent"}}},mostRecentItem:{"& > div":{"& span":{color:e.palette.common.black,letterSpacing:"0",background:"url(../img/Arrow-Down-Black.png)",backgroundRepeat:"no-repeat",backgroundSize:"15px",backgroundPosition:"right 0px center",paddingRight:"25px",marginRight:"-24px",textAlign:"right","@media (max-width:767px)":{fontSize:"12px"}}}},reservationDate:{padding:"0"},listBoxHost:{display:"flex",marginTop:"15px",boxShadow:"0 0 3px #ccc",padding:"15px",width:"calc(100% - 30px)",position:"relative"},listBoxHostLeft:{marginRight:"5px","& img":{width:"50px",height:"50px",borderRadius:"50%"}},listBoxHostMiddle:{width:"87%","& label":{color:e.palette.common.blue,textTransform:"uppercase",fontWeight:"500",paddingRight:"30px",display:"inline-block",cursor:"pointer",fontSize:"13px",marginBottom:"10px"},"& p":{color:e.palette.common.black,margin:"1px 0"}},sectionWithStatus:{display:"flex",justifyContent:"space-between","@media (max-width:767px)":{flexDirection:"column"}},headingTop:{textTransform:"uppercase",fontWeight:"500",fontSize:"14px",letterSpacing:"0.5px",color:e.palette.common.black,marginBottom:"0px"},ratingStar:{display:"block",height:"25px",paddingTop:"5px"},bottomBox:{margin:"10px 0","& p":{textTransform:"uppercase",fontWeight:"500",fontSize:"14px"},"& span":{display:"inline-block",marginRight:"10px",padding:"6px 30px",marginTop:"8px",fontWeight:"400",border:"2px solid #1db5e6",background:"#1db5e6",textTransform:"captilize","&:last-child":{background:"#fff",border:"2px solid #00ade2",color:e.palette.common.black,textTransform:"captilize"}},"@media (max-width:767px)":{"& span":{padding:"6px 15px"}}},listBoxHostRight:{marginRight:20,"& span":{padding:"2px 10px",fontSize:"13px",fontWeight:"400",width:"210px"},"@media (max-width:767px)":{"& span":{marginTop:"15px",padding:"5px 15px",fontSize:"12px"}}},swiming:{color:"brown"},emptyRatingStar:{marginTop:"8px",display:"block"},tabsChange:{"& span":{color:"#aabac0",minHeight:"3px"},"& button":{background:"transparent","&:hover":{background:"transparent"}},"@media (max-width:767px)":{margin:"0 -15px","& button":{width:"50%"}}},activeMostRecent:{border:"2px solid #25bfe9",boxShadow:"0 0 3px #ccc"},pendingBtn:{background:"#f99f6c","&:hover":{background:"#f99f6c"}},approvedBtn:{background:"green","&:hover":{background:"green"}},declinedBtn:{background:"#ff0000 !important","&:hover":{background:"#ff0000"}},confirmedBtn:{background:"#12bfea","&:hover":{background:"#12bfea"}},deleteBtn:{background:"transparent",border:"none",outline:"none",position:"absolute",top:10,right:10,zIndex:1,padding:10,cursor:"pointer",marginLeft:20},noMessages:{display:"flex",alignItems:"center",color:e.palette.common.black,"@media (max-width:767px)":{display:"table",textAlign:"center",lineHeight:"22px"},"& figure":{margin:"15px 18px 0 -15px"},"& p":{color:e.palette.common.black,fontSize:"14px",fontWeight:"500","& span":{display:"block",color:e.palette.common.blue,paddingTop:"7px",fontWeight:"500",textTransform:"uppercase",fontSize:"13px"},"@media (max-width:767px)":{marginTop:"0"}}},hostReservationPop:{minWidth:"400px",maxWidth:"400px",maxHeight:"300px",textAlign:"center","& label":{color:e.palette.common.blue,textTransform:"uppercase",fontSize:"10px",fontWeight:"500",display:"table",marginTop:"-1px"},"@media (max-width:767px)":{maxWidth:"300px",minWidth:"300px","& label":{left:"0",width:"100%"}}},viewProfileAvatar:{width:"60px",height:"60px"},closeButton:{float:"left",maxWidth:"15px",filter:"grayscale(1)",marginTop:"-15px",cursor:"pointer"},hospPopContent:{textAlign:"left",padding:"15px 0",borderBottom:"1px solid #ccc","& label":{color:e.palette.common.black,textTransform:"uppercase",fontWeight:"500",letterSpacing:"1.5px",fontSize:"12px"},"& p":{margin:"0",color:e.palette.common.black,fontSize:"13px"}},reviewOtherHosts:{textAlign:"left",marginTop:"15px","& h5":{margin:"0 0 15px 0",textTransform:"uppercase",fontWeight:"500",letterSpacing:"1px",fontSize:"13px",color:e.palette.common.black},"& label":{color:e.palette.common.black,fontSize:"13px",fontWeight:"500"},"& p":{margin:"0",fontSize:"13px"}},commentGroup:{paddingBottom:"25px",color:e.palette.common.black},calenderManegemetPop:{padding:"25px",textAlign:"center",overflowX:"hidden","& p":{margin:"0",color:e.palette.common.black,fontSize:"13px"},"& h3":{textAlign:"left"},"& h4":{marginBottom:"10px"}},popupButtons:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"0px",marginTop:"20px",borderTop:"1px solid #fff","& span:last-child":{background:e.palette.common.transparent,color:e.palette.common.blue,fontSize:"12px"}},cancelBtn:{display:"inline-block",marginTop:"10px",padding:"5px"},activeTab:{"& span":{color:"#232323 !important"}},cancelPolicyText:{background:"#fbece2",color:"#eca167",padding:"10px 14px",fontSize:"12px",lineHeight:"18px",borderRadius:"5px",margin:"8px 0",maxWidth:"356px","@media (max-width:767px)":{maxWidth:"100%"}},bluecolorTwo:{"& span":{display:"inline-block",padding:"2px 10px",marginTop:"10px",textTransform:"unset",background:e.palette.common.white,color:"black",border:"2px solid #00ade2"}},hostReservationPopMain:{"@media (max-width:767px)":{"& > div > div":{margin:"15px"}}},calenderManegemetPopMain:{"@media (max-width:767px)":{"& > div > div":{margin:"0"}}},popUpErrorMsg:{marginTop:"10px  !important"},profileSection:{"& label":{display:"block",textAlign:"center",left:0}},flexContainer:{display:"flex",marginTop:"15px"},popupTextContent:{marginLeft:"10px","& p":{textAlign:"left",fontSize:"16px"},"& h4":{textAlign:"left",margin:"0"}},borderBottom:{borderBottom:"1px solid #d2d2d2"},selectDeclineReason:{width:"100%"},selectContainer:{marginTop:"20px"},suggestButton:{marginBottom:"20px"},mainButton:{width:"100%",maxWidth:"260px",padding:"12px 20px","& span:last-child, span:first-child":{padding:"0",fontSize:"14px",color:"#fff"},"&:disabled":{opacity:"0.6"}},dropDownTitle:{maxWidth:"300px",marginBottom:"10px",fontSize:"14px",fontWeight:400},cancelPopupTitle:{marginBottom:"10px"},blueBox:{margin:"10px 0",padding:"12px",border:"1px solid #00c8f0",color:"#00c8f0","& p":{margin:"0"}},avatarContainer:{display:"inline-block",margin:"0 auto"},reservationChangesContainer:{fontSize:"14px",marginBottom:"15px","& p":{display:"flex",alignItems:"center","&:before":{content:"''",display:"inline-block",marginRight:"5px",width:"15px",height:"15px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.date:before":{backgroundImage:"url(/img/commons/date-orange.png)"},"&.guests:before":{width:"19px",height:"13px",backgroundImage:"url(/img/commons/guests-orange.png)"}}},lineThrough:{"& p":{textDecoration:"line-through",color:e.palette.common.darkgray}},editedTime:{"& p":{display:"flex",alignItems:"center",fontWeight:"500",lineHeight:"18px",color:e.palette.common.primary,"&:before":{content:"''",display:"inline-block",width:"8px",height:"8px",marginRight:"5px",borderRadius:"50%",backgroundColor:e.palette.common.secondary}}},editedGuests:{"& p":{display:"flex",alignItems:"center",lineHeight:"18px","&:before":{content:"''",display:"inline-block",width:"8px",height:"8px",marginRight:"5px",borderRadius:"50%",backgroundColor:e.palette.common.secondary},"& .item":{marginRight:"5px","& .gray":{color:e.palette.common.darkgray}},"& .line-through":{textDecoration:"line-through",color:e.palette.common.darkgray},"& .blue":{fontWeight:"500",color:e.palette.common.primary}}},reservationInfo:{padding:"15px 0",borderTop:"1px solid ".concat(e.palette.common.border),borderBottom:"1px solid ".concat(e.palette.common.border)},blue:{color:e.palette.common.primary},buttonsContainer:{"& .flex":{display:"flex","@media (max-width: 420px)":{flexWrap:"wrap"},"& span":{boxSizing:"border-box",minWidth:"140px",padding:"6px 15px","@media (max-width: 500px)":{minWidth:"100px",fontSize:"12px"},"@media (max-width: 420px)":{width:"100px"}},"& span.decline-button":{backgroundColor:e.palette.common.secondary,color:e.palette.common.white,border:"2px solid ".concat(e.palette.common.secondary),transition:"all 0.1s ease","&:hover":{opacity:"0.9"}}}}}},{withTheme:!0}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(sa);return i.a.createElement(np,Object.assign({},t,a,e))}),op=function(e){return{timeAndDateContainer:{marginTop:"10px"},calendarContainer:{zIndex:"999",position:"relative","& > div":{margin:"0"}},onFocus:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},formInputBox:{position:"relative",marginBottom:"15px",cursor:"pointer","& fieldset":{opacity:0},"& label":{textTransform:"uppercase"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px ",fontWeight:"normal"},"& span":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"}},dropDownSelectTime:{background:e.palette.common.gray,color:e.palette.common.black,padding:"14px 15px 13px 35px",fontSize:"14px",fontWeight:"normal",whiteSpace:"pre","& i":{float:"right",fontSize:"22px"}}}};function rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var sp=function(e){Object(h.a)(a,e);var t=rp(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleCalenderApply=n.handleCalenderApply.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"handleCalenderApply",value:function(e){this.props.toggleCalendar(!1),this.props.handleApply(new Date(e))}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"".concat(e.formInputBox," ").concat(this.props.show?e.onFocus:"")},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"Date"),i.a.createElement("div",{className:e.dropDownSelectTime,onClick:this.props.toggleCalendar.bind(null,!this.props.show)},i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},this.props.date)),i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/calender-green2.png"),alt:""}))),i.a.createElement("div",{className:e.calendarContainer},this.props.show&&i.a.createElement(Oi,{selectedDate:this.props.date,updateBtn:!0,handleCalenderCancel:this.props.toggleCalendar.bind(null,!1),handleCalenderApply:this.handleCalenderApply})))}}]),a}(n.Component),lp=C()(Object(T.withStyles)(op,{withTheme:!0}));sp.defaultsProps={classes:{},handleApply:function(){},toggleCalendar:function(){},date:new Date,show:!1};var dp=lp(sp),cp=function(e){return{formInputBox:{position:"relative",marginBottom:"15px",cursor:"pointer","& fieldset":{opacity:0},"& label":{textTransform:"uppercase"},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px ",fontWeight:"normal"},"& span":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"}},onFocus:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},dropDownSelectTime:{background:e.palette.common.gray,color:e.palette.common.black,padding:"14px 15px 13px 35px",fontSize:"14px",fontWeight:"normal",whiteSpace:"pre","& i":{float:"right",fontSize:"22px"}},timerContainer:{position:"relative","& .time_block":{top:0,"& li":{width:"20%",boxSizing:"border-box"}}}}};function mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var up=function(e){Object(h.a)(a,e);var t=mp(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={timeDetails:Ot,timeStartIndex:-1,timeEndIndex:-1,disableTimeIndex:-1},n.handlePicker=n.handlePicker.bind(Object(g.a)(n)),n.handleApply=n.handleApply.bind(Object(g.a)(n)),n.handleSelectTime=n.handleSelectTime.bind(Object(g.a)(n)),n.handleAvailableTime=n.handleAvailableTime.bind(Object(g.a)(n)),n.checkIfSelectedCurrentDate=n.checkIfSelectedCurrentDate.bind(Object(g.a)(n)),n.setDefaultTime=n.setDefaultTime.bind(Object(g.a)(n)),n.displayTime=n.displayTime.bind(Object(g.a)(n)),n.renderTimeItems=n.renderTimeItems.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleAvailableTime(),this.setDefaultTime()}},{key:"componentDidUpdate",value:function(e){e.date!==this.props.date&&this.handleAvailableTime()}},{key:"handlePicker",value:function(e){this.setState({onFocus:e,show:e})}},{key:"handleApply",value:function(){this.props.toggleTimePicker(!1),this.props.handleApply({startIndex:this.state.timeStartIndex,endIndex:this.state.timeEndIndex})}},{key:"handleSelectTime",value:function(e){var t=this.state,a=t.timeStartIndex,n=t.timeEndIndex;a<0?this.setState({timeStartIndex:e}):a>=0&&e>a&&n<0?this.setState({timeEndIndex:e}):this.setState({timeStartIndex:e,timeEndIndex:-1})}},{key:"handleAvailableTime",value:function(){if(this.checkIfSelectedCurrentDate()){var e=(new Date).getHours();this.setState({disableTimeIndex:e})}else this.setState({disableTimeIndex:-1})}},{key:"checkIfSelectedCurrentDate",value:function(){var e=this.props.date,t=new Date;return new Date(e).setHours(0,0,0,0)===t.setHours(0,0,0,0)}},{key:"setDefaultTime",value:function(){var e=(new Date).getHours(),t=e>=23?0:e;this.props.handleApply({startIndex:t,endIndex:t+1})}},{key:"displayTime",value:function(){var e=this.state.timeDetails[this.props.time.startIndex],t=this.state.timeDetails[this.props.time.endIndex];if(e&&t)return"".concat(e," - ").concat(t);if(e){var a=this.props.time.startIndex>=23?0:this.props.time.startIndex+1;return"".concat(e," - ").concat(this.state.timeDetails[a])}return"Select time"}},{key:"renderTimeItems",value:function(){var e=this;return this.state.timeDetails.map(function(t,a){var n=e.state,o=n.timeStartIndex,r=n.timeEndIndex,s=a===o||a===r||a>o&&a<=r,l=e.state.disableTimeIndex>=a;return i.a.createElement("li",{key:"time-".concat(a),className:"".concat(s?"active":""),onClick:e.handleSelectTime.bind(null,a),disabled:l},t)})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"".concat(e.formInputBox," ").concat(this.props.show?e.onFocus:"")},i.a.createElement(Da.j,{variant:"subtitle2",component:"label"},"Time"),i.a.createElement("div",{className:e.dropDownSelectTime,onClick:this.props.toggleTimePicker.bind(this,!this.props.show)},this.displayTime()),i.a.createElement("span",null,i.a.createElement("img",{src:"".concat(window.location.origin,"/img/timer.png"),alt:"Timer"}))),i.a.createElement("div",{className:e.timerContainer},this.props.show&&i.a.createElement("div",null,i.a.createElement("ul",{className:"time_block"},this.renderTimeItems(),i.a.createElement("div",{className:"timer_buttons"},i.a.createElement(Da.b,{className:e.cancelBtn,onClick:this.props.toggleTimePicker.bind(null,!1)},"Cancel"),i.a.createElement(Da.b,{onClick:this.handleApply},"Update"))))))}}]),a}(n.Component),pp=C()(Object(T.withStyles)(cp,{withTheme:!0}));up.defaultsProps={classes:{},handleApply:function(){},toggleTimePicker:function(){},date:new Date,time:{},show:!1};var vp=pp(up),gp=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{flexDirection:"column",maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)"},"*":{boxSizing:"border-box"}},title:{marginBottom:"40px"},poolName:{marginBottom:"0",textTransform:"uppercase",fontWeight:"500",fontSize:"14px",letterSpacing:"0.5px",color:e.palette.common.black},suggestAnotherTimeInfoContainer:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px"},infoContainer:{display:"flex",boxShadow:"0 0 3px #ccc",padding:"25px 15px"},info:{},viewProfileAvatar:{width:"60px",height:"60px",marginRight:"10px"},newReservationDateFormContainer:{borderRadius:"5px",padding:"25px",boxShadow:"0 0 3px #ccc",color:"#232325","@media (max-width:1000px)":{maxWidth:"600px",marginTop:"20px",boxSizing:"border-box","& > *":{maxWidth:"350px"}}},timeAndDateContainer:{marginTop:"10px"},textFieldContainer:{"& > div":{width:"100%"}},submitButton:{width:"100%",marginTop:"15px","&[disabled]":{opacity:"0.6"}}}};function hp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var fp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"declineReservation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReservationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"declineReservation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117,source:{body:"mutation declineReservation($data:ReservationInput!){\n  declineReservation(data:$data){\n    status\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kp=function(e){Object(h.a)(a,e);var t=hp(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={date:new Date,time:{},showCalendar:!1,showTimePicker:!1,showSpinner:!1,message:"",reservationDetails:null},n.setReservationDetails=n.setReservationDetails.bind(Object(g.a)(n)),n.toggleCalendar=n.toggleCalendar.bind(Object(g.a)(n)),n.toggleTimePicker=n.toggleTimePicker.bind(Object(g.a)(n)),n.handleCalenderApply=n.handleCalenderApply.bind(Object(g.a)(n)),n.handleTimePickerApply=n.handleTimePickerApply.bind(Object(g.a)(n)),n.onChange=n.onChange.bind(Object(g.a)(n)),n.submit=n.submit.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setReservationDetails()}},{key:"setReservationDetails",value:function(){var e=this;this.setState({reservationDetails:this.props.location.state&&this.props.location.state.reservationDetails},function(){e.state.reservationDetails||e.props.history.replace("/host-reservation")})}},{key:"toggleCalendar",value:function(e){this.setState({showTimePicker:!1,showCalendar:e})}},{key:"toggleTimePicker",value:function(e){this.setState({showCalendar:!1,showTimePicker:e})}},{key:"handleCalenderApply",value:function(e){this.setState({date:e})}},{key:"handleTimePickerApply",value:function(e){this.setState({time:e})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({message:t})}},{key:"submit",value:function(){var e=this;this.setState({showSpinner:!0});var t=new Date(this.state.date),a=t.getDate(),n=t.getUTCFullYear(),i=t.getMonth()+1,o="".concat(n,"-").concat(i,"-").concat(a);this.props.client.mutate({mutation:fp,variables:{data:{booking_id:this.state.reservationDetails.id,decline_reason:this.state.message,date:o,from:Ot[this.state.time.startIndex],to:Ot[this.state.time.endIndex]}}}).then(function(t){"DECLINED_BOOKING_SUCCESSFULL"===t.data.declineReservation.status?e.props.history.goBack():e.setState({showSpinner:!1})}).catch(function(){var t=Object(m.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Unauthenticated."!==Gt(a)){t.next=6;break}return t.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===t.sent&&e.submit();case 6:e.setState({showSpinner:!1});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this.props.classes,t=this.state.reservationDetails;return t?i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.suggestAnotherTimeInfoContainer},i.a.createElement(Da.j,{variant:"h2",component:"h2",className:e.title},"Suggest Different Time"),i.a.createElement("div",{className:e.infoContainer},i.a.createElement(Da.a,{alt:"profile image",className:e.viewProfileAvatar,src:t.user.img_url||"".concat(window.location.origin,"/img/profile-icon.png")}),i.a.createElement("div",{className:e.info},t.user&&i.a.createElement(Da.j,{variant:"h3"},t.user.firstname+(t.user.lastname?" ".concat(t.user.lastname.charAt(0).toUpperCase()):""),"."),i.a.createElement(Da.j,{className:e.poolName},t.pool.title),i.a.createElement("p",null,i.a.createElement(vi.a,{format:"MMMM DD, YYYY"},t.date)),i.a.createElement("p",null,i.a.createElement(vi.a,{format:"h:mm A"},"".concat(t.date," ").concat(t.from)),i.a.createElement("span",null," - "),i.a.createElement(vi.a,{format:"h:mm A",add:{hours:1}},"".concat(t.date," ").concat(t.to))),i.a.createElement("p",null,"Adults:"," ",t.adult_guests,", Children:"," ",t.children_guests,", Infants:"," ",t.infant_guests),i.a.createElement("p",null,t.reason_for_booking)))),i.a.createElement("div",{className:e.newReservationDateFormContainer},i.a.createElement(Da.j,{variant:"h5"},"NEW RESERVATION DATE AND TIME"),i.a.createElement("div",{className:e.timeAndDateContainer},i.a.createElement(dp,{toggleCalendar:this.toggleCalendar,handleApply:this.handleCalenderApply,date:this.state.date,show:this.state.showCalendar}),i.a.createElement(vp,{toggleTimePicker:this.toggleTimePicker,handleApply:this.handleTimePickerApply,show:this.state.showTimePicker,date:this.state.date,time:this.state.time})),i.a.createElement("div",{className:e.textFieldContainer},i.a.createElement(Da.i,{multiline:!0,label:"Send message to user*",rows:"5",variant:"outlined",onChange:this.onChange})),i.a.createElement(Da.b,{onClick:this.submit,className:e.submitButton,disabled:!this.state.message},"Submit new time"))),this.state.showSpinner&&i.a.createElement(ut,{loading:!0})):i.a.createElement(ut,{loading:!0})}}]),a}(n.Component);kp.defaultProps={classes:{},theme:{},hideSuggestAnotherTime:function(){}};var bp=C()(Object(T.withStyles)(gp,{withTheme:!0}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(kp,Object.assign({},t,e))});function yp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var xp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendMessageMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageStore"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"room_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117,source:{body:"mutation sendMessageMutation($data:MessageInput!){\n  messageStore(data:$data){\n  status\n    message\n    room_id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Np={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Sp=function(e){Object(h.a)(a,e);var t=yp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showGuests:!1,showCalendar:!1,showTimer:!1,loading:!1,poolDetails:null,adultCount:1,childrenCount:0,infantCount:0,selectedDate:gt()(),startTime:null,endTime:null,user:null,message:"",invalidDates:[],allDatesIsInvalid:!1,firstAvailableDate:null},e.handleChatRules=function(){e.props.user&&!e.props.user.accept_chat_rules&&e.setState({user:e.props.user},function(){e.props.history.replace({pathname:"/chat-rules",state:{replaceTo:e.props.location.pathname}})})},e.handleParams=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i,o,r,s,l,d,m,u,p,v,g,h,f,k,b,y;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.getAdultCount();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=1;case 6:return a=t.t0,t.next=9,ie.getChildCount();case 9:if(t.t1=t.sent,t.t1){t.next=12;break}t.t1=0;case 12:return n=t.t1,t.next=15,ie.getInfantCount();case 15:if(t.t2=t.sent,t.t2){t.next=18;break}t.t2=0;case 18:return i=t.t2,t.next=21,ie.getAvailableDate();case 21:if(t.t3=t.sent,t.t3){t.next=24;break}t.t3=gt()();case 24:return o=t.t3,t.next=27,ie.getStartTime();case 27:return r=t.sent,t.next=30,ie.getEndTime();case 30:return s=t.sent,t.next=33,e.getPoolDetails();case 33:l=t.sent,d=a+n,m=l.default_instant_booking&&l.instant_group_size>=d&&l.max_guests>=d,"string"===typeof r&&(r=(r=fe.find(function(e){return e.displayFormattedTime===r}))?r.timeNumber:null,s=(s=fe.find(function(e){return e.displayFormattedTime===s}))?s.timeNumber:null),u=qt(l,o),p=u.invalidDates,v=u.selectedDateIsInvalid,g=u.firstAvailableDate,v&&(o=null,r=null,s=null),h=Wt.filterBookings(l.bookings,gt()(o).format("YYYY-MM-DD")),f=Wt.getBookingsTimes(h),k=Wt.getAvailableStartEndTime({poolUnAvailabilities:l.pool_unavailabilities,date:gt()(o).format("YYYY-MM-DD"),startTime:r,endTime:s,bookingTimes:f}),b=k.startTime,y=k.endTime,r=b,s=y,e.setState({selectedDate:o,startTime:r,endTime:s,adultCount:a,childrenCount:n,infantCount:i,isDefaultInstantBooking:m,poolDetails:l,invalidDates:p,allDatesIsInvalid:v&&!g,firstAvailableDate:g,loading:!1}),t.next=51;break;case 47:t.prev=47,t.t4=t.catch(0),console.log("error",t.t4),e.setState({loading:!1});case 51:case"end":return t.stop()}},t,null,[[0,47]])})))},e.getPoolDetails=Object(m.a)(c.a.mark(function t(){var a,n,i,o,r,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.location.state||{},n=a.poolDetails,i=e.props.match.params||{},o=i.poolId,n){t.next=10;break}return t.next=5,e.props.client.query({query:Np,variables:{id:o},fetchPolicy:"network-only"});case 5:return r=t.sent,s=r.data.pool,t.abrupt("return",s);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}},t)})),e.goBack=function(){e.props.history.goBack()},e.getHostName=function(){var t=e.state.poolDetails;return t?"Hosted by ".concat(t.createdBy.firstname):""},e.getPoolName=function(){var t=e.state.poolDetails;return t?t.title:""},e.getHostHourPrice=function(){return e.state.poolDetails?"$".concat(e.state.poolDetails.hourly_price):"$0"},e.getAdditinalFees=function(){return e.state.poolDetails?"$".concat(e.state.poolDetails.price_per_guest," per guest per hour after ").concat(e.state.poolDetails.price_per_guest_min_capacity," guests"):"additional: $0 per guest per hour"},e.getHostImage=function(){var t=e.state.poolDetails;return t&&t.createdBy&&t.createdBy.img_url?e.state.poolDetails.createdBy.img_url:window.location.origin+"/img/profile-icon.png"},e.updateInstant=function(){var t=e.state,a=t.adultCount,n=t.childrenCount,i=t.poolDetails,o=a+n,r=i&&i.default_instant_booking&&i.instant_group_size>=o&&i.max_guests>=o;e.setState({isDefaultInstantBooking:r})},e.onChangeMessage=function(t){var a=t.target.value;e.setState({message:a})},e.submit=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.props.user?e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={reciever_id:e.state.poolDetails.createdBy.id,message:e.state.message,booking_chat:{pool_id:e.state.poolDetails.id,user_id:e.props.user.id,date:gt()(e.state.selectedDate).format("YYYY-MM-DD"),from:"".concat(e.state.startTime),to:"".concat(e.state.endTime),adult_guests:e.state.adultCount,children_guests:e.state.childrenCount,infant_guests:e.state.infantCount}},t.next=4,e.props.client.mutate({mutation:xp,variables:{data:a}});case 4:e.setState({loading:!1},function(){ie.setMessageReceiverId(e.state.poolDetails.createdBy.id),ie.setBackBtnLink(e.props.location.pathname),e.props.history.push("/conversations")}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0),e.setState({loading:!1},Object(m.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==Gt(t.t0)){a.next=6;break}return a.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===a.sent&&e.submit();case 6:case"end":return a.stop()}},a)})));case 11:case"end":return t.stop()}},t,null,[[0,7]])}))):window.headerComponent.handleLoginModelOpen();case 1:case"end":return t.stop()}},t)})),e.handleDisable=function(){return!e.state.message.length||!(e.state.adultCount+e.state.childrenCount)||!e.state.startTime||!e.state.endTime},e.handleGuestsPopup=function(){e.setState({showGuests:!e.state.showGuests,showCalendar:!1,showTimer:!1})},e.handleCalendarPopup=function(){e.setState({showGuests:!1,showCalendar:!e.state.showCalendar,showTimer:!1})},e.handleTimerPopup=function(){e.setState({showGuests:!1,showCalendar:!1,showTimer:!e.state.showTimer})},e.handleApplyDate=function(t){t=gt()(t).isBefore(gt()(e.state.firstAvailableDate),"day")?e.state.firstAvailableDate:t,t=e.state.allDatesIsInvalid?null:t,ie.setAvailableDate(t),e.setState({selectedDate:t,showCalendar:!1})},e.handleApplyTime=function(t){var a=t.startTime,n=t.endTime;e.setState({startTime:a,endTime:n,showTimer:!1})},e.handleApplyGuests=function(t){e.setState(t,e.updateInstant)},e.onChange=function(t,a){e.setState(Object(Fe.a)({},t,a))},e.setTimeCallback=function(t,a){var n=Object(u.a)({},e.state.poolDetails);n.startTime=t,n.endTime=a,e.setState({startTime:t,endTime:a,poolDetails:n})},e}return Object(v.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.handleParams()}},{key:"componentDidMount",value:function(){this.handleChatRules()}},{key:"componentDidUpdate",value:function(e){this.state.user||this.props.user===e.user||this.handleChatRules()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.wrapper},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.header},i.a.createElement("div",{className:e.backStep,onClick:this.goBack},i.a.createElement("font",null,i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," BACK")),i.a.createElement(Oe.a,{variant:"h2"},"CONTACT HOST"))),i.a.createElement("div",{className:"".concat(e.container," mobile-none-padding")},i.a.createElement("div",{className:e.blueMessageBox},i.a.createElement("p",null,"Please provide us some information before reaching out to this host"),i.a.createElement("span",{className:"exclamation-blue-icon"},i.a.createElement("i",{className:"fas fa-exclamation"})))),i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.hostInfoContainer},i.a.createElement(io,{user:this.state.poolDetails&&this.state.poolDetails.createdBy,className:e.avatar,src:this.getHostImage(),alt:"Host Avatar"}),i.a.createElement("div",null,i.a.createElement(Oe.a,{variant:"h3"},this.getPoolName()),i.a.createElement("div",{className:"hosted-container"},i.a.createElement(Oe.a,{variant:"h4",className:"hosted"},this.getHostName())),i.a.createElement(Oe.a,{variant:"h4",className:"price"},this.getHostHourPrice()),this.state.poolDetails&&this.state.poolDetails.price_per_guest_enabled?i.a.createElement(Oe.a,{variant:"h4",className:"price"},this.getAdditinalFees()):null)),i.a.createElement("div",null,i.a.createElement(Bi,{poolDetails:this.state.poolDetails,date:this.state.selectedDate,startTime:this.state.startTime,endTime:this.state.endTime,handleApplyDate:this.handleApplyDate,handleApplyTime:this.handleApplyTime,handleCalendarPopup:this.handleCalendarPopup,handleTimerPopup:this.handleTimerPopup,showCalendar:this.state.showCalendar,showTimer:this.state.showTimer,isDefaultInstantBooking:this.state.isDefaultInstantBooking,fromPage:this.props.location&&this.props.location.state&&this.props.location.state.fromPage||null,setTimeCallback:this.setTimeCallback,invalidDates:this.state.invalidDates,allDatesIsInvalid:this.state.allDatesIsInvalid})),i.a.createElement("div",null,i.a.createElement(Ts,{poolDetails:this.state.poolDetails,adultCount:this.state.adultCount,childrenCount:this.state.childrenCount,infantCount:this.state.infantCount,handleApply:this.handleApplyGuests,handleGuestsPopup:this.handleGuestsPopup,showGuests:this.state.showGuests})),i.a.createElement("div",{className:e.textFieldContainer},i.a.createElement(Da.i,{value:this.state.message,multiline:!0,label:"Send your first message to the host",rows:"5",variant:"outlined",onChange:this.onChangeMessage})),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Ae.a,{variant:"button",disabled:this.handleDisable(),onClick:this.submit,className:"".concat(this.handleDisable()?e.disableBtn:e.nextButton)},"Start Conversation")))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component);var wp=C()(Object(T.withStyles)(function(e){return{wrapper:{padding:"40px 0",maxWidth:"1170px",margin:"0 auto",boxSizing:"border-box"},container:{maxWidth:"480px",width:"100%",padding:"0 15px",boxSizing:"border-box","& *":{boxSizing:"border-box"},"&.mobile-none-padding":{"@media (max-width: 480px)":{padding:"0"}}},header:{position:"relative",display:"flex",justifyContent:"center",padding:"8px",marginBottom:"10px","& h2":{fontSize:"18px"}},backStep:{position:"absolute",left:"0",top:"6px",display:"inline-block",marginBottom:"10px",fontWeight:"500",color:e.palette.common.blue,cursor:"pointer","& i":{fontSize:"22px",verticalAlign:" text-bottom",marginRight:"3px",marginTop:"-1px"},"@media (max-width:767px)":{top:"0",width:"25px",height:"25px",overflow:"hidden",color:e.palette.common.black,marginBottom:"0px","& i":{fontSize:"30px"}}},blueMessageBox:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",margin:"7px 0",padding:"25px",backgroundColor:"#e6f9fd",borderRadius:"5px","& p":{maxWidth:"250px",margin:0,color:"#91999f"},"& .exclamation-blue-icon":{display:"flex",alignItems:"center",justifyContent:"center",width:"30px",height:"30px",borderRadius:"15px",backgroundColor:e.palette.common.blue,color:"#fff",fontSize:"14px"}},hostInfoContainer:{display:"flex",alignItems:"center",margin:"20px 0","& .price":{fontSize:"14px",fontWeight:"500",color:e.palette.common.blue},"& .hosted":{fontSize:"14px",fontWeight:"400",color:e.palette.common.darkgray},"& .hosted-container":{display:"flex",alignItems:"center",margin:"3px 0 5px"}},avatar:{width:"70px",height:"70px"},paddingNoneRight:{paddingRight:"0 !important"},onFocusCalendar:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},onFocusTimer:{"& div":{boxShadow:e.shape.boxShadow,color:e.palette.common.black,background:e.palette.common.white},"& span":{filter:"grayscale(0)"}},formInputBox:{position:"relative",marginBottom:"15px","& fieldset":{opacity:0},"& label":{textTransform:"uppercase",fontWeight:600,"&.light":{fontSize:12,fontWeight:300}},"& input":{background:e.palette.common.gray,position:"relative",width:"100%",padding:"15px 35px",fontWeight:"normal"},"& span":{filter:"grayscale(1)",position:"absolute",top:"1px",bottom:"0",margin:"auto",height:"0px",left:"7px"}},dropDownSelectTime:{background:e.palette.common.white,color:e.palette.common.black,padding:"14px 15px 13px 35px",fontSize:"14px",fontWeight:"normal",whiteSpace:"pre",border:"1px solid #e8e8e8","& i":{float:"right",fontSize:"22px"}},textFieldContainer:{marginTop:"20px","& > div":{width:"100%"},"@media (max-width: 360px)":{"& label":{fontSize:"14px"}}},nextButton:{width:"100%",padding:"10px 15px","&:hover":{background:"linear-gradient(90deg,#00b6e7,#04bfeb,#23d1f2,#00b6e7,#23d1f2)"}},disableBtn:{background:"#ccc",width:"100%",padding:"10px 15px",cursor:"default","&:hover":{background:"#ccc"}},buttonContainer:{marginTop:"20px"},hostedContainer:{display:"flex",alignItems:"center",margin:"3px 0 5px"},verified:{display:"flex",alignItems:"center",margin:"0 0 0 8px",fontSize:"12px",fontWeight:"700",color:e.palette.common.blue,"&:before":{content:"''",display:"inline-block",width:"14px",height:"16px",marginRight:"4px",background:"url(/img/commons/verified.png) no-repeat center/contain"}}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(zi).region,a=Object(n.useContext)(Jt);return i.a.createElement(Sp,Object.assign({region:t},a,e))});Sp.defaultProps={client:{},user:{}};var _p=function(e){return{container:{position:"relative",padding:"15px 0",marginTop:"10px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"}},label:{position:"absolute",top:"22px",left:"2px",margin:"0",fontSize:"14px",fontWeight:"300",transition:"all 0.1s linear",cursor:"pointer","&.focused":{top:"0",fontSize:"12px"}},input:{width:"100%",padding:"7px 2px",border:"none",outline:"none",borderBottom:"1px solid #dadfdf",fontSize:"14px",fontWeight:"400",background:"transparent"}}};function Ep(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Fp=function(e){Object(h.a)(a,e);var t=Ep(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isFocused:e.props.focused},e.ref=i.a.createRef(),e.handleFocus=function(){return e.setState({isFocused:!0})},e.handleBlur=function(){return e.setState({isFocused:!1})},e.blur=function(){e.ref.blur(),e.setState({isFocused:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.label,o=t.value,r=t.id,s=Object(eo.a)(t,["classes","label","value","id"]),l=this.state.isFocused;return i.a.createElement("div",{className:a.container},i.a.createElement("label",{htmlFor:r,className:"".concat(a.label," ").concat(l||o?"focused":"")},n),i.a.createElement("input",Object.assign({},s,{id:r,value:o,onFocus:this.handleFocus,onBlur:this.handleBlur,ref:function(t){return e.ref=t},className:a.input})))}}]),a}(n.Component);Fp.defaultProps={value:"",label:"",id:"",focused:!1};var Cp=C()(Object(T.withStyles)(_p))(Fp),Tp=function(e){return{container:{position:"relative",padding:"20px 0",marginTop:"10px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"}},label:{position:"absolute",top:"30px",left:"2px",margin:"0",fontSize:"14px",fontWeight:"300",transition:"all 0.1s linear",cursor:"pointer","&.focused":{top:"0",fontSize:"12px"}},textarea:{width:"100%",maxWidth:"100%",minWidth:"100%",height:"60px",padding:"7px 2px",resize:"none",border:"none",outline:"none",borderBottom:"1px solid #dadfdf",fontSize:"14px",fontWeight:"400"}}};function Pp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ip=function(e){Object(h.a)(a,e);var t=Pp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isFocused:!1},e.ref=i.a.createRef(),e.handleFocus=function(){return e.setState({isFocused:!0})},e.handleBlur=function(){return e.setState({isFocused:!1})},e.blur=function(){e.ref.blur(),e.setState({isFocused:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.label,o=t.value,r=t.id,s=t.floatingLabel,l=Object(eo.a)(t,["classes","label","value","id","floatingLabel"]),d=this.state.isFocused;return i.a.createElement("div",{className:a.container},i.a.createElement("label",{htmlFor:r,className:"".concat(a.label," ").concat(d||o||!s?"focused":"")},n),i.a.createElement("textarea",Object.assign({},l,{value:o,id:r,onFocus:this.handleFocus,onBlur:this.handleBlur,ref:function(t){return e.ref=t},className:a.textarea})))}}]),a}(n.Component);Ip.defaultProps={classes:{},value:"",label:"",id:"",floatingLabel:!1};var Dp=C()(Object(T.withStyles)(Tp))(Ip),Op=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"}},innerContainer:{maxWidth:"400px",width:"100%"},alignItemsCenter:{display:"flex",alignItems:"center"},spaceBetween:{display:"flex",justifyContent:"space-between"},link:{margin:"0",color:e.palette.common.blue,cursor:"pointer"},marginBottom:{marginBottom:"10px"},title:{fontWeight:"500",color:e.palette.common.black},avatarContainer:{position:"relative",overflow:"hidden",marginRight:"15px",borderRadius:"50%","&:after":{content:"''",position:"absolute",bottom:"0",left:"0",display:"block",width:"100%",height:"30px",backgroundColor:"rgba(0, 0, 0, 0.25)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"16px",backgroundImage:"url(/img/screens/profile/camera.png)",cursor:"pointer"}},avatar:{width:"70px",height:"70px"},imageCoverInput:{position:"absolute",width:0,height:0,opacity:"0",outline:"none",cursor:"pointer"},popupContainer:{padding:"0 !important",minWidth:"300px",boxSizing:"border-box",textAlign:"center","& *":{boxSizing:"border-box"},"& h2":{width:"100%",padding:"5px",margin:"0",fontSize:"20px",color:e.palette.common.black},"& p":{width:"100%",padding:"7px",margin:"0",border:"1px solid #a1a9ac",borderBottomWidth:"0",borderLeftWidth:"0",borderRightWidth:"0",fontSize:"18px",color:e.palette.common.black,cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:"#e6e9ea"}}}}};function Rp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ap={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Bp=function(e){Object(h.a)(a,e);var t=Rp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),isModify:!1,errorMessage:"",image:"",firstName:"",lastName:"",bio:"",user:null,showProfileImagePopup:!1},e.imageInput=i.a.createRef(),e.handleUser=function(){var t=e.props.user;e.setState({image:t&&t.img_url||"",firstName:t&&t.firstname||"",lastName:t&&t.lastname||"",bio:t&&t.description||"",user:t})},e.goBack=function(){e.props.history.goBack()},e.getProfileImage=function(){return e.state.image?e.state.image:window.location.origin+"/img/profile-icon.png"},e.handleImage=function(){var t=e.imageInput.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var n=a.result,i=t.name,o=t.size/1024/1024;/jpg|jpeg|png|gif/.test(i.toLowerCase())&&o<5?e.setState({image:n,isModify:!0}):e.setState({errorMessage:"Image size should be less than 5MB."})}},e.triggerImageInput=function(){e.imageInput.click()},e.handleErrorMessage=function(t){e.setState({errorMessage:t})},e.onChange=function(t,a){var n=a.target.value;e.setState(Object(Fe.a)({},t,n))},e.updateUser=function(){e.props.handleUser(Object(u.a)({},e.props.user||{},{firstname:e.state.firstName,lastname:e.state.lastName,description:e.state.bio,img_url:e.state.image}))},e.validation=Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.firstName,i=a.lastName,!Ut(n)){t.next=3;break}throw new Error("Please enter first name.");case 3:if(!Ut(i)){t.next=5;break}throw new Error("Please enter last name.");case 5:case"end":return t.stop()}},t)})),e.logout=function(){ie.logout(),e.props.history.replace("/")},e.newProfileImage=function(){e.setState({showProfileImagePopup:!1},e.triggerImageInput)},e.removeProfileImage=function(){e.setState({image:"",isModify:!0,showProfileImagePopup:!1})},e.handleProfileImagePopup=function(t){e.setState({showProfileImagePopup:t})},e.save=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.validation().then(function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:Ap,variables:{data:{firstname:e.state.firstName,lastname:e.state.lastName,description:e.state.bio,image_url:e.state.image,isModify:e.state.isModify,phone_number:e.props.user.phone_number}}});case 3:a=t.sent,(n=a.data.createProfile).status?(e.setState({loading:!1}),e.updateUser(),e.goBack()):e.setState({loading:!1,errorMessage:n.message}),t.next=19;break;case 8:if(t.prev=8,t.t0=t.catch(0),"Unauthenticated."!==(i=Gt(t.t0))){t.next=18;break}return t.next=14,e.props.refreshToken(e.props.history);case 14:"ok"===t.sent&&e.save(),t.next=19;break;case 18:e.setState({loading:!1,errorMessage:i});case 19:case"end":return t.stop()}},t,null,[[0,8]])})))}).catch(function(t){e.setState({errorMessage:"string"===typeof t.message?t.message:"Something went wrong."})});case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleUser(),ie.getAccessToken()||this.logout()}},{key:"componentDidUpdate",value:function(e){!this.state.user&&this.props.user&&this.props.user!==e.user&&this.handleUser()}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.showHostPlaceholder?i.a.createElement(cl,{withLogout:!0}):i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.innerContainer},i.a.createElement("div",{className:"".concat(t.alignItemsCenter," ").concat(t.spaceBetween)},i.a.createElement(Ds,null),i.a.createElement("p",{onClick:this.save,className:"".concat(t.link)},"Save")),i.a.createElement("h2",{className:t.title},"Edit public information"),i.a.createElement(Us,{message:this.state.errorMessage,hide:this.handleErrorMessage.bind(this,"")}),i.a.createElement("div",{className:t.alignItemsCenter},i.a.createElement("div",{className:t.avatarContainer,onClick:this.handleProfileImagePopup.bind(this,!0)},i.a.createElement(Da.a,{className:t.avatar,src:this.getProfileImage(),alt:"Host Avatar"})),i.a.createElement("p",{onClick:this.handleProfileImagePopup.bind(this,!0),className:t.link},"Edit profile picture")),i.a.createElement(Cp,{type:"text",onChange:this.onChange.bind(this,"firstName"),value:this.state.firstName,label:"FIRST NAME",id:"firstName",focused:!0}),i.a.createElement(Cp,{type:"text",onChange:this.onChange.bind(this,"lastName"),value:this.state.lastName,label:"LAST NAME",id:"lastName",focused:!0}),i.a.createElement(Dp,{onChange:this.onChange.bind(this,"bio"),value:this.state.bio,label:"BIO",id:"bio"}))),this.state.loading&&i.a.createElement(ut,null),this.state.showProfileImagePopup&&i.a.createElement(Da.d,{keepMounted:!0,open:!0},i.a.createElement(Da.e,{className:t.popupContainer},i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("h2",{className:"".concat(t.subTitle)},"Change Profile Photo"),i.a.createElement("p",{onClick:this.newProfileImage},"New Profile Photo"),this.state.image&&i.a.createElement("p",{onClick:this.removeProfileImage},"Remove Profile Photo"),i.a.createElement("p",{onClick:this.handleProfileImagePopup.bind(this,!1)},"Cancel")))),i.a.createElement("input",{ref:function(t){return e.imageInput=t},type:"file",accept:"image/*",onChange:this.handleImage,className:t.imageCoverInput}))}}]),a}(n.Component);Bp.defaultProps={classes:{},user:null};var Mp=C()(Object(T.withStyles)(Op),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Bp,Object.assign({},t,e))}),jp=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"}},innerContainer:{maxWidth:"400px",width:"100%"},hidden:{opacity:"0",height:"0",width:"0"},alignItemsCenter:{display:"flex",alignItems:"center"},spaceBetween:{display:"flex",justifyContent:"space-between"},link:{margin:"0",color:e.palette.common.blue,cursor:"pointer"},marginBottom:{marginBottom:"10px"},title:{fontWeight:"500",color:e.palette.common.black},avatarContainer:{position:"relative",overflow:"hidden",marginRight:"15px"},avatar:{width:"70px",height:"70px"}}};function Lp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Wp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},zp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MANAGE_LOGIN"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ManageLoginInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageLogin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:108,source:{body:"mutation MANAGE_LOGIN($data: ManageLoginInput!) {\n  manageLogin(data: $data) {\n    status \n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Up={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"verifypassword"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"old_password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifyPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"old_password"},value:{kind:"Variable",name:{kind:"Name",value:"old_password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:121,source:{body:"query verifypassword($old_password: String!){\n  verifyPassword(old_password: $old_password){\n    status\n    message\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Hp=function(e){Object(h.a)(a,e);var t=Lp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),errorMessage:"",email:"",password:"",phoneNumber:"",currentPassword:"",newPassword:"",user:null},e.handleUser=function(){var t=e.props.user;e.setState({password:t&&t.password||"",phoneNumber:t&&t.phone_number||"",email:t&&t.email||"",user:t})},e.logout=function(){ie.logout(),e.props.history.replace("/")},e.goBack=function(){e.props.history.goBack()},e.handleErrorMessage=function(t){e.setState({errorMessage:t})},e.onChange=function(t,a){var n=a.target.value;e.setState(Object(Fe.a)({},t,n))},e.onChangePhoneNumber=function(t){var a=t.target.value;(""===a||/^[0-9\b]+$/.test(a))&&(a.substring(0,13).length<13&&e.setState({phoneNumber:a}))},e.updateUser=function(){e.props.handleUser(Object(u.a)({},e.props.user||{},{email:e.state.email,phone_number:e.state.phoneNumber}))},e.validation=Object(m.a)(c.a.mark(function t(){var a,n,i,o,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.phoneNumber,i=a.email,o=a.currentPassword,r=a.newPassword,zt(i)){t.next=3;break}throw new Error("Enter valid email address.");case 3:if(!(n.length<10)){t.next=5;break}throw new Error("Enter valid mobile number.");case 5:if(!Ut(r)){t.next=7;break}return t.abrupt("return");case 7:if(!Ut(o)){t.next=9;break}throw new Error("Please give current password.");case 9:return t.next=11,e.validateCurrentPassword(o);case 11:if(t.sent){t.next=13;break}throw new Error("Invalid current password.");case 13:if(Ut(o)||Ht(r)){t.next=15;break}throw new Error("Invalid new password.");case 15:case"end":return t.stop()}},t)})),e.validateCurrentPassword=function(){var t=Object(m.a)(c.a.mark(function t(a){var n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.query({query:Up,variables:{old_password:a},fetchPolicy:"network-only"});case 3:return n=t.sent,i=n.data.verifyPassword,t.abrupt("return","true"===i.status);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),e.save=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.validation().then(function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i,o,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.state.newPassword){t.next=9;break}return t.next=4,e.props.client.mutate({mutation:zp,variables:{data:{email:e.state.email,password:e.state.newPassword}}});case 4:if(a=t.sent,(n=a.data.manageLogin).status){t.next=9;break}return e.setState({loading:!1,errorMessage:n.message}),t.abrupt("return");case 9:return t.next=11,e.props.client.mutate({mutation:Wp,variables:{data:{email:e.state.email,firstname:e.props.user.firstname,lastname:e.props.user.lastname,image_url:e.props.user.img_url,phone_number:e.state.phoneNumber,isModify:!1}}});case 11:i=t.sent,(o=i.data.createProfile).status?(e.setState({loading:!1}),e.updateUser(),e.goBack()):e.setState({loading:!1,errorMessage:o.message}),t.next=27;break;case 16:if(t.prev=16,t.t0=t.catch(0),"Unauthenticated."!==(r=Gt(t.t0))){t.next=26;break}return t.next=22,e.props.refreshToken(e.props.history);case 22:"ok"===t.sent&&e.save(),t.next=27;break;case 26:e.setState({loading:!1,errorMessage:r});case 27:case"end":return t.stop()}},t,null,[[0,16]])})))}).catch(function(t){e.setState({errorMessage:"string"===typeof t.message?t.message:"Something went wrong."})});case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleUser(),ie.getAccessToken()||this.logout()}},{key:"componentDidUpdate",value:function(e){!this.state.user&&this.props.user&&this.props.user!==e.user&&this.handleUser()}},{key:"render",value:function(){var e=this.props.classes;return this.state.showHostPlaceholder?i.a.createElement(cl,{withLogout:!0}):i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:"".concat(e.alignItemsCenter," ").concat(e.spaceBetween)},i.a.createElement(Ds,null),i.a.createElement("p",{onClick:this.save,className:"".concat(e.link)},"Save")),i.a.createElement("h2",{className:e.title},"Edit private information"),i.a.createElement(Us,{message:this.state.errorMessage,hide:this.handleErrorMessage.bind(this,"")}),i.a.createElement("input",{type:"password",className:e.hidden}),i.a.createElement(Cp,{type:"text",onChange:this.onChange.bind(this,"email"),value:this.state.email,label:"EMAIL",id:"email",focused:!0}),i.a.createElement(Cp,{type:"text",onChange:this.onChangePhoneNumber,value:this.state.phoneNumber,label:"PHONE NUMBER",id:"phoneNumber",focused:!0}),i.a.createElement(Cp,{type:"password",onChange:this.onChange.bind(this,"currentPassword"),value:this.state.currentPassword,label:"CURRENT PASSWORD",id:"currentPassword"}),i.a.createElement(Cp,{type:"password",onChange:this.onChange.bind(this,"newPassword"),value:this.state.newPassword,label:"NEW PASSWORD",id:"newPassword"}))),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);Hp.defaultProps={classes:{},user:null};var Gp=C()(Object(T.withStyles)(jp),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Hp,Object.assign({},t,e))}),Yp=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul, p":{padding:"0",margin:"0",listStyleType:"none"}},innerContainer:{maxWidth:"340px",width:"100%"},title:{fontWeight:"500",color:e.palette.common.black},alignItemsCenter:{display:"flex",alignItems:"center"},spaceBetween:{display:"flex",justifyContent:"space-between"},link:{margin:"0",color:e.palette.common.blue,cursor:"pointer"},item:{position:"relative",display:"flex",alignItems:"center",margin:"18px 0",cursor:"pointer","&:after":{content:"''",position:"absolute",right:"0",width:"18px",height:"18px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",borderRadius:"50%",border:"1px solid #dadfdf",transition:"all 0.2s ease"},"&.checked:after":{border:"none",backgroundImage:"url(/img/commons/checked.png)"},"&:before":{content:"''",width:"18px",height:"18px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.message:before":{backgroundImage:"url(/img/screens/profile/sms.png)"},"&.email:before":{backgroundImage:"url(/img/screens/profile/email.png)"},"&.notification:before":{backgroundImage:"url(/img/screens/profile/notifications.png)"}}}};function qp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Vp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"testing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateProfileInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"mutation testing($data:CreateProfileInput!){\ncreateProfile(data:$data){\n  status\n  message\n  image_url\n}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$p=function(e){Object(h.a)(a,e);var t=qp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),message:!1,notification:!1,email:!1,errorMessage:"",user:null},e.handleUser=function(){var t=e.props.user;t&&e.setState({message:t.text_notifications,notification:t.push_notification,email:t.mail_notifications})},e.goBack=function(){e.props.history.goBack()},e.handleErrorMessage=function(t){e.setState({errorMessage:t})},e.updateUser=function(){e.props.handleUser(Object(u.a)({},e.props.user||{},{text_notifications:e.state.message,push_notification:e.state.notification,mail_notifications:e.state.email}))},e.onChange=function(t){e.setState(Object(Fe.a)({},t,!e.state[t]))},e.logout=function(){ie.logout(),e.props.history.replace("/")},e.save=Object(m.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:Vp,variables:{data:{image_url:e.props.user.img_url,isModify:!1,push_notification:e.state.notification,text_notifications:e.state.message,mail_notifications:e.state.email}}});case 3:a=t.sent,(n=a.data.createProfile).status?(e.setState({loading:!1}),e.updateUser(),e.goBack()):e.setState({loading:!1,errorMessage:n.message}),t.next=19;break;case 8:if(t.prev=8,t.t0=t.catch(0),"Unauthenticated."!==(i=Gt(t.t0))){t.next=18;break}return t.next=14,e.props.refreshToken(e.props.history);case 14:"ok"===t.sent&&e.save(),t.next=19;break;case 18:e.setState({loading:!1,errorMessage:i});case 19:case"end":return t.stop()}},t,null,[[0,8]])})));case 1:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleUser(),ie.getAccessToken()||this.logout()}},{key:"componentDidUpdate",value:function(e){!this.state.user&&this.props.user&&this.props.user!==e.user&&this.handleUser()}},{key:"render",value:function(){var e=this.props.classes;return this.state.showHostPlaceholder?i.a.createElement(cl,{withLogout:!0}):i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:"".concat(e.alignItemsCenter," ").concat(e.spaceBetween)},i.a.createElement(Ds,null),i.a.createElement("p",{onClick:this.save,className:"".concat(e.link)},"Save")),i.a.createElement("h2",{className:e.title},"Notifications"),i.a.createElement(Us,{message:this.state.errorMessage,hide:this.handleErrorMessage.bind(this,"")}),i.a.createElement("ul",{className:e.items},i.a.createElement("li",{onClick:this.onChange.bind(this,"message"),className:"".concat(e.item," ").concat(this.state.message?"checked":""," message")},i.a.createElement("p",null,"SMS messages")),i.a.createElement("li",{onClick:this.onChange.bind(this,"email"),className:"".concat(e.item," ").concat(this.state.email?"checked":""," email")},i.a.createElement("p",null,"Email notifications")),i.a.createElement("li",{onClick:this.onChange.bind(this,"notification"),className:"".concat(e.item," ").concat(this.state.notification?"checked":""," notification")},i.a.createElement("p",null,"Push notifications"))))),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);$p.defaultProps={classes:{},user:null,handleUser:function(){}};var Qp=C()(Object(T.withStyles)(Yp),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement($p,Object.assign({},t,e))}),Kp=function(e){return{container:{display:"flex",justifyContent:"space-between",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 15px",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& p":{margin:"0"}},innerContainer:{maxWidth:"400px",width:"100%"},title:{fontWeight:"500",color:e.palette.common.black},light:{fontWeight:"lighter"},item:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",padding:"12px",marginBottom:"10px",border:"1px solid #dadfdf"},rightBlueArrow:{position:"absolute",right:"12px",fontSize:"20px",color:e.palette.common.blue},beforeImage:{display:"flex",alignItems:"center",marginBottom:"8px",fontWeight:"500",color:e.palette.common.black,"&:before":{content:"''",width:"15px",height:"15px",marginTop:"-3px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.call:before":{backgroundImage:"url(/img/screens/profile/call-us.png)"},"&.email:before":{backgroundImage:"url(/img/screens/profile/email-us.png)"}}}};function Jp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Zp=function(e){Object(h.a)(a,e);var t=Jp(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showHostPlaceholder:Wt.handleHostPlaceholder()},e.goBack=function(){e.props.history.goBack()},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;if(this.state.showHostPlaceholder)return i.a.createElement(cl,{withLogout:!0});var t=i.a.createElement("i",{className:"".concat(e.rightBlueArrow," fa fa-angle-right"),"aria-hidden":"true"}),a=Wt.isHost(this.props.user);return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:"".concat(e.alignItemsCenter," ").concat(e.spaceBetween)},i.a.createElement(Ds,null)),i.a.createElement("h2",{className:e.title},"Contact us"),i.a.createElement("a",{href:a?"mailto:HostCare@swimply.com":"mailto:info@swimply.com",className:e.item},i.a.createElement("p",{className:"".concat(e.beforeImage," email")},"Email us"),i.a.createElement("p",{className:e.light},a?"HostCare@swimply.com":"info@swimply.com"),t))))}}]),a}(n.Component);Zp.defaultProps={classes:{}};var Xp=C()(Object(T.withStyles)(Kp),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(Zp,Object.assign({},t,e))}),ev=function(e){return{container:{display:"flex",flexDirection:"column",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul":{listStyleType:"none",margin:"0",padding:"0"}},innerContainer:{maxWidth:"400px",padding:"0 15px",width:"100%",transition:"all 0.2s ease","&.mobile-without-margin":{"@media (max-width: 400px)":{padding:"0"}}},alignItemsCenter:{display:"flex",alignItems:"center"},flexColumn:{display:"flex",flexDirection:"column",alignItems:"center"},text:{margin:"0",fontSize:"15px",fontWeight:"400",color:e.palette.common.black},marginVertical:{margin:"15px 0"},linkTopText:{margin:"30px 0 10px"},reduceMargin:{margin:"0"},textAlignCenter:{textAlign:"center"},info:{maxWidth:"340px",margin:"0 auto"},bankIcon:{width:"100px"},title:{margin:"0",fontWeight:"500",color:e.palette.common.black},sectionTitle:{margin:"0 0 10px 10px",fontSize:"14px",color:"#aeb3b3"},dollar:{marginRight:"5px",fontSize:"20px",fontWeight:"500",color:e.palette.common.black},credits:{fontSize:"24px",fontWeight:"600",color:e.palette.common.blue},link:{display:"flex",justifyContent:"center",margin:"0 auto",padding:"10px",border:"1px solid",borderColor:e.palette.common.blue,borderRadius:"20px",cursor:"pointer",transition:"all 0.2s ease",overflow:"hidden","@media (max-width: 370px)":{padding:"10px 15px"},"& p":{display:"flex",alignItems:"center",margin:"0",fontSize:"14px",color:e.palette.common.blue,transition:"all 0.2s ease",whiteSpace:"nowrap","@media (max-width: 370px)":{fontSize:"13px"},"@media (max-width: 350px)":{fontSize:"12px"},"&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"6px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url('/img/screens/profile/blue-present.png')","@media (max-width: 370px)":{width:"16px",height:"16px"},"@media (max-width: 350px)":{width:"14px",height:"14px",marginRight:"4px"}}},"&:hover":{opacity:"0.8"}},inviteByEmail:{margin:"20px 0 0"},referralInfoContainer:{display:"flex",margin:"30px 0","& .referral":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"50%",padding:"20px 0",border:"1px solid #dadfdf","&:first-child":{borderRight:"none"},"&:before":{content:"''",display:"inline-block",width:"22px",height:"22px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.people:before":{backgroundImage:"url('/img/screens/profile/reffered-people.png')"},"&.pools:before":{backgroundImage:"url('/img/screens/profile/reffered-pools.png')"},"& .referral-text":{margin:"0",fontSize:"16px",color:e.palette.common.black,"@media (max-width: 370px)":{}},"& .referral-count":{margin:"0",fontSize:"24px",fontWeight:"600",color:e.palette.common.blue}}},historyList:{"& p":{margin:"0"},"& .item":{display:"flex",justifyContent:"space-between",padding:"10px",marginTop:"10px",borderBottom:"1px solid #dadfdf","& .info":{display:"flex",flexDirection:"column"},"& .email":{fontSize:"15px",fontWeight:"500",color:e.palette.common.black},"& .action":{fontSize:"13px",fontWeight:"400"},"& .credits":{margin:"0",fontSize:"16px",fontWeight:"600",color:e.palette.common.blue}}},marginLeft:{marginLeft:"5px"}}};function tv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var av={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"getReferralData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getReferralData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referral_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referred_people"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referred_pools"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrals"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:250,source:{body:"mutation getReferralData {\n    getReferralData {\n        referral_token\n        balance\n        referred_people\n        referred_pools\n        referrals {\n            email\n            firstname\n            amount\n            action\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},nv={signed_up:"Signed up",first_booking:"Made his first booking",first_pool_booked:"Had his first booking",first_pool:"Listed a pool"},iv=function(e){Object(h.a)(a,e);var t=tv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),info:null,referralLink:"".concat(window.location.origin,"/referral")},e.getReferralInfo=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.client.mutate({mutation:av});case 3:a=t.sent,n=a.data.getReferralData,e.setState({loading:!1,referralLink:Wt.createReferralLink(n.referral_token),info:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error",t.t0),e.setState({loading:!1},Object(m.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==Gt(t.t0)){a.next=6;break}return a.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===a.sent&&e.getReferralInfo();case 6:case"end":return a.stop()}},a)})));case 12:case"end":return t.stop()}},t,null,[[0,8]])})))},e.goBack=function(){e.props.history.goBack()},e.copyLink=function(e,t){Wt.copyToClipboard(e),Wt.showTooltip(t.pageY,t.pageX,"Copied")},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getReferralInfo()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user,o=this.state.info;if(this.state.showHostPlaceholder)return i.a.createElement(cl,{withLogout:!0});var r=n&&n.roles&&"Host"===n.roles[0].name,s=o&&o.balance?o.balance:0,l=o&&o.referred_people?o.referred_people:0,d=o&&o.referred_pools?o.referred_pools:0;return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:a.container},i.a.createElement("div",{className:a.innerContainer},i.a.createElement("div",{className:"".concat(a.alignItemsCenter," ").concat(a.spaceBetween)},i.a.createElement(Ds,null)),i.a.createElement("div",{className:"".concat(a.flexColumn," ").concat(a.marginVertical)},i.a.createElement("img",{className:a.bankIcon,src:window.location.origin+"/img/screens/profile/colored-swimply-bank.png",alt:"Bank Icon"}),i.a.createElement("h2",{className:a.title},r?"Invite friends to book your pool!":"Swimply Bank"),i.a.createElement("p",{className:"".concat(a.alignItemsCenter," ").concat(a.reduceMargin)},i.a.createElement("span",{className:a.dollar},"$"),i.a.createElement("span",{className:a.credits},s))),i.a.createElement("div",{className:a.textAlignCenter},i.a.createElement("p",{className:"".concat(a.text," ").concat(a.info)},r?"Share a link with your friends and we will give them their first $5 on the house. Invite a host and you will both get a $50 bonus after their first booking!":"Refer friends to Swimply! Get $5 for every friend you invite (they will get $5 too) and another $45 if anyone of them becomes a host and get their first booking!")),i.a.createElement("div",{className:a.textAlignCenter},i.a.createElement("p",{className:"".concat(a.text," ").concat(a.linkTopText)},"Tap to copy the link"),i.a.createElement("div",{className:a.link,title:this.state.referralLink,onClick:this.copyLink.bind(this,this.state.referralLink)},i.a.createElement("p",null,this.state.referralLink.slice(0,40),this.state.referralLink.length>40?"...":""))),i.a.createElement(Da.j,{variant:"button",className:a.inviteByEmail,onClick:function(){return e.props.history.push("/profile/invite-friends")}},"Invite by email")),i.a.createElement("div",{className:"".concat(a.innerContainer," mobile-without-margin")},i.a.createElement("div",{className:a.referralInfoContainer},i.a.createElement("div",{className:"referral people"},i.a.createElement("p",{className:"referral-text"},"Referred people"),i.a.createElement("p",{className:"referral-count"},l)),i.a.createElement("div",{className:"referral pools"},i.a.createElement("p",{className:"referral-text"},"Referred pools"),i.a.createElement("p",{className:"referral-count"},d)))),this.state.info&&this.state.info.referrals.length?i.a.createElement("div",{className:"".concat(a.innerContainer," mobile-without-margin")},i.a.createElement("h3",{className:a.sectionTitle},"HISTORY LIST"),i.a.createElement("ul",{className:a.historyList},this.state.info.referrals.map(function(e,t){return i.a.createElement("li",{className:"item",key:"history-".concat(t)},i.a.createElement("div",{className:"info"},i.a.createElement("p",{className:"email"},e.email),i.a.createElement("p",{className:"action"},nv[e.action]||e.action)),i.a.createElement("p",{className:"credits"},"+ $",e.amount))}))):null),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);iv.defaultProps={classes:{}};var ov=C()(Object(T.withStyles)(ev),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt),a=Object(n.useContext)(zi).region;return i.a.createElement(iv,Object.assign({region:a},t,e))}),rv=function(e){return{container:{display:"flex",flexDirection:"column",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif",color:"#161616","& *":{boxSizing:"border-box"}},innerContainer:{maxWidth:"400px",width:"100%",transition:"all 0.2s ease"},paddingHorizontal:{padding:"0 15px"},alignItemsCenter:{display:"flex",alignItems:"center"},title:{fontSize:"18px"},text:{margin:"0",fontSize:"15px",fontWeight:"400"},marginTop:{marginTop:"30px"},marginBottom:{marginBottom:"20px"},listTitle:{margin:"25px 0 0",fontSize:"16px",fontWeight:"500"},verifiedList:{margin:"0",paddingLeft:"20px",color:e.palette.common.darkgray},button:{display:"block",width:"100%",maxWidth:"320px",padding:"10px 0",margin:"0 auto",border:"none",borderRadius:"30px",fontSize:"16px",color:e.palette.common.white,backgroundColor:e.palette.common.blue,outline:"none",cursor:"pointer",transition:"opacity 0.1s ease","&:hover":{opacity:"0.8"},"&[disabled]":{backgroundColor:e.palette.common.gray,"&:hover":{opacity:"1"}}},blueBox:{margin:"10px 0",padding:"12px",border:"1px solid ".concat(e.palette.common.blue),color:e.palette.common.blue,"& p":{margin:"0"}}}};function sv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var lv=function(e){Object(h.a)(a,e);var t=sv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder()},e.goBack=function(){e.props.history.goBack()},e.getStarted=function(){ie.setVerificationGetStarted("showed"),e.props.history.replace("/profile/verification")},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;if(this.state.showHostPlaceholder)return i.a.createElement(cl,{withLogout:!0});var n=a&&a.roles&&"Host"===a.roles[0].name;return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:"".concat(t.innerContainer," ").concat(t.paddingHorizontal)},i.a.createElement("div",{className:"".concat(t.alignItemsCenter)},i.a.createElement(Ds,null)),i.a.createElement("h2",{className:t.title},n?"Becoming a Verified Host on Swimply":"Becoming a Verified Swimmer on Swimply"),i.a.createElement("p",{className:"".concat(t.text," ").concat(t.marginBottom)},n?"To increase the trust and safety of the Swimply community, we allow hosts to become verified by providing a valid ID and proof of pool ownership (a utility bill or something)":"To increase the trust and safety of the Swimply community, we allow Swimmers to become verified by providing a valid government issued ID"),i.a.createElement("div",{className:t.blueBox},i.a.createElement("p",null,"This information is not shown to Guests and is stored securely in the Swimply data base.")),i.a.createElement("p",{className:t.listTitle},"Why becomes verified?"),i.a.createElement("ul",{className:t.verifiedList},n?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Verified Hosts receive a Verified Badge which results in increased credibility and more bookings.")),i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Priority Payments. Verified Hosts get paid faster; within 24-48 hours of the booking.")),i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Priority visibility in search results."))):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Receive exclusive access to pools that only accept Verified Swimmers.")),i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Verified Swimmers are 75% more likely to get approved for a booking.")),i.a.createElement("li",{className:"item"},i.a.createElement("p",null,"Some pools are only \u201cPre-approved\u201d for verified swimmers.")))),i.a.createElement("div",{className:t.marginTop},i.a.createElement("button",{onClick:this.getStarted,className:t.button},"Get started")))))}}]),a}(n.Component);lv.defaultProps={classes:{}};var dv=C()(Object(T.withStyles)(rv),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(lv,Object.assign({},t,e))}),cv=function(e){return{container:{overflow:"hidden",position:"relative",padding:"4px 0",boxSizing:"border-box",borderRadius:"30px",backgroundColor:"#EAEAEA","& *":{boxSizing:"border-box"}},progress:{position:"absolute",top:"0",marginLeft:"-100%",height:"100%",width:"100%",backgroundColor:e.palette.common.blue,transition:"all 0.3s ease-in-out"}}};function mv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var uv=function(e){Object(h.a)(a,e);var t=mv(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.progress,style:{transform:"translateX(".concat(this.props.percentage,"%)")}}))}}]),a}(n.Component);uv.defaultProps={percentage:0};var pv=C()(Object(T.withStyles)(cv))(uv),vv=function(e){return{container:{display:"flex",flexDirection:"column",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif",color:"#161616","& *":{boxSizing:"border-box"}},innerContainer:{maxWidth:"400px",width:"100%",transition:"all 0.2s ease"},paddingHorizontal:{padding:"0 15px"},alignItemsCenter:{display:"flex",alignItems:"center"},flexColumn:{display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:"18px"},text:{margin:"0",fontSize:"14px",fontWeight:"400",color:e.palette.common.darkgray},marginVertical:{margin:"15px 0"},marginTop:{marginTop:"30px"},marginBottom:{marginBottom:"15px"},button:{padding:"15px",marginBottom:"15px",border:"1px solid #cdcdcd",cursor:"pointer",transition:"all 0.1s ease-in-out","&:hover":{borderColor:e.palette.common.blue,opacity:"0.8"}},buttonTitle:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 0 10px 0",fontSize:"16px",fontWeight:"500","& .right-blue-arrow":{fontSize:"20px",color:e.palette.common.blue},"& .text":{display:"flex",alignItems:"center"},"& .text:before":{content:"''",display:"inline-block",marginRight:"6px",width:"26px",height:"26px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"},"&.passport .text:before":{height:"18px",backgroundImage:"url(/img/screens/verification/passport.png)"},"&.owner .text:before":{width:"20px",backgroundImage:"url(/img/screens/verification/owner.png)"},"&.booking .text:before":{width:"24px",height:"24px",backgroundImage:"url(/img/screens/verification/booking.png)"}},buttonText:{margin:"0"},verifiedProgressIcons:{display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:"4px","& .verified":{display:"flex",alignItems:"center",color:e.palette.common.blue,zIndex:"10",filter:"grayscale(1)","&:before":{content:"''",display:"inline-block",width:"22px",height:"24px",background:"url(/img/commons/verified-white-border.png) no-repeat center/contain"},"&.active":{filter:"grayscale(0)"}}},progressBarContainer:{margin:"15px 0 40px"},alertMessage:{display:"flex","&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/alert.png)"}}}};function gv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var hv=function(e){Object(h.a)(a,e);var t=gv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder()},e.goBack=function(){e.props.history.goBack()},e.navigateTo=function(t){e.props.history.push(t)},e.getPercentage=function(){var t=e.props.user,a=t&&t.roles&&"Host"===t.roles[0].name,n=t&&t.verifications,i=n&&n.length&&Wt.isVerified(n,a),o=n&&n.length&&Wt.getVerifiedPluses(n,a);return i&&0===o.length?a?33.33:50:i&&1===o.length?a?66.66:100:i&&2===o.length?100:0},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;if(this.state.showHostPlaceholder)return i.a.createElement(cl,{withLogout:!0});var n=a&&a.roles&&"Host"===a.roles[0].name,o=a&&a.verifications,r=o&&o.length&&Wt.isVerified(o,n),s=o&&o.length&&Wt.getVerifiedPluses(o,n),l=o&&o.length&&o.find(function(e){return e.passport_drive_url}),d=l&&o.find(function(e){return e.img_id_approved}),c=o&&o.length&&o.find(function(e){return e.pool_proof_url}),m=c&&o.find(function(e){return e.img_proof_approved}),u=o&&o.length&&o.find(function(e){return e.successful_booking}),p=l&&!d||c&&!m;return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:"".concat(t.innerContainer," ").concat(t.paddingHorizontal)},i.a.createElement("div",{className:"".concat(t.alignItemsCenter)},i.a.createElement(Ds,null)),i.a.createElement("h2",{className:t.title},"VERIFICATION PROGRESS"),i.a.createElement("div",{className:t.progressBarContainer},i.a.createElement("div",{className:t.verifiedProgressIcons},i.a.createElement("span",{className:"verified ".concat(r?"active":"")}),i.a.createElement("span",{className:"verified ".concat(r&&s.length>=1?"active":"")},"+"),n?i.a.createElement("span",{className:"verified ".concat(r&&s.length>=2?"active":"")},"++"):null),i.a.createElement(pv,{percentage:this.getPercentage()}),p?i.a.createElement("p",{className:t.alertMessage},"(Waiting for Swimply approval)"):null),i.a.createElement("p",{className:"".concat(t.text," ").concat(t.marginBottom)},"To be verified entirely you need"),i.a.createElement("div",{onClick:this.navigateTo.bind(this,"/profile/verification-first-step"),className:t.button},i.a.createElement("p",{className:"".concat(t.buttonTitle," passport")},i.a.createElement("span",{className:"text"},"Upload your ID"),i.a.createElement("i",{className:"right-blue-arrow fa ".concat(l?"fa-check-circle":"fa-angle-right"),"aria-hidden":"true"})),i.a.createElement("p",{className:t.text},"Best way to be 100% certain you\u2019re not a robot.")),n?i.a.createElement("div",{onClick:this.navigateTo.bind(this,"/profile/verification-second-step"),className:t.button},i.a.createElement("p",{className:"".concat(t.buttonTitle," owner")},i.a.createElement("span",{className:"text"},"Upload proof of ownership"),i.a.createElement("i",{className:"right-blue-arrow fa ".concat(c?"fa-check-circle":"fa-angle-right"),"aria-hidden":"true"})),i.a.createElement("p",{className:t.text},"Just a quick photo of a utility bill with your name and address.")):null,i.a.createElement("div",{className:t.button},i.a.createElement("p",{className:"".concat(t.buttonTitle," booking")},i.a.createElement("span",{className:"text"},n?"Host a successful booking!":"Enjoy a swim!"),i.a.createElement("i",{className:"right-blue-arrow fa ".concat(u?"fa-check-circle":""),"aria-hidden":"true"})),i.a.createElement("p",{className:t.text},"Experience the awesomeness of Swimply.")))))}}]),a}(n.Component);hv.defaultProps={classes:{}};var fv=C()(Object(T.withStyles)(vv),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(hv,Object.assign({},t,e))}),kv=function(e){return{container:{display:"flex",flexDirection:"column",maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif",color:"#161616","& *":{boxSizing:"border-box"}},innerContainer:{maxWidth:"400px",width:"100%",transition:"all 0.2s ease"},paddingHorizontal:{padding:"0 15px"},alignItemsCenter:{display:"flex",alignItems:"center"},flexColumn:{display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:"18px"},text:{margin:"0",fontSize:"15px",fontWeight:"400"},marginVertical:{margin:"15px 0"},marginTop:{marginTop:"30px"},marginBottom:{marginBottom:"20px"},uploadImageContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 0",border:"1px dashed #CDCDCD",borderRadius:"6px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundColor:"#F8F8F8",cursor:"pointer"},uploadImageText:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:"200px",textAlign:"center","&:before":{content:"''",display:"inline-block",marginBottom:"8px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"},"&.passport:before":{width:"50px",height:"30px",backgroundImage:"url(/img/screens/verification/passport.png)"},"&.owner:before":{width:"30px",height:"50px",backgroundImage:"url(/img/screens/verification/owner.png)"},"&.hidden":{opacity:"0"}},alert:{display:"flex","&:before":{content:"''",display:"inline-block",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/alert.png)"}},button:{display:"block",width:"100%",maxWidth:"320px",padding:"10px 0",margin:"0 auto",border:"none",borderRadius:"30px",fontSize:"16px",color:e.palette.common.white,backgroundColor:e.palette.common.blue,outline:"none",cursor:"pointer",transition:"opacity 0.1s ease","&:hover":{opacity:"0.8"},"&[disabled]":{backgroundColor:e.palette.common.gray,"&:hover":{opacity:"1"}}},alertMessage:{display:"flex","&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",backgroundImage:"url(/img/commons/alert.png)"}},hiddenInput:{opacity:0,height:0,width:0}}};function bv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var yv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveUserVerifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserVerificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveUserVerifications"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:127,source:{body:"mutation saveUserVerifications($data: UserVerificationInput!) {\n    saveUserVerifications(data: $data) {\n        status\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xv=function(e){Object(h.a)(a,e);var t=bv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1,showHostPlaceholder:Wt.handleHostPlaceholder(),image:null,modified:!1,errorMessage:""},e.dataWasLoaded=!1,e.imageInput=i.a.createRef(),e.handleData=function(){var t=e.props,a=t.user,n=t.step;a&&(1===n||2===n)&&a.verifications&&a.verifications[0]&&(e.dataWasLoaded=!0,e.setState({image:1===n?a.verifications[0].passport_drive_url:a.verifications[0].pool_proof_url}))},e.handleImage=function(){var t=e.imageInput.files[0];if(t){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var n=a.result,i=t.name,o=t.size/1024/1024;/jpg|jpeg|png|gif/.test(i.toLowerCase())?o<5?e.setState({image:n,modified:!0,errorMessage:""}):e.setState({errorMessage:"Image size should be less than 5MB."}):e.setState({errorMessage:"The image must be a valid type."})}}},e.triggerImageInput=function(){e.imageInput.click()},e.handleErrorMessage=function(t){e.setState({errorMessage:t})},e.goBack=function(){e.props.history.goBack()},e.logout=function(){ie.logout(),e.props.history.replace("/")},e.getPercentageByStep=function(e){switch(e){case 1:return 0;case 2:return 33.33;case 3:return 66.66;default:return 0}},e.handleDisable=function(){return!e.state.image&&(1===e.props.step||2===e.props.step)},e.goToNext=function(){e.props.history.goBack()},e.handleUser=function(){var t=e.props,a=t.user,n=t.step,i=a.verifications&&a.verifications[0]?a.verifications[0]:{};1===n?i.passport_drive_url=e.state.image:i.pool_proof_url=e.state.image,e.props.handleUser(Object(u.a)({},a,{verifications:[i]}))},e.upload=function(){e.setState({loading:!0},Object(m.a)(c.a.mark(function t(){var a,n,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={step:e.props.step,user_id:e.props.user&&e.props.user.id},1===e.props.step?a.passport_drive_url=e.state.image:a.pool_proof_url=e.state.image,t.next=5,e.props.client.mutate({mutation:yv,variables:{data:a}});case 5:n=t.sent,(i=n.data.saveUserVerifications).status?(e.handleUser(),e.setState({loading:!1,errorMessage:""},e.goToNext)):e.setState({loading:!1,errorMessage:i.message}),t.next=22;break;case 10:if(t.prev=10,t.t0=t.catch(0),console.log("error",t.t0),"Unauthenticated."!==Gt(t.t0)){t.next=21;break}return t.next=17,e.props.refreshToken(e.props.history);case 17:"ok"===t.sent&&e.upload(),t.next=22;break;case 21:e.setState({loading:!1,errorMessage:"Something went wrong."});case 22:case"end":return t.stop()}},t,null,[[0,10]])})))},e.submit=function(){1===e.props.step||2===e.props.step?e.state.image&&!e.state.modified?e.goToNext():e.upload():e.props.history.goBack()},e.getButtonText=function(){var t=e.props.step;return 1===t||2===t?e.state.image&&!e.state.modified?"Next":"Upload":"Next"},e.renderUploadImage=function(){var t=e.props,a=t.classes,n=1===t.step;return i.a.createElement("div",{onClick:e.triggerImageInput},i.a.createElement("div",{className:a.uploadImageContainer,style:{backgroundImage:e.state.image?"url(".concat(e.state.image,")"):""}},i.a.createElement("p",{className:"".concat(a.uploadImageText," ").concat(n?"passport":"owner"," ").concat(e.state.image?"hidden":"")},n?"+ Upload Driver's License or Passport Photo":"+ Upload proof of ownership")),i.a.createElement("p",{className:a.alertMessage},"This will be store securely and will not be shared"))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleData()}},{key:"componentDidUpdate",value:function(e){this.dataWasLoaded||this.props.user===e.user||this.handleData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,o=t.description,r=t.step;return this.state.showHostPlaceholder?i.a.createElement(cl,{withLogout:!0}):i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:a.container},i.a.createElement("div",{className:"".concat(a.innerContainer," ").concat(a.paddingHorizontal)},i.a.createElement("div",{className:"".concat(a.alignItemsCenter)},i.a.createElement(Ds,null)),i.a.createElement("div",{className:a.marginVertical},i.a.createElement(pv,{percentage:this.getPercentageByStep(r)})),i.a.createElement(Us,{message:this.state.errorMessage,hide:this.handleErrorMessage.bind(this,"")}),i.a.createElement("h2",{className:a.title},n),i.a.createElement("p",{className:"".concat(a.text," ").concat(a.marginBottom)},o),1===r||2===r?this.renderUploadImage():null,i.a.createElement("div",{className:a.marginTop},i.a.createElement("button",{onClick:this.submit,className:a.button,disabled:this.handleDisable()},this.getButtonText()))),i.a.createElement("input",{ref:function(t){return e.imageInput=t},type:"file",accept:"image/*",onChange:this.handleImage,className:a.hiddenInput})),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);xv.defaultProps={classes:{},title:"",description:"",step:0};var Nv=C()(Object(T.withStyles)(kv),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement(xv,Object.assign({},t,e))});function Sv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var wv=function(e){Object(h.a)(a,e);var t=Sv(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return i.a.createElement(Nv,{step:1,title:"Upload ID page",description:"Make sure the picture is clear and matches your username"})}}]),a}(n.Component);function _v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ev=function(e){Object(h.a)(a,e);var t=_v(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return i.a.createElement(Nv,{step:2,title:"Verify pool ownership",description:"Upload a utility bill with the same name address as your pool listing"})}}]),a}(n.Component);function Fv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}n.Component;var Cv=function(e){return{container:{maxWidth:"400px"},subTitle:{marginTop:"5px",fontWeight:"100",fontSize:"15px",color:"black"},closeButton:{position:"absolute",top:"5px",right:"5px",width:"20px",height:"20px",cursor:"pointer","& img":{width:"100%"}},list:{margin:"0",paddingLeft:"20px",color:e.palette.common.darkgray},buttonsContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px"},button:{width:"100%",maxWidth:"270px",padding:"10px 0",transition:"opacity 0.1s ease-in-out","&:first-child":{marginBottom:"10px"},"&:hover":{opacity:"0.8"}}}};function Tv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Pv=function(e){Object(h.a)(a,e);var t=Tv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={show:!0},e.close=function(){e.setState({show:!1})},e.joinAsSwimmer=function(){e.props.handlePopup(!1),window.headerComponent.handleSignup()},e.goToSearch=function(){e.props.history.push("/search")},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=window.innerWidth<600,a=t?Vc.a:Qc.a,n=t?{direction:"up"}:{};return i.a.createElement(Je.a,{style:{backgroundColor:"transparent"},fullScreen:t,open:!0},i.a.createElement(a,Object.assign({in:this.state.show,onExited:this.props.handlePopup.bind(null,!1)},n),i.a.createElement(tt.a,null,i.a.createElement("span",{className:e.closeButton,onClick:this.close},i.a.createElement("img",{src:"/img/close-button.png",alt:"Close icon"})),i.a.createElement(Oe.a,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement(Oe.a,{variant:"h3"},"A quick note Before we show you some awesome pools."),i.a.createElement(Oe.a,{variant:"p",className:e.subTitle},"In order to receive your referral bonus you will need to"),i.a.createElement("ul",{className:e.list},i.a.createElement("li",null,i.a.createElement("p",null,"Create an account with a profile picture and bio")),i.a.createElement("li",null,i.a.createElement("p",null,"Confirm your email address."))),i.a.createElement("div",{className:e.buttonsContainer},i.a.createElement(Ae.a,{className:e.button,onClick:this.joinAsSwimmer},"Create account now"),i.a.createElement(Ae.a,{className:e.button,onClick:this.goToSearch},"Show me the pools")))))))}}]),a}(n.Component),Iv=C()(Object(T.withStyles)(Cv,{withTheme:!0}),je.a);Pv.defaultsProps={classes:{},handlePopup:function(){}};var Dv=Iv(Pv),Ov=function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul":{padding:"0",margin:"0",listStyleType:"none"}},innerContainer:{maxWidth:"700px",width:"100%",padding:"0 15px",transition:"all 0.2s ease","&.mobile-without-margin":{"@media (max-width: 400px)":{padding:"0"}},"@media (max-width: 500px)":{textAlign:"center"}},header:{display:"flex",alignItems:"center",justifyContent:"center",padding:"150px 0",background:"url(/img/screens/referral/header.png) no-repeat center/cover","& img":{width:"300px"},"& h1":{height:0,width:0,opacity:0},"@media (max-width: 500px)":{padding:"80px 0",textAlign:"center","& img":{width:"170px"}},"@media (max-width: 400px)":{padding:"65px 0"}},sectionTitle:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:e.palette.common.black,"&:before":{content:"''",display:"inline-block",width:"30px",height:"30px",marginRight:"10px",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center","@media (max-width: 500px)":{width:"50px",height:"50px",margin:"0 0 10px 0"}},"&.swimmer:before":{backgroundImage:"url('/img/screens/profile/reffered-people.png')"},"&.pool:before":{backgroundImage:"url('/img/screens/profile/reffered-pools.png')"},"@media (max-width: 500px)":{flexDirection:"column",alignItems:"center"}},text:{fontSize:"14px",fontWeight:"400",color:e.palette.common.black},bold:{fontSize:"14px",fontWeight:"bold",color:e.palette.common.black},credits:{fontSize:"14px",fontWeight:"bold",color:e.palette.common.blue},button:{display:"block",maxWidth:"280px",width:"100%",marginTop:"25px",padding:"15px 0",border:"none",borderRadius:"30px",fontSize:"16px",fontWeight:"700",backgroundColor:"#12BFEA",color:e.palette.common.white,cursor:"pointer",transition:"all 0.2s ease",outline:"none","&:hover":{opacity:"0.8"},"&.border":{padding:"13px 0",border:"2px solid #12BFEA",backgroundColor:"transparent",color:"#12BFEA","&:hover":{opacity:"0.8",backgroundColor:"#12BFEA",color:e.palette.common.white}},"@media (max-width: 500px)":{margin:"15px auto 0"}},divider:{margin:"30px 0",height:"1px",backgroundColor:"#E3E3E3"},invitedPersonContainer:{display:"flex",alignItems:"center",width:"100%","& .avatar":{width:"60px",height:"60px",marginRight:"15px","@media (max-width: 500px)":{width:"45px",height:"45px",margin:"0 0 10px"}},"& p":{margin:"0",fontSize:"25px",fontWeight:"700",color:e.palette.common.black},"@media (max-width: 500px)":{flexDirection:"column"}}}};function Rv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Av={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getInviter"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"token"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getInviter"},arguments:[{kind:"Argument",name:{kind:"Name",value:"token"},value:{kind:"Variable",name:{kind:"Name",value:"token"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111,source:{body:"query getInviter ($token: String) {\n    getInviter (token: $token) {\n        firstname\n        img_url\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Bv=function(e){Object(h.a)(a,e);var t=Rv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,showInfoPopup:!1,inviter:null},e.handleUser=function(){ie.getAccessToken()&&e.props.history.replace("/profile")},e.handleReferralCode=function(){var t=new URLSearchParams(e.props.location.search).get("code");ie.setReferralToken(t),e.setState({loading:!0},Object(m.a)(c.a.mark(function a(){var n,i;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.client.query({query:Av,variables:{token:t},fetchPolicy:"network-only"});case 3:n=a.sent,i=n.data.getInviter,e.setState({loading:!1,inviter:i}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error",a.t0),e.setState({loading:!1});case 12:case"end":return a.stop()}},a,null,[[0,8]])})))},e.handleInfoPopup=function(t){e.setState({showInfoPopup:t})},e.joinAsSwimmer=function(){e.props.history.push("/search")},e.joinAsHost=function(){e.props.history.push("/listyourpool")},e.getProfileImage=function(e){return e||window.location.origin+"/img/profile-icon.png"},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleUser(),this.handleReferralCode()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.inviter&&this.state.inviter.firstname,a=this.state.inviter&&this.state.inviter.img_url;return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("header",{className:e.header},i.a.createElement("img",{src:"".concat(window.location.origin,"/img/Swimply-logo-white.png"),alt:"Swimply"}),i.a.createElement("h1",null,"Swimply")),i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:e.invitedPersonContainer},i.a.createElement(Da.a,{className:"avatar",src:this.getProfileImage(a),alt:"Avatar"}),i.a.createElement("p",null,t," invited you to join Swimply"))),i.a.createElement("div",{className:e.innerContainer},i.a.createElement("h2",{className:"".concat(e.sectionTitle," swimmer")},"A pool of your own-on demand"),i.a.createElement("p",{className:e.text},"Enjoy private, beautiful pools by the hour and receive a",i.a.createElement("span",{className:e.credits}," $5 "),"Swimply credit just for signing up!"),i.a.createElement("p",{className:e.text},"(",t," will receive ",i.a.createElement("span",{className:e.credits},"$5")," too!)"),i.a.createElement("button",{className:"".concat(e.button," border"),onClick:this.handleInfoPopup.bind(this,!0)},"Discover pools nearby!")),i.a.createElement("div",{className:"".concat(e.innerContainer," mobile-without-margin")},i.a.createElement("div",{className:e.divider})),i.a.createElement("div",{className:e.innerContainer},i.a.createElement("h2",{className:"".concat(e.sectionTitle," pool")},"Become a Swimply Host"),i.a.createElement("p",{className:e.text},"Earn an effortless income and become a Summer hero by hosting contact-free reservations on your own terms."),i.a.createElement("p",{className:e.bold},"Referal bonus: Earn an additional ",i.a.createElement("span",{className:e.credits},"$50")," after your first reservation!"),i.a.createElement("button",{className:e.button,onClick:this.joinAsHost},"Learn more and Become a Host"))),this.state.showInfoPopup&&i.a.createElement(Dv,{handlePopup:this.handleInfoPopup}),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);Bv.defaultProps={classes:{}};var Mv=C()(Object(T.withStyles)(Ov),je.a,b.b)(Bv),jv=function(e){return{container:{maxWidth:"1170px",margin:"0 auto",width:"100%",padding:"40px 0",boxSizing:"border-box",fontFamily:"'Poppins', sans-serif","& *":{boxSizing:"border-box"},"& ul":{margin:"0",padding:"0",listStyleType:"none"}},innerContainer:{maxWidth:"400px",width:"100%",padding:"0 15px",transition:"all 0.2s ease","@media (max-width: 500px)":{textAlign:"center"}},avatarContainer:{display:"flex",alignItems:"center",margin:"20px 0","& .avatar":{width:"60px",height:"60px"},"& .name":{marginLeft:"5px",fontSize:"20px",fontWeight:"500",color:e.palette.common.black}},verifiedList:{display:"flex",flexWrap:"wrap","& .verified-item":{display:"flex",padding:"5px 0",alignItems:"center",width:"50%",fontSize:"15px",fontWeight:"400",color:e.palette.common.darkgray,"&:before":{content:"''",display:"inline-block",width:"18px",height:"18px",marginRight:"8px",background:"url(/img/commons/check.png) no-repeat center/contain"}}},description:{margin:"24px 0 16px",fontSize:"14px",fontWeight:"400",color:e.palette.common.darkgray},createdAt:{marginTop:"15px",fontSize:"12px",fontWeight:"400",color:"#b4b7b8"},divider:{height:"1px",marginTop:"15px",backgroundColor:"#E5E5E5"}}};function Lv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Wv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pooldetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pool"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_access_instruction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shallow_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deep_end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additional_amenities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restroom_access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max_guests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_children_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"guests_infants_allowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email_verified_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"privacy_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cancellation_policy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"additional_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_unavailabilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bookings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"swimmer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability_window"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_group_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unavailable_dates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price_per_guest_min_capacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2019,source:{body:"query pooldetailsQuery($id: Int!){\n  pool(id: $id){\n    id\n    title\n    description\n    full_address\n    street_number\n    state\n    city\n    zip_code\n    special_access_instruction\n    hourly_price\n    rating\n    pool_width\n    pool_length\n    shallow_end\n    deep_end\n    restroom_description\n    additional_amenities\n    restroom_access\n    max_guests\n    guests_children_allowed\n    guests_infants_allowed\n    instant_booking\n    pool_instant{\n      date\n      time\n    }\n    latitude\n    longitude\n    status\n    createdBy{\n      id,\n      stripe_id,\n      email,\n      img_url,\n      firstname,\n      lastname,\n      description,\n      created_at,\n      email_verified_at,\n      roles {\n        name\n      }\n      verifications {\n        successful_booking\n        passport_drive_url\n        pool_proof_url\n        img_id_approved\n        img_proof_approved\n      }\n    }\n    privacy_policy {\n      id\n      title\n      description\n    }\n    cancellation_policy {\n      id\n      title\n      description\n    }\n    images {\n      url\n      cover\n      pool_id\n      id\n    }\n    reviews {\n      id\n      comment\n      rating\n      created_at\n      commentedBy{\n        id\n        firstname\n        lastname\n        img_url\n      }\n    }\n    amenities {\n      id\n      name\n      icon\n      active\n    }\n    rules {\n      id\n      name\n      icon\n      active\n    }\n    additional_rules\n    pool_unavailabilities{\n      date\n      time\n    }\n    bookings{\n      date\n      from\n      to\n      status\n      swimmer {\n        id\n        img_url\n      }\n    }\n    distance\n    advance_notice\n    availability_window\n    months{\n      month_number\n      is_available\n    }\n    available_from\n    available_to\n    instant_group_size\n    default_instant_booking\n    unavailable_dates\n    price_per_guest_enabled\n    price_per_guest\n    price_per_guest_min_capacity\n    owner_verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},zv=function(e){Object(h.a)(a,e);var t=Lv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,host:null},e.handleData=function(){var t=e.props.match.params&&e.props.match.params.poolId;t&&e.setState({loading:!0},Object(m.a)(c.a.mark(function a(){var n,i,o;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.client.query({query:Wv,variables:{id:parseInt(t)},fetchPolicy:"network-only"});case 3:n=a.sent,i=n.data.pool,e.setState({loading:!1},function(){i&&e.setState({host:Object(u.a)({},i.createdBy,{verifications:i.owner_verifications})})}),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error",a.t0),o=Gt(a.t0),e.setState({loading:!1,errorMessage:o});case 13:case"end":return a.stop()}},a,null,[[0,8]])})))},e.getProfileImage=function(e){return e||window.location.origin+"/img/profile-icon.png"},e.getJoinedYear=function(e){if(e&&e.created_at)return gt()(e.created_at).year()},e.getName=function(e){return"Hi, I'm ".concat(e&&e.firstname?e.firstname:"")},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleData()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.host;return i.a.createElement(Da.j,{variant:"body1",component:"div"},i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:"".concat(e.alignItemsCenter," ").concat(e.spaceBetween)},i.a.createElement(Ds,null)),i.a.createElement("div",{className:e.avatarContainer},i.a.createElement(io,{className:"avatar",src:this.getProfileImage(t&&t.img_url),alt:"Avatar",user:t}),i.a.createElement("p",{className:"name"},this.getName(t))),t&&i.a.createElement("ul",{className:e.verifiedList},t.verifications&&t.verifications[0]&&t.verifications[0].passport_drive_url&&t.verifications[0].img_id_approved?i.a.createElement("li",{className:"verified-item"},"Identity"):null,t.verifications&&t.verifications[0]&&t.verifications[0].pool_proof_url&&t.verifications[0].img_proof_approved?i.a.createElement("li",{className:"verified-item"},"Title"):null,t&&t.email_verified_at?i.a.createElement("li",{className:"verified-item"},"Email"):null,t.verifications&&t.verifications[0]&&t.verifications[0].successful_booking?i.a.createElement("li",{className:"verified-item"},"Successful hosting"):null),i.a.createElement("p",{className:e.description},t&&t.description),t&&t.created_at?i.a.createElement("p",{className:e.createdAt},"Joined in ",this.getJoinedYear(t)):null,i.a.createElement("div",{className:e.divider}))),this.state.loading&&i.a.createElement(ut,null))}}]),a}(n.Component);zv.defaultProps={classes:{}};var Uv=C()(Object(T.withStyles)(jv),je.a,b.b)(zv);function Hv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Gv=function(e){Object(h.a)(a,e);var t=Hv(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.label,n=e.text,o=e.checked,r=e.onClick,s=e.containerClass,l=e.iconClass,d=e.classes;return i.a.createElement(Oe.a,{className:"".concat(d.container," ").concat(s),variant:"body1",component:"div",onClick:r},i.a.createElement("div",{className:d.iconWrap},i.a.createElement("img",{src:t,alt:"Icon",className:"".concat(d.icon," ").concat(l)})),i.a.createElement("div",{className:d.textWrap},i.a.createElement("p",{className:d.label},a),i.a.createElement("p",{className:d.text},n)),i.a.createElement("div",{className:d.checkBoxIconWrap},o?i.a.createElement("img",{src:"".concat(window.location.origin,"/img/commons/checked.png"),className:d.checkBoxIcon,alt:"checked"}):i.a.createElement("div",{className:d.unCheckedCircle})))}}]),a}(n.Component);Gv.defaultProps={onClick:function(){},containerStyles:{},iconStyle:{},label:"",text:"",checked:!1,icon:null};var Yv=C()(Object(T.withStyles)(function(){return{container:{display:"flex",padding:"15px",cursor:"pointer"},iconWrap:{display:"flex",justifyContent:"center",width:"12%"},textWrap:{width:"76%",padding:"0 5px"},checkBoxIconWrap:{display:"flex",justifyContent:"center",width:"12%"},icon:{width:"20px",height:"20px"},label:{margin:"0",fontSize:"16px",fontFamily:"'Poppins', sans-serif",color:"#161616"},text:{fontSize:"14px",fontFamily:"'Poppins', sans-serif",color:"#232325"},unCheckedCircle:{width:"18px",height:"18px",borderRadius:"50%",border:"1px solid #727171"},checkBoxIcon:{width:"20px",height:"20px"}}}))(Gv);function qv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Vv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"acceptChatRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accept_chat_rules"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptChatRules"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accept_chat_rules"},value:{kind:"Variable",name:{kind:"Name",value:"accept_chat_rules"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:156,source:{body:"mutation acceptChatRules($accept_chat_rules: Boolean!) {\n    acceptChatRules(accept_chat_rules: $accept_chat_rules) {\n        status\n        message\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$v=function(e){Object(h.a)(a,e);var t=qv(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!1,safe:!1,polite:!1,keep:!1,disable:!0,errorMessage:"",replaceTo:"/messages"},e.handleParams=function(){var t=e.props.location,a=t&&t.state&&t.state.replaceTo?t.state.replaceTo:"/messages";e.setState({replaceTo:a})},e.goBack=function(){e.props.history.goBack()},e.onChange=function(t){e.setState(Object(Fe.a)({},t,!e.state[t]),e.handleDisable)},e.handleDisable=function(){e.setState({disable:!e.state.safe||!e.state.polite||!e.state.keep})},e.accept=function(){e.state.loading||e.state.disable||e.setState({loading:!0},function(){e.props.client.mutate({mutation:Vv,variables:{accept_chat_rules:!0}}).then(function(t){var a=t.data.acceptChatRules;e.setState({loading:!1},function(){a.status?(e.props.handleUser(Object(u.a)({},e.props.user||{},{accept_chat_rules:!0})),e.props.history.replace(e.state.replaceTo)):e.setState({errorMessage:a.message})})}).catch(function(t){console.log("error",t),e.setState({loading:!1},Object(m.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Unauthenticated."!==Gt(t)){a.next=6;break}return a.next=4,e.props.refreshToken(e.props.history);case 4:"ok"===a.sent&&e.accept();case 6:case"end":return a.stop()}},a)})))})})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleParams(),ie.getAccessToken()||this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},i.a.createElement("div",{className:e.innerContainer},i.a.createElement("div",{className:e.backContainer},i.a.createElement("font",{onClick:this.goBack},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":!0}))),i.a.createElement("div",{className:e.padding},i.a.createElement("p",{className:e.title},"Swimply Chat: Rules of Conduct")),i.a.createElement(Yv,{onClick:this.onChange.bind(this,"safe"),checked:this.state.safe,label:"Be Safe",text:"Don\u2019t share any personal information like your phone number, address etc.",icon:"".concat(window.location.origin,"/img/screens/chat-rules/safe.png"),iconClass:e.safeIcon}),i.a.createElement(Yv,{onClick:this.onChange.bind(this,"polite"),checked:this.state.polite,label:"Be Polite",text:"Foul and discriminatory language won\u2019t fly.",icon:"".concat(window.location.origin,"/img/screens/chat-rules/smile.png"),containerClass:e.checkBoxBorder}),i.a.createElement(Yv,{onClick:this.onChange.bind(this,"keep"),checked:this.state.keep,label:"Keep It Here",text:"Don\u2019t arrange payments outside of the platfrom. We won\u2019t be able to protect them and it\u2019s against our terms of use.",icon:"".concat(window.location.origin,"/img/screens/chat-rules/payment.png"),iconClass:e.keepIcon}),i.a.createElement("div",{className:"".concat(e.messageContainer," ").concat(e.padding)},i.a.createElement("img",{className:e.messageIcon,src:"".concat(window.location.origin,"/img/screens/chat-rules/info.png"),alt:"chat rules info"}),i.a.createElement("p",{className:e.message},"Violating these rules may result in account suspension.")),i.a.createElement("div",{className:"".concat(e.buttonContainer," ").concat(e.padding)},i.a.createElement(Oe.a,{className:"".concat(this.state.disable?e.disableButton:""),variant:"button",onClick:this.accept},"Accept"))),this.state.loading&&i.a.createElement(ut,{loading:!0}))}}]),a}(n.Component);$v.defaultProps={};var Qv=C()(Object(T.withStyles)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:"1170px",width:"100%",margin:"0 auto",padding:"0 15px",boxSizing:"border-box","& *":{boxSizing:"border-box"},"@media (max-width: 420px)":{padding:"0"}},innerContainer:{maxWidth:"420px",padding:"20px 0"},padding:{padding:"0 18px"},backContainer:{display:"inline-block",padding:"8px 18px",fontWeight:"500",fontSize:"34px",color:e.palette.common.black,cursor:"pointer"},disableButton:{background:"#ccc",cursor:"default","&:hover":{background:"#ccc"}},title:{marginTop:"10px",marginBottom:"15px",fontSize:"18px",fontFamily:"'Poppins', sans-serif",color:"#161616"},messageContainer:{display:"flex",flexDirection:"row"},messageIcon:{width:"20px",height:"20px",marginRight:"15px"},message:{margin:"0",fontSize:"14px",fontFamily:"'Poppins', sans-serif",color:"#161616"},buttonContainer:{maxWidth:"420px",marginTop:"20px"},keepIcon:{width:"22px",height:"20px"},safeIcon:{width:"20px",height:"28px"},checkBoxBorder:{borderTop:"1px solid #EAEAEA",borderBottom:"1px solid #EAEAEA"}}}),je.a,b.b)(function(e){var t=Object(n.useContext)(Jt);return i.a.createElement($v,Object.assign({},t,e))});function Kv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Jv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"myFavoritesPools"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"count"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myFavoritesPools"},arguments:[{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"Variable",name:{kind:"Name",value:"count"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default_instant_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hourly_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_instant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"advance_notice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available_to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasMorePages"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:889,source:{body:"query myFavoritesPools($count:Int!, $page: Int){\n    myFavoritesPools(count:$count, page:$page){\n        data {\n            id\n            title\n            months{\n                month_number\n                is_available\n            }\n            description\n            rating\n            instant_booking\n            default_instant_booking\n            images {\n                url\n                cover\n            }\n            state\n            city\n            zip_code\n            hourly_price\n            pool_instant{\n                date\n                time\n            }\n            advance_notice\n            available_from\n            available_to\n        },\n        paginatorInfo {\n            count,\n            currentPage\n            firstItem,\n            hasMorePages,\n            lastItem,\n            lastPage\n            perPage,\n            total\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zv=function(e){Object(h.a)(a,e);var t=Kv(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={page:1,limit:10,favorites:[],hasMore:!1,loading:!1},n.getFavorites=n.getFavorites.bind(Object(g.a)(n)),n.loadMore=n.loadMore.bind(Object(g.a)(n)),n.handleFavoriteChange=n.handleFavoriteChange.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getFavorites()}},{key:"getFavorites",value:function(){var e=this;this.props.client.query({query:Jv,variables:{count:this.state.limit,page:this.state.page||1},fetchPolicy:"network-only"}).then(function(t){var a=t.data.myFavoritesPools.data.map(function(e){return e.isFavorite=!0,e});e.setState(function(e){return{loading:!1,isLoadingMore:!1,favorites:[].concat(Object(pt.a)(e.favorites),Object(pt.a)(a)),hasMore:t.data.myFavoritesPools.paginatorInfo.hasMorePages}})})}},{key:"loadMore",value:function(){var e=this;this.setState(function(e){return{page:e.page+1,isLoadingMore:!0}},function(){e.getFavorites()})}},{key:"handleFavoriteChange",value:function(e){var t=this.state.favorites.findIndex(function(t){return t.id===e});this.setState({favorites:_()(this.state.favorites,{$splice:[[t,1]]})})}},{key:"render",value:function(){var e=this.state,t=e.favorites,a=e.loading,n=e.hasMore,o=e.isLoadingMore,r=this.props.classes;return i.a.createElement("div",null,i.a.createElement(Bo.a,{pageStart:0,loadMore:this.loadMore,hasMore:!o&&n},i.a.createElement(Oe.a,{variant:"body1",component:"div"},!0===a?i.a.createElement(ut,{loading:a}):"",i.a.createElement("div",{className:r.container},i.a.createElement(Xo,{searchResults:t,onFavoriteChange:this.handleFavoriteChange,loading:a,showDistance:!1,noData:i.a.createElement("div",{className:r.textCenter},i.a.createElement(Oe.a,{variant:"subheading"},"No pools added to favorites.")),showDefaultInstantBooking:!0,showFavPopup:!0,withSocialIcons:!0}))),i.a.createElement("div",{className:r.loader},i.a.createElement(dt.a,{sizeUnit:"px",size:50,color:"#00ADE2",loading:o}))))}}]),a}(i.a.Component);function Xv(){return i.a.createElement(cl,{withLogout:!0})}function eg(e,t){return Wt.handleHostPlaceholder()?t?Xv:cl:e}var tg=[{key:"ContactHost",exact:!0,path:"/contact-host/:id/pool/:poolId",component:wp,layout:nn},{key:"ChatRules",exact:!0,path:"/chat-rules",component:Qv,layout:nn},{key:"findpool",exact:!0,path:"/",component:Gn,layout:Ka},{key:"findpool",exact:!0,path:"/findpool",component:Gn,layout:Ka},{key:"listyourpool",exact:!0,path:"/listyourpool",component:ti,layout:pn},{key:"listyourpool1",exact:!0,path:"/listyourpool-1",component:ti,layout:pn},{key:"listyourpool2",exact:!0,path:"/listyourpool-2",component:ti,layout:pn},{key:"listyourpool3",exact:!0,path:"/listyourpool-3",component:ti,layout:pn},{key:"results",exact:!0,path:"/search",component:sr,layout:nn},{key:"poodetails",exact:!0,path:"/pooldetails/:id",component:Ro,layout:nn},{key:"payment",exact:!0,path:"/payment/:id",component:wo,layout:nn},{key:"host-info",exact:!0,path:"/host-info/:poolId",component:Uv,layout:nn},{key:"messagesList",exact:!0,path:"/messages",component:kr,layout:nn},{key:"convertions",exact:!0,path:"/conversations",component:Lr,layout:nn},{key:"paymenthod",exact:!0,path:"/payment-method",component:as,layout:nn},{key:"favorites",exact:!0,path:"/favorites",component:C()(Object(T.withStyles)(function(e){return{container:{maxWidth:"1170px",marginTop:"25px",margin:"0 auto",width:"100%",padding:"0 15px",minHeight:"100vh","@media (max-width:1170px)":{maxWidth:"992px"},"@media (max-width:1000px)":{maxWidth:"750px"},"@media (max-width:767px)":{width:"calc(100% - 30px)",overflowY:"scroll"},"@media (max-height: 800px) and (min-width: 560px)":{minHeight:"800px"}},loader:{display:"flex",justifyContent:"center"},textCenter:{textAlign:"center"}}}),je.a,b.b)(Zv),layout:nn},{key:"reservation-success",exact:!0,path:"/reservation-success",component:sl,layout:nn},{key:"reservation-cancelled",exact:!0,path:"/reservation-cancelled",component:nl,layout:nn},{key:"reservation-status",exact:!0,path:"/reservation-status",component:Xs,layout:nn},{key:"my-reservation",exact:!0,path:"/my-reservation",component:us,layout:nn},{key:"reservation-detail",exact:!0,path:"/reservation-details/:id",component:Es,layout:nn},{key:"edit-reservation",exact:!0,path:"/edit-reservation/:id",component:Qs,layout:nn},{key:"profile",exact:!0,path:"/profile",component:eg(Tl,!0),layout:nn},{key:"edit-public-info",exact:!0,path:"/profile/edit-public-info",component:eg(Mp,!0),layout:nn},{key:"edit-private-info",exact:!0,path:"/profile/edit-private-info",component:eg(Gp,!0),layout:nn},{key:"edit-profile-notifications",exact:!0,path:"/profile/edit-profile-notifications",component:eg(Qp,!0),layout:nn},{key:"profile-contact-us",exact:!0,path:"/profile/contact-us",component:eg(Xp,!0),layout:nn},{key:"profile-referral-info",exact:!0,path:"/profile/referral-info",component:eg(ov,!0),layout:nn},{key:"profile-verification-get-started",exact:!0,path:"/profile/verification-get-started",component:eg(dv,!0),layout:nn},{key:"profile-verification-first-screen",exact:!0,path:"/profile/verification",component:eg(fv,!0),layout:nn},{key:"profile-verification-first-step",exact:!0,path:"/profile/verification-first-step",component:eg(wv,!0),layout:nn},{key:"profile-verification-second-step",exact:!0,path:"/profile/verification-second-step",component:eg(Ev,!0),layout:nn},{key:"referral",exact:!0,path:"/referral",component:Mv,layout:nn},{key:"reset-password",exact:!0,path:"/reset-password/:token",component:Gl,layout:nn},{key:"referafriend",exact:!0,path:"/referafriend/:id",component:Dl,layout:nn},{key:"verifyemail",exact:!0,path:"/verify-email/:token",component:Al,layout:nn},{key:"profile-invite-friends",exact:!0,path:"/profile/invite-friends",component:eg(zl),layout:nn},{key:"reviews",exact:!0,path:"/reviews/:bookingId",component:Ql,layout:nn},{key:"hostreviews",exact:!0,path:"/reviews-host/:bookingId",component:ed,layout:nn},{key:"thankyou",exact:!0,path:"/thankyou",component:nd,layout:nn},{key:"contactus",exact:!0,path:"/contactus",component:rd,layout:nn},{key:"TermsAndConditions",exact:!0,path:"/termsandconditions",component:le?ud:dd,layout:nn},{key:"privacy",exact:!0,path:"/privacy",component:gd,layout:nn},{key:"host",exact:!0,path:"/host",component:eg(wd),layout:nn},{key:"hostprompt",exact:!0,path:"/hostprompt",component:Cd,layout:nn},{key:"addpool",exact:!0,path:"/addpool",component:eg(Su),layout:nn},{key:"location",exact:!0,path:"/location",component:Md,layout:nn},{key:"EditPool",exact:!0,path:"/editpool",component:Cu,layout:nn},{key:"DailyCalendarManagement",exact:!0,path:"/daily-calendar-management/:id",component:hu,layout:nn},{key:"CalendarManagement",exact:!0,path:"/calendar-management/:id",component:au,layout:nn},{key:"Tutorial",exact:!0,path:"/tutorial/:id",component:Au,layout:nn},{key:"HostReservation",exact:!0,path:"/host-reservation",component:ip,layout:nn},{key:"SuggestNewTime",exact:!0,path:"/host-reservation/suggest-new-time",component:bp,layout:nn},{key:"mtermsandconditions",exact:!0,path:"/mobile-termsandconditions",component:le?ud:dd,layout:sn},{key:"mprivacy",exact:!0,path:"/mobile-privacy",component:gd,layout:sn},{key:"notfound",exact:!0,path:"*",component:Iu,layout:nn}],ag=a(960),ng=function(e){var t=e.component,a=e.layout,n=Object(eo.a)(e,["component","layout"]);return i.a.createElement(ag.a,n,i.a.createElement(a,{component:t}))};function ig(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var og=function(e){Object(h.a)(a,e);var t=ig(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).hidePopup=n.hidePopup.bind(Object(g.a)(n)),n.handleGoToSettings=n.handleGoToSettings.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"hidePopup",value:function(){this.context.hideIncompleteHostPopup()}},{key:"handleGoToSettings",value:function(){var e=jt.find(function(e){return"pricingGuest"===e.value}).value;ie.setHostPoolID(this.props.poolId),this.props.onPressSettings(e),this.hidePopup()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Je.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",style:{minWidth:300}},i.a.createElement(tt.a,{style:{maxWidth:500}},i.a.createElement("div",{className:e.popupContent},i.a.createElement("span",{className:"bold"},"Welcome back"," "+(this.props.hostName||""),"!"),"We have added a few things to make managing your pool even easier while maximizing your profits."),i.a.createElement(hi.a,{className:e.actionButtons},i.a.createElement(Oe.a,{variant:"button",onClick:this.hidePopup},"CANCEL"),i.a.createElement(Ae.a,{className:e.mainButton,onClick:this.handleGoToSettings},"SETTINGS"))))}}]),a}(n.Component);og.contextType=ua;var rg=C()(Object(T.withStyles)(function(e){return{popupContent:{fontFamily:'"Poppins", sans-serif',fontSize:17,margin:"25px 10px 30px",display:"flex",textAlign:"center",lineHeight:1.7,flexDirection:"column",justifyContent:"center",alignItems:"center","& .bold":{fontSize:19,fontWeight:600,margin:"15px 0"}},mainButton:{color:"white",backgroundColor:"#22bfea"},actionButtons:{justifyContent:"space-between","& button, span":{cursor:"pointer"}}}}),b.b)(og),sg=a(223),lg=a.n(sg),dg=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"checkOnAuByLatLon",value:function(e,t){return e<-9.1&&e>-44.5&&t>112.1&&t<155.1}},{key:"getUserLocation",value:function(){var e=Object(m.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(m.a)(c.a.mark(function e(a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,t.getUserLocationByIp();case 3:e.t1=e.sent,(0,e.t0)(e.t1),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(){},function(){});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserLocationByIp",value:function(){var e=Object(m.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){lg.a.get("https://api.2ip.ua/geo.json?ip=").then(function(t){var a=t.data;e(a&&"AU"===a.country_code?"au":"us")}).catch(function(){lg.a.get("https://ipapi.co/json/").then(function(t){var a=t.data;e(a&&"AU"===a.country_code?"au":"us")}).catch(function(){lg.a.get("https://api.hostip.info").then(function(t){var a=t.data,n=a&&a.match(/<countryAbbrev>(.*)<\/countryAbbrev>/)[1];e("AU"===n?"au":"us")}).catch(function(){e("us")})})})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}();function cg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var mg={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"savePopup"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EmailsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savePopup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:85,source:{body:"mutation savePopup($data: EmailsInput!) {\n  savePopup(data: $data) {\n    status\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ug=function(e){Object(h.a)(a,e);var t=cg(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={emailInput:"",zipCodeInput:"",needToShow:!1,stopShowingPopup:!0},n.sendUserEmail=n.sendUserEmail.bind(Object(g.a)(n)),n.hidePopup=n.hidePopup.bind(Object(g.a)(n)),n.handleInput=n.handleInput.bind(Object(g.a)(n)),n.mouseLeaveTimeoutId=null,n.popupTimerId=null,n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){ie.getAccessToken()||localStorage.getItem("popupShowed")||this.setState({needToShow:!0})}},{key:"sendUserEmail",value:function(){var e=this.state.emailInput,t=this.state.zipCodeInput;e&&(this.hidePopup(),this.props.client.mutate({mutation:mg,variables:{data:{email:e,zip_code:t}}}).then(this.setState({inputValue:"",stopShowingPopup:!0})).catch(function(e){console.error(e)}))}},{key:"hidePopup",value:function(){var e=this;this.setState({needToShow:!1,stopShowingPopup:!0},function(){localStorage.setItem("popupShowed",e.state.stopShowingPopup)})}},{key:"handleInput",value:function(e){this.setState(Object(Fe.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return this.state.needToShow?(console.info("Promo popup was triggered, but hidden"),null):null}}]),a}(n.Component),pg=C()(Object(T.withStyles)(function(e){return{}}),b.b)(ug);function vg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var gg={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"amenities"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amenities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71,source:{body:"query amenities{\n  amenities{\n    id\n    name\n    icon\n    active\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},hg=function(e){Object(h.a)(a,e);var t=vg(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={region:"",baseName:"",loading:!0,showDiscountPopup:!1,allAmenities:[],showHostPopup:!1,poolId:"",hostName:"",userRole:"swimmer",infoIsComplete:!0,onPressSettings:function(){}},n.setRegion=n.setRegion.bind(Object(g.a)(n)),n.replaceRegion=n.replaceRegion.bind(Object(g.a)(n)),n.setShowDiscountPopup=n.setShowDiscountPopup.bind(Object(g.a)(n)),n.showIncompleteHostPopup=n.showIncompleteHostPopup.bind(Object(g.a)(n)),n.hideIncompleteHostPopup=n.hideIncompleteHostPopup.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=ie.getCurrentRegion();if(ie.setCurrentRegion(""),window.location.pathname.match(Bt)||t){var a=t||window.location.pathname.match(Bt)[1];this.setRegion(a)}else dg.getUserLocation().then(function(t){"au"===t&&e.setRegion(t,!0)});this.props.client.query({query:gg,fetchPolicy:"network-only"}).then(function(t){null!==t.data.amenities?e.setState({allAmenities:t.data.amenities,loading:!1}):e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1})})}},{key:"setShowDiscountPopup",value:function(){this.setState({showDiscountPopup:!0})}},{key:"setRegion",value:function(e,t){var a=this;this.setState({region:e,baseName:"us"===e?"":"au",loading:!1},function(){t&&a.replaceRegion(e)})}},{key:"showIncompleteHostPopup",value:function(e){ie.setHostDataIncomplete(),this.setState({poolId:e.lastPool,hostName:e.userName,userRole:e.userRole,infoIsComplete:e.infoIsComplete,onPressSettings:e.onPressSettings,showHostPopup:!0})}},{key:"hideIncompleteHostPopup",value:function(){this.setState({showHostPopup:!1})}},{key:"replaceRegion",value:function(e){var t=Bt.test(window.location.pathname)?window.location.pathname.replace(Bt,"/".concat(e,"/")):window.location.pathname.replace(/^/,"/".concat(e));window.location.replace(t)}},{key:"render",value:function(){return i.a.createElement(ua.Provider,{value:{region:this.state.region,showPopupCallback:this.setShowDiscountPopup,showIncompleteHostPopup:this.showIncompleteHostPopup,hideIncompleteHostPopup:this.hideIncompleteHostPopup,allAmenities:this.state.allAmenities}},i.a.createElement(Ne.a,{basename:"/".concat(this.state.baseName)},i.a.createElement(Se.a,null,tg.map(function(e){var t=e.key,a=e.exact,n=e.path,o=e.component,r=e.layout,s=e.allowedRoles;return i.a.createElement(ng,{key:t,exact:a,path:n,component:o,layout:r,allowedRoles:s})}))),this.state.showDiscountPopup?i.a.createElement(pg,null):null,this.state.showHostPopup?i.a.createElement(rg,{onPressSettings:this.state.onPressSettings,poolId:this.state.poolId,hostName:this.state.hostName,userRole:this.state.userRole,infoIsComplete:this.state.infoIsComplete}):null)}}]),a}(n.Component),fg=C()(b.b)(hg),kg=(a(946),a(947),function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"initialization",value:function(){window.fbAsyncInit=function(){FB.init({appId:"2309754092473688",xfbml:!0,cookie:!0,version:"v5.0"}),FB.AppEvents.logPageView()},function(e,t,a){var n=e.getElementsByTagName(t)[0],i=n,o=n;e.getElementById(a)||((o=e.createElement(t)).id=a,o.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk")}}]),e}()),bg=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"initialization",value:function(){AppleID&&AppleID.auth.init({clientId:"com.swimply.ios.auth",scope:"email name",redirectURI:"".concat(window.location.origin,"/"),usePopup:!0})}}]),e}();a(949);var yg=C()(Object(T.withStyles)(gn))(function(e){var t=e.classes;return i.a.createElement("div",{className:t.appDownload},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.appDownloadFlex},i.a.createElement("div",{className:t.appDownloadContent},i.a.createElement(Oe.a,{variant:"h2"},"Download. Wind down."),i.a.createElement(Oe.a,{component:"p"},"Use the Swimply app to find pools faster, communicate easier, and get the best deals in your area"),i.a.createElement("div",{className:t.playStoreBlock},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/appstore.png",onClick:function(){window.open("https://apps.apple.com/us/app/swimply-book-beautiful-pools/id1472785554")}}),i.a.createElement("img",{alt:"",src:window.location.origin+"/img/playstore.png",onClick:function(){window.open("https://play.google.com/store/apps/details?id=com.swimply.android")}}))),i.a.createElement("div",{className:t.imageBlock},i.a.createElement("img",{alt:"",src:window.location.origin+"/img/phones-img.png"})))))});function xg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(k.a)(e);if(t){var i=Object(k.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var Ng={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ME"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push_notification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mail_notifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnyPool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notify_olden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_last_four"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_brand"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unread_message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_connect_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tutorial_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country_code_swimmer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_pool_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_chat_rules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referral_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripe_account_onboard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successful_booking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passport_drive_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pool_proof_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_id_approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img_proof_approved"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"favorites"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:674,source:{body:"query ME {\n  me {\n    id\n    firstname\n    lastname\n    email\n    description\n    phone_number\n    text_notifications\n    push_notification\n    mail_notifications\n    country\n    img_url\n    isAnyPool\n    roles {\n      name\n    }\n    notify_olden\n    card_last_four\n    card_brand\n    referral\n    unread_message\n    stripe_connect_url\n    stripe_id\n    awards\n    tutorial_status\n    country_code\n    country_code_swimmer\n    last_pool_id\n    accept_chat_rules\n    referral_balance\n    stripe_account_onboard\n    verifications {\n      successful_booking\n      passport_drive_url\n      pool_proof_url\n      img_id_approved\n      img_proof_approved\n    }\n    favorites\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Sg={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"refreshToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RefreshTokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refreshToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"access_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refresh_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires_in"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token_type"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:171,source:{body:"mutation refreshToken($data: RefreshTokenInput!) {\n    refreshToken(data: $data) {\n        access_token\n        refresh_token\n        expires_in\n        token_type\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},wg=function(e){Object(h.a)(a,e);var t=xg(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={user:null,region:le?"us":"au",showJoyspaceBanner:!1,echo:n.echo,newMessage:null,loading:!0,chatDetails:null},n.getUserContextValue=n.getUserContextValue.bind(Object(g.a)(n)),n.setUser=n.setUser.bind(Object(g.a)(n)),n.handleUser=n.handleUser.bind(Object(g.a)(n)),n.getRegionContextValue=n.getRegionContextValue.bind(Object(g.a)(n)),n.toggleJoyspaceModal=n.toggleJoyspaceModal.bind(Object(g.a)(n)),n.updateUserFavorites=n.updateUserFavorites.bind(Object(g.a)(n)),n.getChatContextValue=n.getChatContextValue.bind(Object(g.a)(n)),n.handleChat=n.handleChat.bind(Object(g.a)(n)),n}return Object(v.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){(new Image).src=pe}},{key:"componentDidMount",value:function(){bg.initialization(),kg.initialization(),vl.init({client:xe}),this.handleUser()}},{key:"setEcho",value:function(e){var t=this,a=ie.getAccessToken();if(a){var n="Bearer ".concat(a);this.echo&&this.echo.connector&&this.echo.connector.options&&this.echo.connector.options.auth&&this.echo.connector.options.auth.headers&&this.echo.connector.options.auth.headers.authorization!==n||!this.echo?(this.echo=new S.a({host:ue,broadcaster:"socket.io",client:N.a,rejectUnauthorized:!1,auth:{headers:{authorization:n}}}),this.echo.connector.socket.on("connect",function(){t.setState({loading:!1,echo:t.echo},function(){t.setChatListener(e)}),console.log("Socket connected")}),this.echo.connector.socket.on("disconnect",function(e){console.log("disconnect",e)}),this.echo.connector.socket.on("connect_error",function(e){console.log("connect_error",e)}),this.echo.connector.socket.on("connect_timeout",function(e){console.log("connect_timeout",e)})):this.setState({loading:!1})}else this.setState({loading:!1})}},{key:"setChatListener",value:function(e){var t=this,a=Object(u.a)({},this.getUserContextValue(),this.getContextValue());ie.init(a),this.channel="chat.".concat(e.id),this.echo.private(this.channel).events["message.created"]||(console.log("Creating new listener to chat ",this.channel),this.echo.private(this.channel).listen(".message.created",function(e){console.log("root new message",e),t.setState({newMessage:e.message})}))}},{key:"getContextValue",value:function(){return{toggleJoyspaceModal:this.toggleJoyspaceModal,echo:this.state.echo}}},{key:"getUserContextValue",value:function(){return{user:this.state.user,handleUser:this.handleUser,refreshToken:this.refreshToken,updateUserFavorites:this.updateUserFavorites,newMessage:this.state.newMessage}}},{key:"getRegionContextValue",value:function(){return{region:this.state.region}}},{key:"getChatContextValue",value:function(){return{chatDetails:this.state.chatDetails,handleChat:this.handleChat}}},{key:"handleChat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({chatDetails:e})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"handleUser",value:function(e){var t=this;e?(this.setUser(e),this.setEcho(e)):xe.query({query:Ng,fetchPolicy:"network-only"}).then(function(e){var a=e.data.me;a&&t.setUser(a),t.setEcho(a)}).catch(function(){var e=Object(m.a)(c.a.mark(function e(a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Gt(a),!ie.getAccessToken()||"Unauthenticated."!==n){e.next=5;break}return e.next=5,t.refreshToken();case 5:t.setState({loading:!1});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"updateUserFavorites",value:function(e){this.setState(function(t){return{user:_()(t.user,{favorites:{$set:e}})}})}},{key:"refreshToken",value:function(){var e=Object(m.a)(c.a.mark(function e(t){var a,n,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ie.getRefreshToken())){e.next=22;break}return e.prev=2,e.next=5,xe.mutate({mutation:Sg,variables:{data:{refresh_token:a}}});case 5:return n=e.sent,i=n.data.refreshToken,ie.setAccessToken(i.access_token),ie.setRefreshToken(i.refresh_token),this.handleUser(),e.abrupt("return","ok");case 13:return e.prev=13,e.t0=e.catch(2),console.log("Refresh token error: ",e.t0.graphQLErrors),ie.setAccessToken(""),ie.logout(),t&&t.push("/"),e.abrupt("return","logout");case 20:e.next=26;break;case 22:return ie.setAccessToken(""),ie.logout(),t&&t.push("/"),e.abrupt("return","logout");case 26:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"toggleJoyspaceModal",value:function(e){this.setState({showJoyspaceBanner:e})}},{key:"render",value:function(){var e=this;return this.state.loading?i.a.createElement("div",null):i.a.createElement(sa.Provider,{value:this.getContextValue()},i.a.createElement(Jt.Provider,{value:this.getUserContextValue()},i.a.createElement(zi.Provider,{value:this.getRegionContextValue()},i.a.createElement(lr.Provider,{value:this.getChatContextValue()},i.a.createElement(b.a,{client:xe},i.a.createElement(y.SnackbarProvider,{maxSnack:3},i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{open:this.state.showJoyspaceBanner,onClose:function(){return e.setState({showJoyspaceBanner:!1})}},i.a.createElement(yg,null)),i.a.createElement(fg,null))))))))}}]),a}(n.Component);a(951);l.a.initialize({gtmId:"GTM-5HNCNXB",dataLayerName:"PageDataLayer"}),r.a.render(i.a.createElement(wg,null),document.getElementById("root"))}},[[433,2,1]]]);
//# sourceMappingURL=main.715ff842.chunk.js.map